function W5(t,i){for(var a=0;a<i.length;a++){const o=i[a];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in t)){const u=Object.getOwnPropertyDescriptor(o,c);u&&Object.defineProperty(t,c,u.get?u:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function a(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(c){if(c.ep)return;c.ep=!0;const u=a(c);fetch(c.href,u)}})();function e_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rp={exports:{}},Mc={};var vb;function Q5(){if(vb)return Mc;vb=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(o,c,u){var f=null;if(u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:t,type:o,key:f,ref:c!==void 0?c:null,props:u}}return Mc.Fragment=i,Mc.jsx=a,Mc.jsxs=a,Mc}var yb;function J5(){return yb||(yb=1,Rp.exports=Q5()),Rp.exports}var e=J5(),Op={exports:{}},ze={};var bb;function e4(){if(bb)return ze;bb=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),j=Symbol.iterator;function E(I){return I===null||typeof I!="object"?null:(I=j&&I[j]||I["@@iterator"],typeof I=="function"?I:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,O={};function M(I,$,W){this.props=I,this.context=$,this.refs=O,this.updater=W||A}M.prototype.isReactComponent={},M.prototype.setState=function(I,$){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,$,"setState")},M.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function B(){}B.prototype=M.prototype;function T(I,$,W){this.props=I,this.context=$,this.refs=O,this.updater=W||A}var D=T.prototype=new B;D.constructor=T,k(D,M.prototype),D.isPureReactComponent=!0;var V=Array.isArray;function R(){}var Z={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function G(I,$,W){var fe=W.ref;return{$$typeof:t,type:I,key:$,ref:fe!==void 0?fe:null,props:W}}function ee(I,$){return G(I.type,$,I.props)}function Y(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function K(I){var $={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(W){return $[W]})}var le=/\/+/g;function F(I,$){return typeof I=="object"&&I!==null&&I.key!=null?K(""+I.key):$.toString(36)}function ve(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(R,R):(I.status="pending",I.then(function($){I.status==="pending"&&(I.status="fulfilled",I.value=$)},function($){I.status==="pending"&&(I.status="rejected",I.reason=$)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function U(I,$,W,fe,be){var we=typeof I;(we==="undefined"||we==="boolean")&&(I=null);var Ne=!1;if(I===null)Ne=!0;else switch(we){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(I.$$typeof){case t:case i:Ne=!0;break;case b:return Ne=I._init,U(Ne(I._payload),$,W,fe,be)}}if(Ne)return be=be(I),Ne=fe===""?"."+F(I,0):fe,V(be)?(W="",Ne!=null&&(W=Ne.replace(le,"$&/")+"/"),U(be,$,W,"",function(es){return es})):be!=null&&(Y(be)&&(be=ee(be,W+(be.key==null||I&&I.key===be.key?"":(""+be.key).replace(le,"$&/")+"/")+Ne)),$.push(be)),1;Ne=0;var it=fe===""?".":fe+":";if(V(I))for(var Fe=0;Fe<I.length;Fe++)fe=I[Fe],we=it+F(fe,Fe),Ne+=U(fe,$,W,we,be);else if(Fe=E(I),typeof Fe=="function")for(I=Fe.call(I),Fe=0;!(fe=I.next()).done;)fe=fe.value,we=it+F(fe,Fe++),Ne+=U(fe,$,W,we,be);else if(we==="object"){if(typeof I.then=="function")return U(ve(I),$,W,fe,be);throw $=String(I),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function ne(I,$,W){if(I==null)return I;var fe=[],be=0;return U(I,fe,"","",function(we){return $.call(W,we,be++)}),fe}function J(I){if(I._status===-1){var $=I._result;$=$(),$.then(function(W){(I._status===0||I._status===-1)&&(I._status=1,I._result=W)},function(W){(I._status===0||I._status===-1)&&(I._status=2,I._result=W)}),I._status===-1&&(I._status=0,I._result=$)}if(I._status===1)return I._result.default;throw I._result}var ae=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},te={map:ne,forEach:function(I,$,W){ne(I,function(){$.apply(this,arguments)},W)},count:function(I){var $=0;return ne(I,function(){$++}),$},toArray:function(I){return ne(I,function($){return $})||[]},only:function(I){if(!Y(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return ze.Activity=w,ze.Children=te,ze.Component=M,ze.Fragment=a,ze.Profiler=c,ze.PureComponent=T,ze.StrictMode=o,ze.Suspense=x,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,ze.__COMPILER_RUNTIME={__proto__:null,c:function(I){return Z.H.useMemoCache(I)}},ze.cache=function(I){return function(){return I.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(I,$,W){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var fe=k({},I.props),be=I.key;if($!=null)for(we in $.key!==void 0&&(be=""+$.key),$)!H.call($,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&$.ref===void 0||(fe[we]=$[we]);var we=arguments.length-2;if(we===1)fe.children=W;else if(1<we){for(var Ne=Array(we),it=0;it<we;it++)Ne[it]=arguments[it+2];fe.children=Ne}return G(I.type,be,fe)},ze.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},ze.createElement=function(I,$,W){var fe,be={},we=null;if($!=null)for(fe in $.key!==void 0&&(we=""+$.key),$)H.call($,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(be[fe]=$[fe]);var Ne=arguments.length-2;if(Ne===1)be.children=W;else if(1<Ne){for(var it=Array(Ne),Fe=0;Fe<Ne;Fe++)it[Fe]=arguments[Fe+2];be.children=it}if(I&&I.defaultProps)for(fe in Ne=I.defaultProps,Ne)be[fe]===void 0&&(be[fe]=Ne[fe]);return G(I,we,be)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(I){return{$$typeof:m,render:I}},ze.isValidElement=Y,ze.lazy=function(I){return{$$typeof:b,_payload:{_status:-1,_result:I},_init:J}},ze.memo=function(I,$){return{$$typeof:v,type:I,compare:$===void 0?null:$}},ze.startTransition=function(I){var $=Z.T,W={};Z.T=W;try{var fe=I(),be=Z.S;be!==null&&be(W,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(R,ae)}catch(we){ae(we)}finally{$!==null&&W.types!==null&&($.types=W.types),Z.T=$}},ze.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},ze.use=function(I){return Z.H.use(I)},ze.useActionState=function(I,$,W){return Z.H.useActionState(I,$,W)},ze.useCallback=function(I,$){return Z.H.useCallback(I,$)},ze.useContext=function(I){return Z.H.useContext(I)},ze.useDebugValue=function(){},ze.useDeferredValue=function(I,$){return Z.H.useDeferredValue(I,$)},ze.useEffect=function(I,$){return Z.H.useEffect(I,$)},ze.useEffectEvent=function(I){return Z.H.useEffectEvent(I)},ze.useId=function(){return Z.H.useId()},ze.useImperativeHandle=function(I,$,W){return Z.H.useImperativeHandle(I,$,W)},ze.useInsertionEffect=function(I,$){return Z.H.useInsertionEffect(I,$)},ze.useLayoutEffect=function(I,$){return Z.H.useLayoutEffect(I,$)},ze.useMemo=function(I,$){return Z.H.useMemo(I,$)},ze.useOptimistic=function(I,$){return Z.H.useOptimistic(I,$)},ze.useReducer=function(I,$,W){return Z.H.useReducer(I,$,W)},ze.useRef=function(I){return Z.H.useRef(I)},ze.useState=function(I){return Z.H.useState(I)},ze.useSyncExternalStore=function(I,$,W){return Z.H.useSyncExternalStore(I,$,W)},ze.useTransition=function(){return Z.H.useTransition()},ze.version="19.2.3",ze}var wb;function h0(){return wb||(wb=1,Op.exports=e4()),Op.exports}var N=h0();const Jt=e_(N),t4=W5({__proto__:null,default:Jt},[N]);var Pp={exports:{}},Rc={},Dp={exports:{}},zp={};var _b;function s4(){return _b||(_b=1,(function(t){function i(U,ne){var J=U.length;U.push(ne);e:for(;0<J;){var ae=J-1>>>1,te=U[ae];if(0<c(te,ne))U[ae]=ne,U[J]=te,J=ae;else break e}}function a(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var ne=U[0],J=U.pop();if(J!==ne){U[0]=J;e:for(var ae=0,te=U.length,I=te>>>1;ae<I;){var $=2*(ae+1)-1,W=U[$],fe=$+1,be=U[fe];if(0>c(W,J))fe<te&&0>c(be,W)?(U[ae]=be,U[fe]=J,ae=fe):(U[ae]=W,U[$]=J,ae=$);else if(fe<te&&0>c(be,J))U[ae]=be,U[fe]=J,ae=fe;else break e}}return ne}function c(U,ne){var J=U.sortIndex-ne.sortIndex;return J!==0?J:U.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();t.unstable_now=function(){return f.now()-m}}var x=[],v=[],b=1,w=null,j=3,E=!1,A=!1,k=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function D(U){for(var ne=a(v);ne!==null;){if(ne.callback===null)o(v);else if(ne.startTime<=U)o(v),ne.sortIndex=ne.expirationTime,i(x,ne);else break;ne=a(v)}}function V(U){if(k=!1,D(U),!A)if(a(x)!==null)A=!0,R||(R=!0,K());else{var ne=a(v);ne!==null&&ve(V,ne.startTime-U)}}var R=!1,Z=-1,H=5,G=-1;function ee(){return O?!0:!(t.unstable_now()-G<H)}function Y(){if(O=!1,R){var U=t.unstable_now();G=U;var ne=!0;try{e:{A=!1,k&&(k=!1,B(Z),Z=-1),E=!0;var J=j;try{t:{for(D(U),w=a(x);w!==null&&!(w.expirationTime>U&&ee());){var ae=w.callback;if(typeof ae=="function"){w.callback=null,j=w.priorityLevel;var te=ae(w.expirationTime<=U);if(U=t.unstable_now(),typeof te=="function"){w.callback=te,D(U),ne=!0;break t}w===a(x)&&o(x),D(U)}else o(x);w=a(x)}if(w!==null)ne=!0;else{var I=a(v);I!==null&&ve(V,I.startTime-U),ne=!1}}break e}finally{w=null,j=J,E=!1}ne=void 0}}finally{ne?K():R=!1}}}var K;if(typeof T=="function")K=function(){T(Y)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,F=le.port2;le.port1.onmessage=Y,K=function(){F.postMessage(null)}}else K=function(){M(Y,0)};function ve(U,ne){Z=M(function(){U(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return j},t.unstable_next=function(U){switch(j){case 1:case 2:case 3:var ne=3;break;default:ne=j}var J=j;j=ne;try{return U()}finally{j=J}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(U,ne){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var J=j;j=U;try{return ne()}finally{j=J}},t.unstable_scheduleCallback=function(U,ne,J){var ae=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ae+J:ae):J=ae,U){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=J+te,U={id:b++,callback:ne,priorityLevel:U,startTime:J,expirationTime:te,sortIndex:-1},J>ae?(U.sortIndex=J,i(v,U),a(x)===null&&U===a(v)&&(k?(B(Z),Z=-1):k=!0,ve(V,J-ae))):(U.sortIndex=te,i(x,U),A||E||(A=!0,R||(R=!0,K()))),U},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(U){var ne=j;return function(){var J=j;j=ne;try{return U.apply(this,arguments)}finally{j=J}}}})(zp)),zp}var jb;function i4(){return jb||(jb=1,Dp.exports=s4()),Dp.exports}var Bp={exports:{}},xs={};var Nb;function n4(){if(Nb)return xs;Nb=1;var t=h0();function i(x){var v="https://react.dev/errors/"+x;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+x+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(x,v,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:x,containerInfo:v,implementation:b}}var f=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(x,v){if(x==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return xs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,xs.createPortal=function(x,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(i(299));return u(x,v,null,b)},xs.flushSync=function(x){var v=f.T,b=o.p;try{if(f.T=null,o.p=2,x)return x()}finally{f.T=v,o.p=b,o.d.f()}},xs.preconnect=function(x,v){typeof x=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,o.d.C(x,v))},xs.prefetchDNS=function(x){typeof x=="string"&&o.d.D(x)},xs.preinit=function(x,v){if(typeof x=="string"&&v&&typeof v.as=="string"){var b=v.as,w=m(b,v.crossOrigin),j=typeof v.integrity=="string"?v.integrity:void 0,E=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?o.d.S(x,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:j,fetchPriority:E}):b==="script"&&o.d.X(x,{crossOrigin:w,integrity:j,fetchPriority:E,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},xs.preinitModule=function(x,v){if(typeof x=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=m(v.as,v.crossOrigin);o.d.M(x,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&o.d.M(x)},xs.preload=function(x,v){if(typeof x=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,w=m(b,v.crossOrigin);o.d.L(x,b,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},xs.preloadModule=function(x,v){if(typeof x=="string")if(v){var b=m(v.as,v.crossOrigin);o.d.m(x,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else o.d.m(x)},xs.requestFormReset=function(x){o.d.r(x)},xs.unstable_batchedUpdates=function(x,v){return x(v)},xs.useFormState=function(x,v,b){return f.H.useFormState(x,v,b)},xs.useFormStatus=function(){return f.H.useHostTransitionStatus()},xs.version="19.2.3",xs}var Sb;function t_(){if(Sb)return Bp.exports;Sb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),Bp.exports=n4(),Bp.exports}var Cb;function a4(){if(Cb)return Rc;Cb=1;var t=i4(),i=h0(),a=t_();function o(s){var n="https://react.dev/errors/"+s;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function u(s){var n=s,l=s;if(s.alternate)for(;n.return;)n=n.return;else{s=n;do n=s,(n.flags&4098)!==0&&(l=n.return),s=n.return;while(s)}return n.tag===3?l:null}function f(s){if(s.tag===13){var n=s.memoizedState;if(n===null&&(s=s.alternate,s!==null&&(n=s.memoizedState)),n!==null)return n.dehydrated}return null}function m(s){if(s.tag===31){var n=s.memoizedState;if(n===null&&(s=s.alternate,s!==null&&(n=s.memoizedState)),n!==null)return n.dehydrated}return null}function x(s){if(u(s)!==s)throw Error(o(188))}function v(s){var n=s.alternate;if(!n){if(n=u(s),n===null)throw Error(o(188));return n!==s?null:s}for(var l=s,h=n;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return x(g),s;if(y===h)return x(g),n;y=y.sibling}throw Error(o(188))}if(l.return!==h.return)l=g,h=y;else{for(var C=!1,z=g.child;z;){if(z===l){C=!0,l=g,h=y;break}if(z===h){C=!0,h=g,l=y;break}z=z.sibling}if(!C){for(z=y.child;z;){if(z===l){C=!0,l=y,h=g;break}if(z===h){C=!0,h=y,l=g;break}z=z.sibling}if(!C)throw Error(o(189))}}if(l.alternate!==h)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?s:n}function b(s){var n=s.tag;if(n===5||n===26||n===27||n===6)return s;for(s=s.child;s!==null;){if(n=b(s),n!==null)return n;s=s.sibling}return null}var w=Object.assign,j=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),T=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function K(s){return s===null||typeof s!="object"?null:(s=Y&&s[Y]||s["@@iterator"],typeof s=="function"?s:null)}var le=Symbol.for("react.client.reference");function F(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===le?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case M:return"Profiler";case O:return"StrictMode";case V:return"Suspense";case R:return"SuspenseList";case G:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case A:return"Portal";case T:return s.displayName||"Context";case B:return(s._context.displayName||"Context")+".Consumer";case D:var n=s.render;return s=s.displayName,s||(s=n.displayName||n.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Z:return n=s.displayName||null,n!==null?n:F(s.type)||"Memo";case H:n=s._payload,s=s._init;try{return F(s(n))}catch{}}return null}var ve=Array.isArray,U=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ae=[],te=-1;function I(s){return{current:s}}function $(s){0>te||(s.current=ae[te],ae[te]=null,te--)}function W(s,n){te++,ae[te]=s.current,s.current=n}var fe=I(null),be=I(null),we=I(null),Ne=I(null);function it(s,n){switch(W(we,n),W(be,s),W(fe,null),n.nodeType){case 9:case 11:s=(s=n.documentElement)&&(s=s.namespaceURI)?Vy(s):0;break;default:if(s=n.tagName,n=n.namespaceURI)n=Vy(n),s=Hy(n,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}$(fe),W(fe,s)}function Fe(){$(fe),$(be),$(we)}function es(s){s.memoizedState!==null&&W(Ne,s);var n=fe.current,l=Hy(n,s.type);n!==l&&(W(be,s),W(fe,l))}function ks(s){be.current===s&&($(fe),$(be)),Ne.current===s&&($(Ne),Tc._currentValue=J)}var Ts,Jr;function yn(s){if(Ts===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Ts=n&&n[1]||"",Jr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ts+s+Jr}var eo=!1;function to(s,n){if(!s||eo)return"";eo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(n){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(he){var ue=he}Reflect.construct(s,[],ge)}else{try{ge.call()}catch(he){ue=he}s.call(ge.prototype)}}else{try{throw Error()}catch(he){ue=he}(ge=s())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(he){if(he&&ue&&typeof he.stack=="string")return[he.stack,ue.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),C=y[0],z=y[1];if(C&&z){var X=C.split(`
`),oe=z.split(`
`);for(g=h=0;h<X.length&&!X[h].includes("DetermineComponentFrameRoot");)h++;for(;g<oe.length&&!oe[g].includes("DetermineComponentFrameRoot");)g++;if(h===X.length||g===oe.length)for(h=X.length-1,g=oe.length-1;1<=h&&0<=g&&X[h]!==oe[g];)g--;for(;1<=h&&0<=g;h--,g--)if(X[h]!==oe[g]){if(h!==1||g!==1)do if(h--,g--,0>g||X[h]!==oe[g]){var me=`
`+X[h].replace(" at new "," at ");return s.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",s.displayName)),me}while(1<=h&&0<=g);break}}}finally{eo=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?yn(l):""}function Cl(s,n){switch(s.tag){case 26:case 27:case 5:return yn(s.type);case 16:return yn("Lazy");case 13:return s.child!==n&&n!==null?yn("Suspense Fallback"):yn("Suspense");case 19:return yn("SuspenseList");case 0:case 15:return to(s.type,!1);case 11:return to(s.type.render,!1);case 1:return to(s.type,!0);case 31:return yn("Activity");default:return""}}function Ya(s){try{var n="",l=null;do n+=Cl(s,l),l=s,s=s.return;while(s);return n}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var kl=Object.prototype.hasOwnProperty,so=t.unstable_scheduleCallback,Xa=t.unstable_cancelCallback,Su=t.unstable_shouldYield,Cu=t.unstable_requestPaint,ws=t.unstable_now,Pf=t.unstable_getCurrentPriorityLevel,io=t.unstable_ImmediatePriority,Tl=t.unstable_UserBlockingPriority,Ka=t.unstable_NormalPriority,Df=t.unstable_LowPriority,El=t.unstable_IdlePriority,ku=t.log,zf=t.unstable_setDisableYieldValue,Jn=null,cs=null;function _i(s){if(typeof ku=="function"&&zf(s),cs&&typeof cs.setStrictMode=="function")try{cs.setStrictMode(Jn,s)}catch{}}var _s=Math.clz32?Math.clz32:If,Wa=Math.log,Bf=Math.LN2;function If(s){return s>>>=0,s===0?32:31-(Wa(s)/Bf|0)|0}var Qa=256,Ja=262144,er=4194304;function bn(s){var n=s&42;if(n!==0)return n;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function no(s,n,l){var h=s.pendingLanes;if(h===0)return 0;var g=0,y=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var z=h&134217727;return z!==0?(h=z&~y,h!==0?g=bn(h):(C&=z,C!==0?g=bn(C):l||(l=z&~s,l!==0&&(g=bn(l))))):(z=h&~y,z!==0?g=bn(z):C!==0?g=bn(C):l||(l=h&~s,l!==0&&(g=bn(l)))),g===0?0:n!==0&&n!==g&&(n&y)===0&&(y=g&-g,l=n&-n,y>=l||y===32&&(l&4194048)!==0)?n:g}function tr(s,n){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&n)===0}function Uf(s,n){switch(s){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tu(){var s=er;return er<<=1,(er&62914560)===0&&(er=4194304),s}function Al(s){for(var n=[],l=0;31>l;l++)n.push(s);return n}function wn(s,n){s.pendingLanes|=n,n!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Vf(s,n,l,h,g,y){var C=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var z=s.entanglements,X=s.expirationTimes,oe=s.hiddenUpdates;for(l=C&~l;0<l;){var me=31-_s(l),ge=1<<me;z[me]=0,X[me]=-1;var ue=oe[me];if(ue!==null)for(oe[me]=null,me=0;me<ue.length;me++){var he=ue[me];he!==null&&(he.lane&=-536870913)}l&=~ge}h!==0&&Eu(s,h,0),y!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=y&~(C&~n))}function Eu(s,n,l){s.pendingLanes|=n,s.suspendedLanes&=~n;var h=31-_s(n);s.entangledLanes|=n,s.entanglements[h]=s.entanglements[h]|1073741824|l&261930}function Au(s,n){var l=s.entangledLanes|=n;for(s=s.entanglements;l;){var h=31-_s(l),g=1<<h;g&n|s[h]&n&&(s[h]|=n),l&=~g}}function Lu(s,n){var l=n&-n;return l=(l&42)!==0?1:Es(l),(l&(s.suspendedLanes|n))!==0?0:l}function Es(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ee(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ll(){var s=ne.p;return s!==0?s:(s=window.event,s===void 0?32:db(s.type))}function Ml(s,n){var l=ne.p;try{return ne.p=s,n()}finally{ne.p=l}}var ji=Math.random().toString(36).slice(2),Bt="__reactFiber$"+ji,ts="__reactProps$"+ji,_n="__reactContainer$"+ji,Gi="__reactEvents$"+ji,Mu="__reactListeners$"+ji,Hf="__reactHandles$"+ji,Ru="__reactResources$"+ji,sr="__reactMarker$"+ji;function Rl(s){delete s[Bt],delete s[ts],delete s[Gi],delete s[Mu],delete s[Hf]}function jn(s){var n=s[Bt];if(n)return n;for(var l=s.parentNode;l;){if(n=l[_n]||l[Bt]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(s=Xy(s);s!==null;){if(l=s[Bt])return l;s=Xy(s)}return n}s=l,l=s.parentNode}return null}function ea(s){if(s=s[Bt]||s[_n]){var n=s.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return s}return null}function $i(s){var n=s.tag;if(n===5||n===26||n===27||n===6)return s.stateNode;throw Error(o(33))}function ta(s){var n=s[Ru];return n||(n=s[Ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function It(s){s[sr]=!0}var Ou=new Set,Pu={};function Nn(s,n){Yi(s,n),Yi(s+"Capture",n)}function Yi(s,n){for(Pu[s]=n,s=0;s<n.length;s++)Ou.add(n[s])}var ir=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},Pl={};function nr(s){return kl.call(Pl,s)?!0:kl.call(Ol,s)?!1:ir.test(s)?Pl[s]=!0:(Ol[s]=!0,!1)}function Xe(s,n,l){if(nr(n))if(l===null)s.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(n);return;case"boolean":var h=n.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(n);return}}s.setAttribute(n,""+l)}}function mt(s,n,l){if(l===null)s.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(n);return}s.setAttribute(n,""+l)}}function As(s,n,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(n,l,""+h)}}function Yt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Sn(s){var n=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Dl(s,n,l){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,n);if(!s.hasOwnProperty(n)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,y=h.set;return Object.defineProperty(s,n,{configurable:!0,get:function(){return g.call(this)},set:function(C){l=""+C,y.call(this,C)}}),Object.defineProperty(s,n,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){s._valueTracker=null,delete s[n]}}}}function De(s){if(!s._valueTracker){var n=Sn(s)?"checked":"value";s._valueTracker=Dl(s,n,""+s[n])}}function jt(s){if(!s)return!1;var n=s._valueTracker;if(!n)return!0;var l=n.getValue(),h="";return s&&(h=Sn(s)?s.checked?"true":"false":s.value),s=h,s!==l?(n.setValue(s),!0):!1}function sa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ao=/[\n"\\]/g;function wt(s){return s.replace(ao,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function zl(s,n,l,h,g,y,C,z){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),n!=null?C==="number"?(n===0&&s.value===""||s.value!=n)&&(s.value=""+Yt(n)):s.value!==""+Yt(n)&&(s.value=""+Yt(n)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),n!=null?Ni(s,C,Yt(n)):l!=null?Ni(s,C,Yt(l)):h!=null&&s.removeAttribute("value"),g==null&&y!=null&&(s.defaultChecked=!!y),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?s.name=""+Yt(z):s.removeAttribute("name")}function ar(s,n,l,h,g,y,C,z){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),n!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||n!=null)){De(s);return}l=l!=null?""+Yt(l):"",n=n!=null?""+Yt(n):l,z||n===s.value||(s.value=n),s.defaultValue=n}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=z?s.checked:!!h,s.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C),De(s)}function Ni(s,n,l){n==="number"&&sa(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function yt(s,n,l,h){if(s=s.options,n){n={};for(var g=0;g<l.length;g++)n["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=n.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&h&&(s[l].defaultSelected=!0)}else{for(l=""+Yt(l),n=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}n!==null||s[g].disabled||(n=s[g])}n!==null&&(n.selected=!0)}}function Xi(s,n,l){if(n!=null&&(n=""+Yt(n),n!==s.value&&(s.value=n),l==null)){s.defaultValue!==n&&(s.defaultValue=n);return}s.defaultValue=l!=null?""+Yt(l):""}function ia(s,n,l,h){if(n==null){if(h!=null){if(l!=null)throw Error(o(92));if(ve(h)){if(1<h.length)throw Error(o(93));h=h[0]}l=h}l==null&&(l=""),n=l}l=Yt(n),s.defaultValue=l,h=s.textContent,h===l&&h!==""&&h!==null&&(s.value=h),De(s)}function ai(s,n){if(n){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=n;return}}s.textContent=n}var Bl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function na(s,n,l){var h=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?s.setProperty(n,""):n==="float"?s.cssFloat="":s[n]="":h?s.setProperty(n,l):typeof l!="number"||l===0||Bl.has(n)?n==="float"?s.cssFloat=l:s[n]=(""+l).trim():s[n]=l+"px"}function ro(s,n,l){if(n!=null&&typeof n!="object")throw Error(o(62));if(s=s.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||n!=null&&n.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var g in n)h=n[g],n.hasOwnProperty(g)&&l[g]!==h&&na(s,g,h)}else for(var y in n)n.hasOwnProperty(y)&&na(s,y,n[y])}function rr(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Il=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(s){return Il.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ls(){}var lo=null;function or(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ra=null,Re=null;function $s(s){var n=ea(s);if(n&&(s=n.stateNode)){var l=s[ts]||null;e:switch(s=n.stateNode,n.type){case"input":if(zl(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+wt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var h=l[n];if(h!==s&&h.form===s.form){var g=h[ts]||null;if(!g)throw Error(o(90));zl(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(n=0;n<l.length;n++)h=l[n],h.form===s.form&&jt(h)}break e;case"textarea":Xi(s,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&yt(s,!!l.multiple,n,!1)}}}var ut=!1;function Ul(s,n,l){if(ut)return s(n,l);ut=!0;try{var h=s(n);return h}finally{if(ut=!1,(ra!==null||Re!==null)&&(Ld(),ra&&(n=ra,s=Re,Re=ra=null,$s(n),s)))for(n=0;n<s.length;n++)$s(s[n])}}function Cn(s,n){var l=s.stateNode;if(l===null)return null;var h=l[ts]||null;if(h===null)return null;l=h[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(o(231,n,typeof l));return l}var Ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lr=!1;if(Ys)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){lr=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{lr=!1}var ri=null,kn=null,Et=null;function Ki(){if(Et)return Et;var s,n=kn,l=n.length,h,g="value"in ri?ri.value:ri.textContent,y=g.length;for(s=0;s<l&&n[s]===g[s];s++);var C=l-s;for(h=1;h<=C&&n[l-h]===g[y-h];h++);return Et=g.slice(s,1<h?1-h:void 0)}function cr(s){var n=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&n===13&&(s=13)):s=n,s===10&&(s=13),32<=s||s===13?s:0}function ur(){return!0}function Du(){return!1}function us(s){function n(l,h,g,y,C){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var z in s)s.hasOwnProperty(z)&&(l=s[z],this[z]=l?l(y):y[z]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ur:Du,this.isPropagationStopped=Du,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),n}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=us(Si),oa=w({},Si,{view:0,detail:0}),et=us(oa),Vl,js,Ci,dr=w({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ci&&(Ci&&s.type==="mousemove"?(Vl=s.screenX-Ci.screenX,js=s.screenY-Ci.screenY):js=Vl=0,Ci=s),Vl)},movementY:function(s){return"movementY"in s?s.movementY:js}}),zu=us(dr),Hl=w({},dr,{dataTransfer:0}),Ff=us(Hl),Bu=w({},oa,{relatedTarget:0}),Fl=us(Bu),Zf=w({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),Zl=us(Zf),qf=w({},Si,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),oi=us(qf),Gf=w({},Si,{data:0}),ql=us(Gf),Wi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gl(s){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(s):(s=Uu[s])?!!n[s]:!1}function $l(){return Gl}var Vu=w({},oa,{key:function(s){if(s.key){var n=Wi[s.key]||s.key;if(n!=="Unidentified")return n}return s.type==="keypress"?(s=cr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Iu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(s){return s.type==="keypress"?cr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?cr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Hu=us(Vu),$f=w({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fu=us($f),Yl=w({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),Yf=us(Yl),Zu=w({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),qu=us(Zu),uo=w({},dr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=us(uo),Xf=w({},Si,{newState:0,oldState:0}),hr=us(Xf),Ms=[9,13,27,32],ho=Ys&&"CompositionEvent"in window,la=null;Ys&&"documentMode"in document&&(la=document.documentMode);var Kf=Ys&&"TextEvent"in window&&!la,fo=Ys&&(!ho||la&&8<la&&11>=la),mo=" ",Gu=!1;function $u(s,n){switch(s){case"keyup":return Ms.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xl(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ca=!1;function Ks(s,n){switch(s){case"compositionend":return Xl(n);case"keypress":return n.which!==32?null:(Gu=!0,mo);case"textInput":return s=n.data,s===mo&&Gu?null:s;default:return null}}function ua(s,n){if(ca)return s==="compositionend"||!ho&&$u(s,n)?(s=Ki(),Et=kn=ri=null,ca=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fo&&n.locale!=="ko"?null:n.data;default:return null}}var Wf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function li(s){var n=s&&s.nodeName&&s.nodeName.toLowerCase();return n==="input"?!!Wf[s.type]:n==="textarea"}function Yu(s,n,l,h){ra?Re?Re.push(h):Re=[h]:ra=h,n=Bd(n,"onChange"),0<n.length&&(l=new co("onChange","change",null,l,h),s.push({event:l,listeners:n}))}var ci=null,fr=null;function mr(s){Py(s,0)}function pr(s){var n=$i(s);if(jt(n))return s}function xr(s,n){if(s==="change")return n}var Xu=!1;if(Ys){var ui;if(Ys){var da="oninput"in document;if(!da){var Ku=document.createElement("div");Ku.setAttribute("oninput","return;"),da=typeof Ku.oninput=="function"}ui=da}else ui=!1;Xu=ui&&(!document.documentMode||9<document.documentMode)}function po(){ci&&(ci.detachEvent("onpropertychange",Wu),fr=ci=null)}function Wu(s){if(s.propertyName==="value"&&pr(fr)){var n=[];Yu(n,fr,s,or(s)),Ul(mr,n)}}function ki(s,n,l){s==="focusin"?(po(),ci=n,fr=l,ci.attachEvent("onpropertychange",Wu)):s==="focusout"&&po()}function Qf(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pr(fr)}function ha(s,n){if(s==="click")return pr(n)}function Jf(s,n){if(s==="input"||s==="change")return pr(n)}function Ti(s,n){return s===n&&(s!==0||1/s===1/n)||s!==s&&n!==n}var ss=typeof Object.is=="function"?Object.is:Ti;function fa(s,n){if(ss(s,n))return!0;if(typeof s!="object"||s===null||typeof n!="object"||n===null)return!1;var l=Object.keys(s),h=Object.keys(n);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!kl.call(n,g)||!ss(s[g],n[g]))return!1}return!0}function xo(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function gr(s,n){var l=xo(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=n&&h>=n)return{node:l,offset:n-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=xo(l)}}function go(s,n){return s&&n?s===n?!0:s&&s.nodeType===3?!1:n&&n.nodeType===3?go(s,n.parentNode):"contains"in s?s.contains(n):s.compareDocumentPosition?!!(s.compareDocumentPosition(n)&16):!1:!1}function vr(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var n=sa(s.document);n instanceof s.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)s=n.contentWindow;else break;n=sa(s.document)}return n}function Qi(s){var n=s&&s.nodeName&&s.nodeName.toLowerCase();return n&&(n==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||n==="textarea"||s.contentEditable==="true")}var vo=Ys&&"documentMode"in document&&11>=document.documentMode,Ji=null,yo=null,yr=null,ma=!1;function Qu(s,n,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ma||Ji==null||Ji!==sa(h)||(h=Ji,"selectionStart"in h&&Qi(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),yr&&fa(yr,h)||(yr=h,h=Bd(yo,"onSelect"),0<h.length&&(n=new co("onSelect","select",null,n,l),s.push({event:n,listeners:h}),n.target=Ji)))}function en(s,n){var l={};return l[s.toLowerCase()]=n.toLowerCase(),l["Webkit"+s]="webkit"+n,l["Moz"+s]="moz"+n,l}var pa={animationend:en("Animation","AnimationEnd"),animationiteration:en("Animation","AnimationIteration"),animationstart:en("Animation","AnimationStart"),transitionrun:en("Transition","TransitionRun"),transitionstart:en("Transition","TransitionStart"),transitioncancel:en("Transition","TransitionCancel"),transitionend:en("Transition","TransitionEnd")},bo={},Ju={};Ys&&(Ju=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function is(s){if(bo[s])return bo[s];if(!pa[s])return s;var n=pa[s],l;for(l in n)if(n.hasOwnProperty(l)&&l in Ju)return bo[s]=n[l];return s}var br=is("animationend"),ed=is("animationiteration"),wr=is("animationstart"),em=is("transitionrun"),td=is("transitionstart"),tm=is("transitioncancel"),xa=is("transitionend"),sd=new Map,tn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tn.push("scrollEnd");function Rs(s,n){sd.set(s,n),Nn(n,[s])}var _r=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Os=[],ms=0,wo=0;function jr(){for(var s=ms,n=wo=ms=0;n<s;){var l=Os[n];Os[n++]=null;var h=Os[n];Os[n++]=null;var g=Os[n];Os[n++]=null;var y=Os[n];if(Os[n++]=null,h!==null&&g!==null){var C=h.pending;C===null?g.next=g:(g.next=C.next,C.next=g),h.pending=g}y!==0&&ga(l,g,y)}}function sn(s,n,l,h){Os[ms++]=s,Os[ms++]=n,Os[ms++]=l,Os[ms++]=h,wo|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Kl(s,n,l,h){return sn(s,n,l,h),Nr(s)}function di(s,n){return sn(s,null,null,n),Nr(s)}function ga(s,n,l){s.lanes|=l;var h=s.alternate;h!==null&&(h.lanes|=l);for(var g=!1,y=s.return;y!==null;)y.childLanes|=l,h=y.alternate,h!==null&&(h.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(g=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,g&&n!==null&&(g=31-_s(l),s=y.hiddenUpdates,h=s[g],h===null?s[g]=[n]:h.push(n),n.lane=l|536870912),y):null}function Nr(s){if(50<wc)throw wc=0,ip=null,Error(o(185));for(var n=s.return;n!==null;)s=n,n=s.return;return s.tag===3?s.stateNode:null}var En={};function sm(s,n,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(s,n,l,h){return new sm(s,n,l,h)}function _o(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hi(s,n){var l=s.alternate;return l===null?(l=ps(s.tag,n,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=n,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,n=s.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Wl(s,n){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,n=l.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),s}function Sr(s,n,l,h,g,y){var C=0;if(h=s,typeof s=="function")_o(s)&&(C=1);else if(typeof s=="string")C=I5(s,l,fe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case G:return s=ps(31,l,n,g),s.elementType=G,s.lanes=y,s;case k:return An(l.children,g,y,n);case O:C=8,g|=24;break;case M:return s=ps(12,l,n,g|2),s.elementType=M,s.lanes=y,s;case V:return s=ps(13,l,n,g),s.elementType=V,s.lanes=y,s;case R:return s=ps(19,l,n,g),s.elementType=R,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case T:C=10;break e;case B:C=9;break e;case D:C=11;break e;case Z:C=14;break e;case H:C=16,h=null;break e}C=29,l=Error(o(130,s===null?"null":typeof s,"")),h=null}return n=ps(C,l,n,g),n.elementType=s,n.type=h,n.lanes=y,n}function An(s,n,l,h){return s=ps(7,s,h,n),s.lanes=l,s}function jo(s,n,l){return s=ps(6,s,null,n),s.lanes=l,s}function Ql(s){var n=ps(18,null,null,0);return n.stateNode=s,n}function Jl(s,n,l){return n=ps(4,s.children!==null?s.children:[],s.key,n),n.lanes=l,n.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},n}var r=new WeakMap;function d(s,n){if(typeof s=="object"&&s!==null){var l=r.get(s);return l!==void 0?l:(n={value:s,source:n,stack:Ya(n)},r.set(s,n),n)}return{value:s,source:n,stack:Ya(n)}}var p=[],_=0,S=null,P=0,q=[],ie=0,ce=null,xe=1,je="";function Ae(s,n){p[_++]=P,p[_++]=S,S=s,P=n}function Ve(s,n,l){q[ie++]=xe,q[ie++]=je,q[ie++]=ce,ce=s;var h=xe;s=je;var g=32-_s(h)-1;h&=~(1<<g),l+=1;var y=32-_s(n)+g;if(30<y){var C=g-g%5;y=(h&(1<<C)-1).toString(32),h>>=C,g-=C,xe=1<<32-_s(n)+g|l<<g|h,je=y+s}else xe=1<<y|l<<g|h,je=s}function Xt(s){s.return!==null&&(Ae(s,1),Ve(s,1,0))}function At(s){for(;s===S;)S=p[--_],p[_]=null,P=p[--_],p[_]=null;for(;s===ce;)ce=q[--ie],q[ie]=null,je=q[--ie],q[ie]=null,xe=q[--ie],q[ie]=null}function Ns(s,n){q[ie++]=xe,q[ie++]=je,q[ie++]=ce,xe=n.id,je=n.overflow,ce=s}var nt=null,at=null,Ke=!1,nn=null,Ps=!1,No=Error(o(519));function an(s){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cr(d(n,s)),No}function ec(s){var n=s.stateNode,l=s.type,h=s.memoizedProps;switch(n[Bt]=s,n[ts]=h,l){case"dialog":Qe("cancel",n),Qe("close",n);break;case"iframe":case"object":case"embed":Qe("load",n);break;case"video":case"audio":for(l=0;l<jc.length;l++)Qe(jc[l],n);break;case"source":Qe("error",n);break;case"img":case"image":case"link":Qe("error",n),Qe("load",n);break;case"details":Qe("toggle",n);break;case"input":Qe("invalid",n),ar(n,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Qe("invalid",n);break;case"textarea":Qe("invalid",n),ia(n,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||h.suppressHydrationWarning===!0||Iy(n.textContent,l)?(h.popover!=null&&(Qe("beforetoggle",n),Qe("toggle",n)),h.onScroll!=null&&Qe("scroll",n),h.onScrollEnd!=null&&Qe("scrollend",n),h.onClick!=null&&(n.onclick=Ls),n=!0):n=!1,n||an(s,!0)}function kt(s){for(nt=s.return;nt;)switch(nt.tag){case 5:case 31:case 13:Ps=!1;return;case 27:case 3:Ps=!0;return;default:nt=nt.return}}function Ei(s){if(s!==nt)return!1;if(!Ke)return kt(s),Ke=!0,!1;var n=s.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||vp(s.type,s.memoizedProps)),l=!l),l&&at&&an(s),kt(s),n===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));at=Yy(s)}else if(n===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));at=Yy(s)}else n===27?(n=at,La(s.type)?(s=jp,jp=null,at=s):at=n):at=nt?mi(s.stateNode.nextSibling):null;return!0}function Ln(){at=nt=null,Ke=!1}function tc(){var s=nn;return s!==null&&(Is===null?Is=s:Is.push.apply(Is,s),nn=null),s}function Cr(s){nn===null?nn=[s]:nn.push(s)}var kr=I(null),rn=null,Ai=null;function va(s,n,l){W(kr,n._currentValue),n._currentValue=l}function Mn(s){s._currentValue=kr.current,$(kr)}function im(s,n,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&n)!==n?(s.childLanes|=n,h!==null&&(h.childLanes|=n)):h!==null&&(h.childLanes&n)!==n&&(h.childLanes|=n),s===l)break;s=s.return}}function nm(s,n,l,h){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var y=g.dependencies;if(y!==null){var C=g.child;y=y.firstContext;e:for(;y!==null;){var z=y;y=g;for(var X=0;X<n.length;X++)if(z.context===n[X]){y.lanes|=l,z=y.alternate,z!==null&&(z.lanes|=l),im(y.return,l,s),h||(C=null);break e}y=z.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(o(341));C.lanes|=l,y=C.alternate,y!==null&&(y.lanes|=l),im(C,l,s),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===s){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function So(s,n,l,h){s=null;for(var g=n,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(o(387));if(C=C.memoizedProps,C!==null){var z=g.type;ss(g.pendingProps.value,C.value)||(s!==null?s.push(z):s=[z])}}else if(g===Ne.current){if(C=g.alternate,C===null)throw Error(o(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Tc):s=[Tc])}g=g.return}s!==null&&nm(n,s,l,h),n.flags|=262144}function id(s){for(s=s.firstContext;s!==null;){if(!ss(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Tr(s){rn=s,Ai=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ds(s){return Ng(rn,s)}function nd(s,n){return rn===null&&Tr(s),Ng(s,n)}function Ng(s,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},Ai===null){if(s===null)throw Error(o(308));Ai=n,s.dependencies={lanes:0,firstContext:n},s.flags|=524288}else Ai=Ai.next=n;return l}var PN=typeof AbortController<"u"?AbortController:function(){var s=[],n=this.signal={aborted:!1,addEventListener:function(l,h){s.push(h)}};this.abort=function(){n.aborted=!0,s.forEach(function(l){return l()})}},DN=t.unstable_scheduleCallback,zN=t.unstable_NormalPriority,Ut={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function am(){return{controller:new PN,data:new Map,refCount:0}}function sc(s){s.refCount--,s.refCount===0&&DN(zN,function(){s.controller.abort()})}var ic=null,rm=0,Co=0,ko=null;function BN(s,n){if(ic===null){var l=ic=[];rm=0,Co=cp(),ko={status:"pending",value:void 0,then:function(h){l.push(h)}}}return rm++,n.then(Sg,Sg),n}function Sg(){if(--rm===0&&ic!==null){ko!==null&&(ko.status="fulfilled");var s=ic;ic=null,Co=0,ko=null;for(var n=0;n<s.length;n++)(0,s[n])()}}function IN(s,n){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){h.status="fulfilled",h.value=n;for(var g=0;g<l.length;g++)(0,l[g])(n)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var Cg=U.S;U.S=function(s,n){cy=ws(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&BN(s,n),Cg!==null&&Cg(s,n)};var Er=I(null);function om(){var s=Er.current;return s!==null?s:bt.pooledCache}function ad(s,n){n===null?W(Er,Er.current):W(Er,n.pool)}function kg(){var s=om();return s===null?null:{parent:Ut._currentValue,pool:s}}var To=Error(o(460)),lm=Error(o(474)),rd=Error(o(542)),od={then:function(){}};function Tg(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Eg(s,n,l){switch(l=s[l],l===void 0?s.push(n):l!==n&&(n.then(Ls,Ls),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw s=n.reason,Lg(s),s;default:if(typeof n.status=="string")n.then(Ls,Ls);else{if(s=bt,s!==null&&100<s.shellSuspendCounter)throw Error(o(482));s=n,s.status="pending",s.then(function(h){if(n.status==="pending"){var g=n;g.status="fulfilled",g.value=h}},function(h){if(n.status==="pending"){var g=n;g.status="rejected",g.reason=h}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw s=n.reason,Lg(s),s}throw Lr=n,To}}function Ar(s){try{var n=s._init;return n(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Lr=l,To):l}}var Lr=null;function Ag(){if(Lr===null)throw Error(o(459));var s=Lr;return Lr=null,s}function Lg(s){if(s===To||s===rd)throw Error(o(483))}var Eo=null,nc=0;function ld(s){var n=nc;return nc+=1,Eo===null&&(Eo=[]),Eg(Eo,s,n)}function ac(s,n){n=n.props.ref,s.ref=n!==void 0?n:null}function cd(s,n){throw n.$$typeof===j?Error(o(525)):(s=Object.prototype.toString.call(n),Error(o(31,s==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":s)))}function Mg(s){function n(se,Q){if(s){var re=se.deletions;re===null?(se.deletions=[Q],se.flags|=16):re.push(Q)}}function l(se,Q){if(!s)return null;for(;Q!==null;)n(se,Q),Q=Q.sibling;return null}function h(se){for(var Q=new Map;se!==null;)se.key!==null?Q.set(se.key,se):Q.set(se.index,se),se=se.sibling;return Q}function g(se,Q){return se=hi(se,Q),se.index=0,se.sibling=null,se}function y(se,Q,re){return se.index=re,s?(re=se.alternate,re!==null?(re=re.index,re<Q?(se.flags|=67108866,Q):re):(se.flags|=67108866,Q)):(se.flags|=1048576,Q)}function C(se){return s&&se.alternate===null&&(se.flags|=67108866),se}function z(se,Q,re,pe){return Q===null||Q.tag!==6?(Q=jo(re,se.mode,pe),Q.return=se,Q):(Q=g(Q,re),Q.return=se,Q)}function X(se,Q,re,pe){var Le=re.type;return Le===k?me(se,Q,re.props.children,pe,re.key):Q!==null&&(Q.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===H&&Ar(Le)===Q.type)?(Q=g(Q,re.props),ac(Q,re),Q.return=se,Q):(Q=Sr(re.type,re.key,re.props,null,se.mode,pe),ac(Q,re),Q.return=se,Q)}function oe(se,Q,re,pe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==re.containerInfo||Q.stateNode.implementation!==re.implementation?(Q=Jl(re,se.mode,pe),Q.return=se,Q):(Q=g(Q,re.children||[]),Q.return=se,Q)}function me(se,Q,re,pe,Le){return Q===null||Q.tag!==7?(Q=An(re,se.mode,pe,Le),Q.return=se,Q):(Q=g(Q,re),Q.return=se,Q)}function ge(se,Q,re){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=jo(""+Q,se.mode,re),Q.return=se,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:return re=Sr(Q.type,Q.key,Q.props,null,se.mode,re),ac(re,Q),re.return=se,re;case A:return Q=Jl(Q,se.mode,re),Q.return=se,Q;case H:return Q=Ar(Q),ge(se,Q,re)}if(ve(Q)||K(Q))return Q=An(Q,se.mode,re,null),Q.return=se,Q;if(typeof Q.then=="function")return ge(se,ld(Q),re);if(Q.$$typeof===T)return ge(se,nd(se,Q),re);cd(se,Q)}return null}function ue(se,Q,re,pe){var Le=Q!==null?Q.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Le!==null?null:z(se,Q,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case E:return re.key===Le?X(se,Q,re,pe):null;case A:return re.key===Le?oe(se,Q,re,pe):null;case H:return re=Ar(re),ue(se,Q,re,pe)}if(ve(re)||K(re))return Le!==null?null:me(se,Q,re,pe,null);if(typeof re.then=="function")return ue(se,Q,ld(re),pe);if(re.$$typeof===T)return ue(se,Q,nd(se,re),pe);cd(se,re)}return null}function he(se,Q,re,pe,Le){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return se=se.get(re)||null,z(Q,se,""+pe,Le);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case E:return se=se.get(pe.key===null?re:pe.key)||null,X(Q,se,pe,Le);case A:return se=se.get(pe.key===null?re:pe.key)||null,oe(Q,se,pe,Le);case H:return pe=Ar(pe),he(se,Q,re,pe,Le)}if(ve(pe)||K(pe))return se=se.get(re)||null,me(Q,se,pe,Le,null);if(typeof pe.then=="function")return he(se,Q,re,ld(pe),Le);if(pe.$$typeof===T)return he(se,Q,re,nd(Q,pe),Le);cd(Q,pe)}return null}function Se(se,Q,re,pe){for(var Le=null,rt=null,Te=Q,He=Q=0,st=null;Te!==null&&He<re.length;He++){Te.index>He?(st=Te,Te=null):st=Te.sibling;var ot=ue(se,Te,re[He],pe);if(ot===null){Te===null&&(Te=st);break}s&&Te&&ot.alternate===null&&n(se,Te),Q=y(ot,Q,He),rt===null?Le=ot:rt.sibling=ot,rt=ot,Te=st}if(He===re.length)return l(se,Te),Ke&&Ae(se,He),Le;if(Te===null){for(;He<re.length;He++)Te=ge(se,re[He],pe),Te!==null&&(Q=y(Te,Q,He),rt===null?Le=Te:rt.sibling=Te,rt=Te);return Ke&&Ae(se,He),Le}for(Te=h(Te);He<re.length;He++)st=he(Te,se,He,re[He],pe),st!==null&&(s&&st.alternate!==null&&Te.delete(st.key===null?He:st.key),Q=y(st,Q,He),rt===null?Le=st:rt.sibling=st,rt=st);return s&&Te.forEach(function(Da){return n(se,Da)}),Ke&&Ae(se,He),Le}function Me(se,Q,re,pe){if(re==null)throw Error(o(151));for(var Le=null,rt=null,Te=Q,He=Q=0,st=null,ot=re.next();Te!==null&&!ot.done;He++,ot=re.next()){Te.index>He?(st=Te,Te=null):st=Te.sibling;var Da=ue(se,Te,ot.value,pe);if(Da===null){Te===null&&(Te=st);break}s&&Te&&Da.alternate===null&&n(se,Te),Q=y(Da,Q,He),rt===null?Le=Da:rt.sibling=Da,rt=Da,Te=st}if(ot.done)return l(se,Te),Ke&&Ae(se,He),Le;if(Te===null){for(;!ot.done;He++,ot=re.next())ot=ge(se,ot.value,pe),ot!==null&&(Q=y(ot,Q,He),rt===null?Le=ot:rt.sibling=ot,rt=ot);return Ke&&Ae(se,He),Le}for(Te=h(Te);!ot.done;He++,ot=re.next())ot=he(Te,se,He,ot.value,pe),ot!==null&&(s&&ot.alternate!==null&&Te.delete(ot.key===null?He:ot.key),Q=y(ot,Q,He),rt===null?Le=ot:rt.sibling=ot,rt=ot);return s&&Te.forEach(function(K5){return n(se,K5)}),Ke&&Ae(se,He),Le}function gt(se,Q,re,pe){if(typeof re=="object"&&re!==null&&re.type===k&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case E:e:{for(var Le=re.key;Q!==null;){if(Q.key===Le){if(Le=re.type,Le===k){if(Q.tag===7){l(se,Q.sibling),pe=g(Q,re.props.children),pe.return=se,se=pe;break e}}else if(Q.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===H&&Ar(Le)===Q.type){l(se,Q.sibling),pe=g(Q,re.props),ac(pe,re),pe.return=se,se=pe;break e}l(se,Q);break}else n(se,Q);Q=Q.sibling}re.type===k?(pe=An(re.props.children,se.mode,pe,re.key),pe.return=se,se=pe):(pe=Sr(re.type,re.key,re.props,null,se.mode,pe),ac(pe,re),pe.return=se,se=pe)}return C(se);case A:e:{for(Le=re.key;Q!==null;){if(Q.key===Le)if(Q.tag===4&&Q.stateNode.containerInfo===re.containerInfo&&Q.stateNode.implementation===re.implementation){l(se,Q.sibling),pe=g(Q,re.children||[]),pe.return=se,se=pe;break e}else{l(se,Q);break}else n(se,Q);Q=Q.sibling}pe=Jl(re,se.mode,pe),pe.return=se,se=pe}return C(se);case H:return re=Ar(re),gt(se,Q,re,pe)}if(ve(re))return Se(se,Q,re,pe);if(K(re)){if(Le=K(re),typeof Le!="function")throw Error(o(150));return re=Le.call(re),Me(se,Q,re,pe)}if(typeof re.then=="function")return gt(se,Q,ld(re),pe);if(re.$$typeof===T)return gt(se,Q,nd(se,re),pe);cd(se,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,Q!==null&&Q.tag===6?(l(se,Q.sibling),pe=g(Q,re),pe.return=se,se=pe):(l(se,Q),pe=jo(re,se.mode,pe),pe.return=se,se=pe),C(se)):l(se,Q)}return function(se,Q,re,pe){try{nc=0;var Le=gt(se,Q,re,pe);return Eo=null,Le}catch(Te){if(Te===To||Te===rd)throw Te;var rt=ps(29,Te,null,se.mode);return rt.lanes=pe,rt.return=se,rt}}}var Mr=Mg(!0),Rg=Mg(!1),ya=!1;function cm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function um(s,n){s=s.updateQueue,n.updateQueue===s&&(n.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ba(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function wa(s,n,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(lt&2)!==0){var g=h.pending;return g===null?n.next=n:(n.next=g.next,g.next=n),h.pending=n,n=Nr(s),ga(s,null,l),n}return sn(s,h,n,l),Nr(s)}function rc(s,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var h=n.lanes;h&=s.pendingLanes,l|=h,n.lanes=l,Au(s,l)}}function dm(s,n){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=C:y=y.next=C,l=l.next}while(l!==null);y===null?g=y=n:y=y.next=n}else g=y=n;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=n:s.next=n,l.lastBaseUpdate=n}var hm=!1;function oc(){if(hm){var s=ko;if(s!==null)throw s}}function lc(s,n,l,h){hm=!1;var g=s.updateQueue;ya=!1;var y=g.firstBaseUpdate,C=g.lastBaseUpdate,z=g.shared.pending;if(z!==null){g.shared.pending=null;var X=z,oe=X.next;X.next=null,C===null?y=oe:C.next=oe,C=X;var me=s.alternate;me!==null&&(me=me.updateQueue,z=me.lastBaseUpdate,z!==C&&(z===null?me.firstBaseUpdate=oe:z.next=oe,me.lastBaseUpdate=X))}if(y!==null){var ge=g.baseState;C=0,me=oe=X=null,z=y;do{var ue=z.lane&-536870913,he=ue!==z.lane;if(he?(tt&ue)===ue:(h&ue)===ue){ue!==0&&ue===Co&&(hm=!0),me!==null&&(me=me.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Se=s,Me=z;ue=n;var gt=l;switch(Me.tag){case 1:if(Se=Me.payload,typeof Se=="function"){ge=Se.call(gt,ge,ue);break e}ge=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Me.payload,ue=typeof Se=="function"?Se.call(gt,ge,ue):Se,ue==null)break e;ge=w({},ge,ue);break e;case 2:ya=!0}}ue=z.callback,ue!==null&&(s.flags|=64,he&&(s.flags|=8192),he=g.callbacks,he===null?g.callbacks=[ue]:he.push(ue))}else he={lane:ue,tag:z.tag,payload:z.payload,callback:z.callback,next:null},me===null?(oe=me=he,X=ge):me=me.next=he,C|=ue;if(z=z.next,z===null){if(z=g.shared.pending,z===null)break;he=z,z=he.next,he.next=null,g.lastBaseUpdate=he,g.shared.pending=null}}while(!0);me===null&&(X=ge),g.baseState=X,g.firstBaseUpdate=oe,g.lastBaseUpdate=me,y===null&&(g.shared.lanes=0),Ca|=C,s.lanes=C,s.memoizedState=ge}}function Og(s,n){if(typeof s!="function")throw Error(o(191,s));s.call(n)}function Pg(s,n){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Og(l[s],n)}var Ao=I(null),ud=I(0);function Dg(s,n){s=Vn,W(ud,s),W(Ao,n),Vn=s|n.baseLanes}function fm(){W(ud,Vn),W(Ao,Ao.current)}function mm(){Vn=ud.current,$(Ao),$(ud)}var Ws=I(null),fi=null;function _a(s){var n=s.alternate;W(Pt,Pt.current&1),W(Ws,s),fi===null&&(n===null||Ao.current!==null||n.memoizedState!==null)&&(fi=s)}function pm(s){W(Pt,Pt.current),W(Ws,s),fi===null&&(fi=s)}function zg(s){s.tag===22?(W(Pt,Pt.current),W(Ws,s),fi===null&&(fi=s)):ja()}function ja(){W(Pt,Pt.current),W(Ws,Ws.current)}function Qs(s){$(Ws),fi===s&&(fi=null),$(Pt)}var Pt=I(0);function dd(s){for(var n=s;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||wp(l)||_p(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Rn=0,Ie=null,pt=null,Vt=null,hd=!1,Lo=!1,Rr=!1,fd=0,cc=0,Mo=null,UN=0;function Lt(){throw Error(o(321))}function xm(s,n){if(n===null)return!1;for(var l=0;l<n.length&&l<s.length;l++)if(!ss(s[l],n[l]))return!1;return!0}function gm(s,n,l,h,g,y){return Rn=y,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=s===null||s.memoizedState===null?bv:Mm,Rr=!1,y=l(h,g),Rr=!1,Lo&&(y=Ig(n,l,h,g)),Bg(s),y}function Bg(s){U.H=hc;var n=pt!==null&&pt.next!==null;if(Rn=0,Vt=pt=Ie=null,hd=!1,cc=0,Mo=null,n)throw Error(o(300));s===null||Ht||(s=s.dependencies,s!==null&&id(s)&&(Ht=!0))}function Ig(s,n,l,h){Ie=s;var g=0;do{if(Lo&&(Mo=null),cc=0,Lo=!1,25<=g)throw Error(o(301));if(g+=1,Vt=pt=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}U.H=wv,y=n(l,h)}while(Lo);return y}function VN(){var s=U.H,n=s.useState()[0];return n=typeof n.then=="function"?uc(n):n,s=s.useState()[0],(pt!==null?pt.memoizedState:null)!==s&&(Ie.flags|=1024),n}function vm(){var s=fd!==0;return fd=0,s}function ym(s,n,l){n.updateQueue=s.updateQueue,n.flags&=-2053,s.lanes&=~l}function bm(s){if(hd){for(s=s.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}hd=!1}Rn=0,Vt=pt=Ie=null,Lo=!1,cc=fd=0,Mo=null}function Ss(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ie.memoizedState=Vt=s:Vt=Vt.next=s,Vt}function Dt(){if(pt===null){var s=Ie.alternate;s=s!==null?s.memoizedState:null}else s=pt.next;var n=Vt===null?Ie.memoizedState:Vt.next;if(n!==null)Vt=n,pt=s;else{if(s===null)throw Ie.alternate===null?Error(o(467)):Error(o(310));pt=s,s={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Vt===null?Ie.memoizedState=Vt=s:Vt=Vt.next=s}return Vt}function md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uc(s){var n=cc;return cc+=1,Mo===null&&(Mo=[]),s=Eg(Mo,s,n),n=Ie,(Vt===null?n.memoizedState:Vt.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?bv:Mm),s}function pd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return uc(s);if(s.$$typeof===T)return ds(s)}throw Error(o(438,String(s)))}function wm(s){var n=null,l=Ie.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var h=Ie.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(n={data:h.data.map(function(g){return g.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=md(),Ie.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(s),h=0;h<s;h++)l[h]=ee;return n.index++,l}function On(s,n){return typeof n=="function"?n(s):n}function xd(s){var n=Dt();return _m(n,pt,s)}function _m(s,n,l){var h=s.queue;if(h===null)throw Error(o(311));h.lastRenderedReducer=l;var g=s.baseQueue,y=h.pending;if(y!==null){if(g!==null){var C=g.next;g.next=y.next,y.next=C}n.baseQueue=g=y,h.pending=null}if(y=s.baseState,g===null)s.memoizedState=y;else{n=g.next;var z=C=null,X=null,oe=n,me=!1;do{var ge=oe.lane&-536870913;if(ge!==oe.lane?(tt&ge)===ge:(Rn&ge)===ge){var ue=oe.revertLane;if(ue===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),ge===Co&&(me=!0);else if((Rn&ue)===ue){oe=oe.next,ue===Co&&(me=!0);continue}else ge={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},X===null?(z=X=ge,C=y):X=X.next=ge,Ie.lanes|=ue,Ca|=ue;ge=oe.action,Rr&&l(y,ge),y=oe.hasEagerState?oe.eagerState:l(y,ge)}else ue={lane:ge,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},X===null?(z=X=ue,C=y):X=X.next=ue,Ie.lanes|=ge,Ca|=ge;oe=oe.next}while(oe!==null&&oe!==n);if(X===null?C=y:X.next=z,!ss(y,s.memoizedState)&&(Ht=!0,me&&(l=ko,l!==null)))throw l;s.memoizedState=y,s.baseState=C,s.baseQueue=X,h.lastRenderedState=y}return g===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function jm(s){var n=Dt(),l=n.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=s;var h=l.dispatch,g=l.pending,y=n.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do y=s(y,C.action),C=C.next;while(C!==g);ss(y,n.memoizedState)||(Ht=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),l.lastRenderedState=y}return[y,h]}function Ug(s,n,l){var h=Ie,g=Dt(),y=Ke;if(y){if(l===void 0)throw Error(o(407));l=l()}else l=n();var C=!ss((pt||g).memoizedState,l);if(C&&(g.memoizedState=l,Ht=!0),g=g.queue,Cm(Fg.bind(null,h,g,s),[s]),g.getSnapshot!==n||C||Vt!==null&&Vt.memoizedState.tag&1){if(h.flags|=2048,Ro(9,{destroy:void 0},Hg.bind(null,h,g,l,n),null),bt===null)throw Error(o(349));y||(Rn&127)!==0||Vg(h,n,l)}return l}function Vg(s,n,l){s.flags|=16384,s={getSnapshot:n,value:l},n=Ie.updateQueue,n===null?(n=md(),Ie.updateQueue=n,n.stores=[s]):(l=n.stores,l===null?n.stores=[s]:l.push(s))}function Hg(s,n,l,h){n.value=l,n.getSnapshot=h,Zg(n)&&qg(s)}function Fg(s,n,l){return l(function(){Zg(n)&&qg(s)})}function Zg(s){var n=s.getSnapshot;s=s.value;try{var l=n();return!ss(s,l)}catch{return!0}}function qg(s){var n=di(s,2);n!==null&&Us(n,s,2)}function Nm(s){var n=Ss();if(typeof s=="function"){var l=s;if(s=l(),Rr){_i(!0);try{l()}finally{_i(!1)}}}return n.memoizedState=n.baseState=s,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:s},n}function Gg(s,n,l,h){return s.baseState=l,_m(s,pt,typeof h=="function"?h:On)}function HN(s,n,l,h,g){if(yd(s))throw Error(o(485));if(s=n.action,s!==null){var y={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){y.listeners.push(C)}};U.T!==null?l(!0):y.isTransition=!1,h(y),l=n.pending,l===null?(y.next=n.pending=y,$g(n,y)):(y.next=l.next,n.pending=l.next=y)}}function $g(s,n){var l=n.action,h=n.payload,g=s.state;if(n.isTransition){var y=U.T,C={};U.T=C;try{var z=l(g,h),X=U.S;X!==null&&X(C,z),Yg(s,n,z)}catch(oe){Sm(s,n,oe)}finally{y!==null&&C.types!==null&&(y.types=C.types),U.T=y}}else try{y=l(g,h),Yg(s,n,y)}catch(oe){Sm(s,n,oe)}}function Yg(s,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Xg(s,n,h)},function(h){return Sm(s,n,h)}):Xg(s,n,l)}function Xg(s,n,l){n.status="fulfilled",n.value=l,Kg(n),s.state=l,n=s.pending,n!==null&&(l=n.next,l===n?s.pending=null:(l=l.next,n.next=l,$g(s,l)))}function Sm(s,n,l){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do n.status="rejected",n.reason=l,Kg(n),n=n.next;while(n!==h)}s.action=null}function Kg(s){s=s.listeners;for(var n=0;n<s.length;n++)(0,s[n])()}function Wg(s,n){return n}function Qg(s,n){if(Ke){var l=bt.formState;if(l!==null){e:{var h=Ie;if(Ke){if(at){t:{for(var g=at,y=Ps;g.nodeType!==8;){if(!y){g=null;break t}if(g=mi(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){at=mi(g.nextSibling),h=g.data==="F!";break e}}an(h)}h=!1}h&&(n=l[0])}}return l=Ss(),l.memoizedState=l.baseState=n,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wg,lastRenderedState:n},l.queue=h,l=gv.bind(null,Ie,h),h.dispatch=l,h=Nm(!1),y=Lm.bind(null,Ie,!1,h.queue),h=Ss(),g={state:n,dispatch:null,action:s,pending:null},h.queue=g,l=HN.bind(null,Ie,g,y,l),g.dispatch=l,h.memoizedState=s,[n,l,!1]}function Jg(s){var n=Dt();return ev(n,pt,s)}function ev(s,n,l){if(n=_m(s,n,Wg)[0],s=xd(On)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var h=uc(n)}catch(C){throw C===To?rd:C}else h=n;n=Dt();var g=n.queue,y=g.dispatch;return l!==n.memoizedState&&(Ie.flags|=2048,Ro(9,{destroy:void 0},FN.bind(null,g,l),null)),[h,y,s]}function FN(s,n){s.action=n}function tv(s){var n=Dt(),l=pt;if(l!==null)return ev(n,l,s);Dt(),n=n.memoizedState,l=Dt();var h=l.queue.dispatch;return l.memoizedState=s,[n,h,!1]}function Ro(s,n,l,h){return s={tag:s,create:l,deps:h,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=md(),Ie.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,n.lastEffect=s),s}function sv(){return Dt().memoizedState}function gd(s,n,l,h){var g=Ss();Ie.flags|=s,g.memoizedState=Ro(1|n,{destroy:void 0},l,h===void 0?null:h)}function vd(s,n,l,h){var g=Dt();h=h===void 0?null:h;var y=g.memoizedState.inst;pt!==null&&h!==null&&xm(h,pt.memoizedState.deps)?g.memoizedState=Ro(n,y,l,h):(Ie.flags|=s,g.memoizedState=Ro(1|n,y,l,h))}function iv(s,n){gd(8390656,8,s,n)}function Cm(s,n){vd(2048,8,s,n)}function ZN(s){Ie.flags|=4;var n=Ie.updateQueue;if(n===null)n=md(),Ie.updateQueue=n,n.events=[s];else{var l=n.events;l===null?n.events=[s]:l.push(s)}}function nv(s){var n=Dt().memoizedState;return ZN({ref:n,nextImpl:s}),function(){if((lt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function av(s,n){return vd(4,2,s,n)}function rv(s,n){return vd(4,4,s,n)}function ov(s,n){if(typeof n=="function"){s=s();var l=n(s);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return s=s(),n.current=s,function(){n.current=null}}function lv(s,n,l){l=l!=null?l.concat([s]):null,vd(4,4,ov.bind(null,n,s),l)}function km(){}function cv(s,n){var l=Dt();n=n===void 0?null:n;var h=l.memoizedState;return n!==null&&xm(n,h[1])?h[0]:(l.memoizedState=[s,n],s)}function uv(s,n){var l=Dt();n=n===void 0?null:n;var h=l.memoizedState;if(n!==null&&xm(n,h[1]))return h[0];if(h=s(),Rr){_i(!0);try{s()}finally{_i(!1)}}return l.memoizedState=[h,n],h}function Tm(s,n,l){return l===void 0||(Rn&1073741824)!==0&&(tt&261930)===0?s.memoizedState=n:(s.memoizedState=l,s=dy(),Ie.lanes|=s,Ca|=s,l)}function dv(s,n,l,h){return ss(l,n)?l:Ao.current!==null?(s=Tm(s,l,h),ss(s,n)||(Ht=!0),s):(Rn&42)===0||(Rn&1073741824)!==0&&(tt&261930)===0?(Ht=!0,s.memoizedState=l):(s=dy(),Ie.lanes|=s,Ca|=s,n)}function hv(s,n,l,h,g){var y=ne.p;ne.p=y!==0&&8>y?y:8;var C=U.T,z={};U.T=z,Lm(s,!1,n,l);try{var X=g(),oe=U.S;if(oe!==null&&oe(z,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var me=IN(X,h);dc(s,n,me,ti(s))}else dc(s,n,h,ti(s))}catch(ge){dc(s,n,{then:function(){},status:"rejected",reason:ge},ti())}finally{ne.p=y,C!==null&&z.types!==null&&(C.types=z.types),U.T=C}}function qN(){}function Em(s,n,l,h){if(s.tag!==5)throw Error(o(476));var g=fv(s).queue;hv(s,g,n,J,l===null?qN:function(){return mv(s),l(h)})}function fv(s){var n=s.memoizedState;if(n!==null)return n;n={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:J},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:l},next:null},s.memoizedState=n,s=s.alternate,s!==null&&(s.memoizedState=n),n}function mv(s){var n=fv(s);n.next===null&&(n=s.alternate.memoizedState),dc(s,n.next.queue,{},ti())}function Am(){return ds(Tc)}function pv(){return Dt().memoizedState}function xv(){return Dt().memoizedState}function GN(s){for(var n=s.return;n!==null;){switch(n.tag){case 24:case 3:var l=ti();s=ba(l);var h=wa(n,s,l);h!==null&&(Us(h,n,l),rc(h,n,l)),n={cache:am()},s.payload=n;return}n=n.return}}function $N(s,n,l){var h=ti();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},yd(s)?vv(n,l):(l=Kl(s,n,l,h),l!==null&&(Us(l,s,h),yv(l,n,h)))}function gv(s,n,l){var h=ti();dc(s,n,l,h)}function dc(s,n,l,h){var g={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(yd(s))vv(n,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var C=n.lastRenderedState,z=y(C,l);if(g.hasEagerState=!0,g.eagerState=z,ss(z,C))return sn(s,n,g,0),bt===null&&jr(),!1}catch{}if(l=Kl(s,n,g,h),l!==null)return Us(l,s,h),yv(l,n,h),!0}return!1}function Lm(s,n,l,h){if(h={lane:2,revertLane:cp(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},yd(s)){if(n)throw Error(o(479))}else n=Kl(s,l,h,2),n!==null&&Us(n,s,2)}function yd(s){var n=s.alternate;return s===Ie||n!==null&&n===Ie}function vv(s,n){Lo=hd=!0;var l=s.pending;l===null?n.next=n:(n.next=l.next,l.next=n),s.pending=n}function yv(s,n,l){if((l&4194048)!==0){var h=n.lanes;h&=s.pendingLanes,l|=h,n.lanes=l,Au(s,l)}}var hc={readContext:ds,use:pd,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};hc.useEffectEvent=Lt;var bv={readContext:ds,use:pd,useCallback:function(s,n){return Ss().memoizedState=[s,n===void 0?null:n],s},useContext:ds,useEffect:iv,useImperativeHandle:function(s,n,l){l=l!=null?l.concat([s]):null,gd(4194308,4,ov.bind(null,n,s),l)},useLayoutEffect:function(s,n){return gd(4194308,4,s,n)},useInsertionEffect:function(s,n){gd(4,2,s,n)},useMemo:function(s,n){var l=Ss();n=n===void 0?null:n;var h=s();if(Rr){_i(!0);try{s()}finally{_i(!1)}}return l.memoizedState=[h,n],h},useReducer:function(s,n,l){var h=Ss();if(l!==void 0){var g=l(n);if(Rr){_i(!0);try{l(n)}finally{_i(!1)}}}else g=n;return h.memoizedState=h.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},h.queue=s,s=s.dispatch=$N.bind(null,Ie,s),[h.memoizedState,s]},useRef:function(s){var n=Ss();return s={current:s},n.memoizedState=s},useState:function(s){s=Nm(s);var n=s.queue,l=gv.bind(null,Ie,n);return n.dispatch=l,[s.memoizedState,l]},useDebugValue:km,useDeferredValue:function(s,n){var l=Ss();return Tm(l,s,n)},useTransition:function(){var s=Nm(!1);return s=hv.bind(null,Ie,s.queue,!0,!1),Ss().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,n,l){var h=Ie,g=Ss();if(Ke){if(l===void 0)throw Error(o(407));l=l()}else{if(l=n(),bt===null)throw Error(o(349));(tt&127)!==0||Vg(h,n,l)}g.memoizedState=l;var y={value:l,getSnapshot:n};return g.queue=y,iv(Fg.bind(null,h,y,s),[s]),h.flags|=2048,Ro(9,{destroy:void 0},Hg.bind(null,h,y,l,n),null),l},useId:function(){var s=Ss(),n=bt.identifierPrefix;if(Ke){var l=je,h=xe;l=(h&~(1<<32-_s(h)-1)).toString(32)+l,n="_"+n+"R_"+l,l=fd++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=UN++,n="_"+n+"r_"+l.toString(32)+"_";return s.memoizedState=n},useHostTransitionStatus:Am,useFormState:Qg,useActionState:Qg,useOptimistic:function(s){var n=Ss();n.memoizedState=n.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=Lm.bind(null,Ie,!0,l),l.dispatch=n,[s,n]},useMemoCache:wm,useCacheRefresh:function(){return Ss().memoizedState=GN.bind(null,Ie)},useEffectEvent:function(s){var n=Ss(),l={impl:s};return n.memoizedState=l,function(){if((lt&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Mm={readContext:ds,use:pd,useCallback:cv,useContext:ds,useEffect:Cm,useImperativeHandle:lv,useInsertionEffect:av,useLayoutEffect:rv,useMemo:uv,useReducer:xd,useRef:sv,useState:function(){return xd(On)},useDebugValue:km,useDeferredValue:function(s,n){var l=Dt();return dv(l,pt.memoizedState,s,n)},useTransition:function(){var s=xd(On)[0],n=Dt().memoizedState;return[typeof s=="boolean"?s:uc(s),n]},useSyncExternalStore:Ug,useId:pv,useHostTransitionStatus:Am,useFormState:Jg,useActionState:Jg,useOptimistic:function(s,n){var l=Dt();return Gg(l,pt,s,n)},useMemoCache:wm,useCacheRefresh:xv};Mm.useEffectEvent=nv;var wv={readContext:ds,use:pd,useCallback:cv,useContext:ds,useEffect:Cm,useImperativeHandle:lv,useInsertionEffect:av,useLayoutEffect:rv,useMemo:uv,useReducer:jm,useRef:sv,useState:function(){return jm(On)},useDebugValue:km,useDeferredValue:function(s,n){var l=Dt();return pt===null?Tm(l,s,n):dv(l,pt.memoizedState,s,n)},useTransition:function(){var s=jm(On)[0],n=Dt().memoizedState;return[typeof s=="boolean"?s:uc(s),n]},useSyncExternalStore:Ug,useId:pv,useHostTransitionStatus:Am,useFormState:tv,useActionState:tv,useOptimistic:function(s,n){var l=Dt();return pt!==null?Gg(l,pt,s,n):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:wm,useCacheRefresh:xv};wv.useEffectEvent=nv;function Rm(s,n,l,h){n=s.memoizedState,l=l(h,n),l=l==null?n:w({},n,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Om={enqueueSetState:function(s,n,l){s=s._reactInternals;var h=ti(),g=ba(h);g.payload=n,l!=null&&(g.callback=l),n=wa(s,g,h),n!==null&&(Us(n,s,h),rc(n,s,h))},enqueueReplaceState:function(s,n,l){s=s._reactInternals;var h=ti(),g=ba(h);g.tag=1,g.payload=n,l!=null&&(g.callback=l),n=wa(s,g,h),n!==null&&(Us(n,s,h),rc(n,s,h))},enqueueForceUpdate:function(s,n){s=s._reactInternals;var l=ti(),h=ba(l);h.tag=2,n!=null&&(h.callback=n),n=wa(s,h,l),n!==null&&(Us(n,s,l),rc(n,s,l))}};function _v(s,n,l,h,g,y,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,C):n.prototype&&n.prototype.isPureReactComponent?!fa(l,h)||!fa(g,y):!0}function jv(s,n,l,h){s=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,h),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,h),n.state!==s&&Om.enqueueReplaceState(n,n.state,null)}function Or(s,n){var l=n;if("ref"in n){l={};for(var h in n)h!=="ref"&&(l[h]=n[h])}if(s=s.defaultProps){l===n&&(l=w({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function Nv(s){_r(s)}function Sv(s){console.error(s)}function Cv(s){_r(s)}function bd(s,n){try{var l=s.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(h){setTimeout(function(){throw h})}}function kv(s,n,l){try{var h=s.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Pm(s,n,l){return l=ba(l),l.tag=3,l.payload={element:null},l.callback=function(){bd(s,n)},l}function Tv(s){return s=ba(s),s.tag=3,s}function Ev(s,n,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;s.payload=function(){return g(y)},s.callback=function(){kv(n,l,h)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){kv(n,l,h),typeof g!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var z=h.stack;this.componentDidCatch(h.value,{componentStack:z!==null?z:""})})}function YN(s,n,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(n=l.alternate,n!==null&&So(n,l,g,!0),l=Ws.current,l!==null){switch(l.tag){case 31:case 13:return fi===null?Md():l.alternate===null&&Mt===0&&(Mt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===od?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([h]):n.add(h),rp(s,h,g)),!1;case 22:return l.flags|=65536,h===od?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([h]):l.add(h)),rp(s,h,g)),!1}throw Error(o(435,l.tag))}return rp(s,h,g),Md(),!1}if(Ke)return n=Ws.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=g,h!==No&&(s=Error(o(422),{cause:h}),Cr(d(s,l)))):(h!==No&&(n=Error(o(423),{cause:h}),Cr(d(n,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,h=d(h,l),g=Pm(s.stateNode,h,g),dm(s,g),Mt!==4&&(Mt=2)),!1;var y=Error(o(520),{cause:h});if(y=d(y,l),bc===null?bc=[y]:bc.push(y),Mt!==4&&(Mt=2),n===null)return!0;h=d(h,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Pm(l.stateNode,h,s),dm(l,s),!1;case 1:if(n=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ka===null||!ka.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Tv(g),Ev(g,s,l,h),dm(l,g),!1}l=l.return}while(l!==null);return!1}var Dm=Error(o(461)),Ht=!1;function hs(s,n,l,h){n.child=s===null?Rg(n,null,l,h):Mr(n,s.child,l,h)}function Av(s,n,l,h,g){l=l.render;var y=n.ref;if("ref"in h){var C={};for(var z in h)z!=="ref"&&(C[z]=h[z])}else C=h;return Tr(n),h=gm(s,n,l,C,y,g),z=vm(),s!==null&&!Ht?(ym(s,n,g),Pn(s,n,g)):(Ke&&z&&Xt(n),n.flags|=1,hs(s,n,h,g),n.child)}function Lv(s,n,l,h,g){if(s===null){var y=l.type;return typeof y=="function"&&!_o(y)&&y.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=y,Mv(s,n,y,h,g)):(s=Sr(l.type,null,h,n,n.mode,g),s.ref=n.ref,s.return=n,n.child=s)}if(y=s.child,!Zm(s,g)){var C=y.memoizedProps;if(l=l.compare,l=l!==null?l:fa,l(C,h)&&s.ref===n.ref)return Pn(s,n,g)}return n.flags|=1,s=hi(y,h),s.ref=n.ref,s.return=n,n.child=s}function Mv(s,n,l,h,g){if(s!==null){var y=s.memoizedProps;if(fa(y,h)&&s.ref===n.ref)if(Ht=!1,n.pendingProps=h=y,Zm(s,g))(s.flags&131072)!==0&&(Ht=!0);else return n.lanes=s.lanes,Pn(s,n,g)}return zm(s,n,l,h,g)}function Rv(s,n,l,h){var g=h.children,y=s!==null?s.memoizedState:null;if(s===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((n.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,s!==null){for(h=n.child=s.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~y}else h=0,n.child=null;return Ov(s,n,y,l,h)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},s!==null&&ad(n,y!==null?y.cachePool:null),y!==null?Dg(n,y):fm(),zg(n);else return h=n.lanes=536870912,Ov(s,n,y!==null?y.baseLanes|l:l,l,h)}else y!==null?(ad(n,y.cachePool),Dg(n,y),ja(),n.memoizedState=null):(s!==null&&ad(n,null),fm(),ja());return hs(s,n,g,l),n.child}function fc(s,n){return s!==null&&s.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ov(s,n,l,h,g){var y=om();return y=y===null?null:{parent:Ut._currentValue,pool:y},n.memoizedState={baseLanes:l,cachePool:y},s!==null&&ad(n,null),fm(),zg(n),s!==null&&So(s,n,h,!0),n.childLanes=g,null}function wd(s,n){return n=jd({mode:n.mode,children:n.children},s.mode),n.ref=s.ref,s.child=n,n.return=s,n}function Pv(s,n,l){return Mr(n,s.child,null,l),s=wd(n,n.pendingProps),s.flags|=2,Qs(n),n.memoizedState=null,s}function XN(s,n,l){var h=n.pendingProps,g=(n.flags&128)!==0;if(n.flags&=-129,s===null){if(Ke){if(h.mode==="hidden")return s=wd(n,h),n.lanes=536870912,fc(null,s);if(pm(n),(s=at)?(s=$y(s,Ps),s=s!==null&&s.data==="&"?s:null,s!==null&&(n.memoizedState={dehydrated:s,treeContext:ce!==null?{id:xe,overflow:je}:null,retryLane:536870912,hydrationErrors:null},l=Ql(s),l.return=n,n.child=l,nt=n,at=null)):s=null,s===null)throw an(n);return n.lanes=536870912,null}return wd(n,h)}var y=s.memoizedState;if(y!==null){var C=y.dehydrated;if(pm(n),g)if(n.flags&256)n.flags&=-257,n=Pv(s,n,l);else if(n.memoizedState!==null)n.child=s.child,n.flags|=128,n=null;else throw Error(o(558));else if(Ht||So(s,n,l,!1),g=(l&s.childLanes)!==0,Ht||g){if(h=bt,h!==null&&(C=Lu(h,l),C!==0&&C!==y.retryLane))throw y.retryLane=C,di(s,C),Us(h,s,C),Dm;Md(),n=Pv(s,n,l)}else s=y.treeContext,at=mi(C.nextSibling),nt=n,Ke=!0,nn=null,Ps=!1,s!==null&&Ns(n,s),n=wd(n,h),n.flags|=4096;return n}return s=hi(s.child,{mode:h.mode,children:h.children}),s.ref=n.ref,n.child=s,s.return=n,s}function _d(s,n){var l=n.ref;if(l===null)s!==null&&s.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(s===null||s.ref!==l)&&(n.flags|=4194816)}}function zm(s,n,l,h,g){return Tr(n),l=gm(s,n,l,h,void 0,g),h=vm(),s!==null&&!Ht?(ym(s,n,g),Pn(s,n,g)):(Ke&&h&&Xt(n),n.flags|=1,hs(s,n,l,g),n.child)}function Dv(s,n,l,h,g,y){return Tr(n),n.updateQueue=null,l=Ig(n,h,l,g),Bg(s),h=vm(),s!==null&&!Ht?(ym(s,n,y),Pn(s,n,y)):(Ke&&h&&Xt(n),n.flags|=1,hs(s,n,l,y),n.child)}function zv(s,n,l,h,g){if(Tr(n),n.stateNode===null){var y=En,C=l.contextType;typeof C=="object"&&C!==null&&(y=ds(C)),y=new l(h,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Om,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=h,y.state=n.memoizedState,y.refs={},cm(n),C=l.contextType,y.context=typeof C=="object"&&C!==null?ds(C):En,y.state=n.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Rm(n,l,C,h),y.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(C=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),C!==y.state&&Om.enqueueReplaceState(y,y.state,null),lc(n,h,y,g),oc(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),h=!0}else if(s===null){y=n.stateNode;var z=n.memoizedProps,X=Or(l,z);y.props=X;var oe=y.context,me=l.contextType;C=En,typeof me=="object"&&me!==null&&(C=ds(me));var ge=l.getDerivedStateFromProps;me=typeof ge=="function"||typeof y.getSnapshotBeforeUpdate=="function",z=n.pendingProps!==z,me||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(z||oe!==C)&&jv(n,y,h,C),ya=!1;var ue=n.memoizedState;y.state=ue,lc(n,h,y,g),oc(),oe=n.memoizedState,z||ue!==oe||ya?(typeof ge=="function"&&(Rm(n,l,ge,h),oe=n.memoizedState),(X=ya||_v(n,l,X,h,ue,oe,C))?(me||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=h,n.memoizedState=oe),y.props=h,y.state=oe,y.context=C,h=X):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),h=!1)}else{y=n.stateNode,um(s,n),C=n.memoizedProps,me=Or(l,C),y.props=me,ge=n.pendingProps,ue=y.context,oe=l.contextType,X=En,typeof oe=="object"&&oe!==null&&(X=ds(oe)),z=l.getDerivedStateFromProps,(oe=typeof z=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==ge||ue!==X)&&jv(n,y,h,X),ya=!1,ue=n.memoizedState,y.state=ue,lc(n,h,y,g),oc();var he=n.memoizedState;C!==ge||ue!==he||ya||s!==null&&s.dependencies!==null&&id(s.dependencies)?(typeof z=="function"&&(Rm(n,l,z,h),he=n.memoizedState),(me=ya||_v(n,l,me,h,ue,he,X)||s!==null&&s.dependencies!==null&&id(s.dependencies))?(oe||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,he,X),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,he,X)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===s.memoizedProps&&ue===s.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ue===s.memoizedState||(n.flags|=1024),n.memoizedProps=h,n.memoizedState=he),y.props=h,y.state=he,y.context=X,h=me):(typeof y.componentDidUpdate!="function"||C===s.memoizedProps&&ue===s.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ue===s.memoizedState||(n.flags|=1024),h=!1)}return y=h,_d(s,n),h=(n.flags&128)!==0,y||h?(y=n.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,s!==null&&h?(n.child=Mr(n,s.child,null,g),n.child=Mr(n,null,l,g)):hs(s,n,l,g),n.memoizedState=y.state,s=n.child):s=Pn(s,n,g),s}function Bv(s,n,l,h){return Ln(),n.flags|=256,hs(s,n,l,h),n.child}var Bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Im(s){return{baseLanes:s,cachePool:kg()}}function Um(s,n,l){return s=s!==null?s.childLanes&~l:0,n&&(s|=ei),s}function Iv(s,n,l){var h=n.pendingProps,g=!1,y=(n.flags&128)!==0,C;if((C=y)||(C=s!==null&&s.memoizedState===null?!1:(Pt.current&2)!==0),C&&(g=!0,n.flags&=-129),C=(n.flags&32)!==0,n.flags&=-33,s===null){if(Ke){if(g?_a(n):ja(),(s=at)?(s=$y(s,Ps),s=s!==null&&s.data!=="&"?s:null,s!==null&&(n.memoizedState={dehydrated:s,treeContext:ce!==null?{id:xe,overflow:je}:null,retryLane:536870912,hydrationErrors:null},l=Ql(s),l.return=n,n.child=l,nt=n,at=null)):s=null,s===null)throw an(n);return _p(s)?n.lanes=32:n.lanes=536870912,null}var z=h.children;return h=h.fallback,g?(ja(),g=n.mode,z=jd({mode:"hidden",children:z},g),h=An(h,g,l,null),z.return=n,h.return=n,z.sibling=h,n.child=z,h=n.child,h.memoizedState=Im(l),h.childLanes=Um(s,C,l),n.memoizedState=Bm,fc(null,h)):(_a(n),Vm(n,z))}var X=s.memoizedState;if(X!==null&&(z=X.dehydrated,z!==null)){if(y)n.flags&256?(_a(n),n.flags&=-257,n=Hm(s,n,l)):n.memoizedState!==null?(ja(),n.child=s.child,n.flags|=128,n=null):(ja(),z=h.fallback,g=n.mode,h=jd({mode:"visible",children:h.children},g),z=An(z,g,l,null),z.flags|=2,h.return=n,z.return=n,h.sibling=z,n.child=h,Mr(n,s.child,null,l),h=n.child,h.memoizedState=Im(l),h.childLanes=Um(s,C,l),n.memoizedState=Bm,n=fc(null,h));else if(_a(n),_p(z)){if(C=z.nextSibling&&z.nextSibling.dataset,C)var oe=C.dgst;C=oe,h=Error(o(419)),h.stack="",h.digest=C,Cr({value:h,source:null,stack:null}),n=Hm(s,n,l)}else if(Ht||So(s,n,l,!1),C=(l&s.childLanes)!==0,Ht||C){if(C=bt,C!==null&&(h=Lu(C,l),h!==0&&h!==X.retryLane))throw X.retryLane=h,di(s,h),Us(C,s,h),Dm;wp(z)||Md(),n=Hm(s,n,l)}else wp(z)?(n.flags|=192,n.child=s.child,n=null):(s=X.treeContext,at=mi(z.nextSibling),nt=n,Ke=!0,nn=null,Ps=!1,s!==null&&Ns(n,s),n=Vm(n,h.children),n.flags|=4096);return n}return g?(ja(),z=h.fallback,g=n.mode,X=s.child,oe=X.sibling,h=hi(X,{mode:"hidden",children:h.children}),h.subtreeFlags=X.subtreeFlags&65011712,oe!==null?z=hi(oe,z):(z=An(z,g,l,null),z.flags|=2),z.return=n,h.return=n,h.sibling=z,n.child=h,fc(null,h),h=n.child,z=s.child.memoizedState,z===null?z=Im(l):(g=z.cachePool,g!==null?(X=Ut._currentValue,g=g.parent!==X?{parent:X,pool:X}:g):g=kg(),z={baseLanes:z.baseLanes|l,cachePool:g}),h.memoizedState=z,h.childLanes=Um(s,C,l),n.memoizedState=Bm,fc(s.child,h)):(_a(n),l=s.child,s=l.sibling,l=hi(l,{mode:"visible",children:h.children}),l.return=n,l.sibling=null,s!==null&&(C=n.deletions,C===null?(n.deletions=[s],n.flags|=16):C.push(s)),n.child=l,n.memoizedState=null,l)}function Vm(s,n){return n=jd({mode:"visible",children:n},s.mode),n.return=s,s.child=n}function jd(s,n){return s=ps(22,s,null,n),s.lanes=0,s}function Hm(s,n,l){return Mr(n,s.child,null,l),s=Vm(n,n.pendingProps.children),s.flags|=2,n.memoizedState=null,s}function Uv(s,n,l){s.lanes|=n;var h=s.alternate;h!==null&&(h.lanes|=n),im(s.return,n,l)}function Fm(s,n,l,h,g,y){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g,treeForkCount:y}:(C.isBackwards=n,C.rendering=null,C.renderingStartTime=0,C.last=h,C.tail=l,C.tailMode=g,C.treeForkCount=y)}function Vv(s,n,l){var h=n.pendingProps,g=h.revealOrder,y=h.tail;h=h.children;var C=Pt.current,z=(C&2)!==0;if(z?(C=C&1|2,n.flags|=128):C&=1,W(Pt,C),hs(s,n,h,l),h=Ke?P:0,!z&&s!==null&&(s.flags&128)!==0)e:for(s=n.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Uv(s,l,n);else if(s.tag===19)Uv(s,l,n);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=n.child,g=null;l!==null;)s=l.alternate,s!==null&&dd(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=n.child,n.child=null):(g=l.sibling,l.sibling=null),Fm(n,!1,g,l,y,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=n.child,n.child=null;g!==null;){if(s=g.alternate,s!==null&&dd(s)===null){n.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Fm(n,!0,l,null,y,h);break;case"together":Fm(n,!1,null,null,void 0,h);break;default:n.memoizedState=null}return n.child}function Pn(s,n,l){if(s!==null&&(n.dependencies=s.dependencies),Ca|=n.lanes,(l&n.childLanes)===0)if(s!==null){if(So(s,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(s!==null&&n.child!==s.child)throw Error(o(153));if(n.child!==null){for(s=n.child,l=hi(s,s.pendingProps),n.child=l,l.return=n;s.sibling!==null;)s=s.sibling,l=l.sibling=hi(s,s.pendingProps),l.return=n;l.sibling=null}return n.child}function Zm(s,n){return(s.lanes&n)!==0?!0:(s=s.dependencies,!!(s!==null&&id(s)))}function KN(s,n,l){switch(n.tag){case 3:it(n,n.stateNode.containerInfo),va(n,Ut,s.memoizedState.cache),Ln();break;case 27:case 5:es(n);break;case 4:it(n,n.stateNode.containerInfo);break;case 10:va(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pm(n),null;break;case 13:var h=n.memoizedState;if(h!==null)return h.dehydrated!==null?(_a(n),n.flags|=128,null):(l&n.child.childLanes)!==0?Iv(s,n,l):(_a(n),s=Pn(s,n,l),s!==null?s.sibling:null);_a(n);break;case 19:var g=(s.flags&128)!==0;if(h=(l&n.childLanes)!==0,h||(So(s,n,l,!1),h=(l&n.childLanes)!==0),g){if(h)return Vv(s,n,l);n.flags|=128}if(g=n.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),W(Pt,Pt.current),h)break;return null;case 22:return n.lanes=0,Rv(s,n,l,n.pendingProps);case 24:va(n,Ut,s.memoizedState.cache)}return Pn(s,n,l)}function Hv(s,n,l){if(s!==null)if(s.memoizedProps!==n.pendingProps)Ht=!0;else{if(!Zm(s,l)&&(n.flags&128)===0)return Ht=!1,KN(s,n,l);Ht=(s.flags&131072)!==0}else Ht=!1,Ke&&(n.flags&1048576)!==0&&Ve(n,P,n.index);switch(n.lanes=0,n.tag){case 16:e:{var h=n.pendingProps;if(s=Ar(n.elementType),n.type=s,typeof s=="function")_o(s)?(h=Or(s,h),n.tag=1,n=zv(null,n,s,h,l)):(n.tag=0,n=zm(null,n,s,h,l));else{if(s!=null){var g=s.$$typeof;if(g===D){n.tag=11,n=Av(null,n,s,h,l);break e}else if(g===Z){n.tag=14,n=Lv(null,n,s,h,l);break e}}throw n=F(s)||s,Error(o(306,n,""))}}return n;case 0:return zm(s,n,n.type,n.pendingProps,l);case 1:return h=n.type,g=Or(h,n.pendingProps),zv(s,n,h,g,l);case 3:e:{if(it(n,n.stateNode.containerInfo),s===null)throw Error(o(387));h=n.pendingProps;var y=n.memoizedState;g=y.element,um(s,n),lc(n,h,null,l);var C=n.memoizedState;if(h=C.cache,va(n,Ut,h),h!==y.cache&&nm(n,[Ut],l,!0),oc(),h=C.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:C.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=Bv(s,n,h,l);break e}else if(h!==g){g=d(Error(o(424)),n),Cr(g),n=Bv(s,n,h,l);break e}else for(s=n.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,at=mi(s.firstChild),nt=n,Ke=!0,nn=null,Ps=!0,l=Rg(n,null,h,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ln(),h===g){n=Pn(s,n,l);break e}hs(s,n,h,l)}n=n.child}return n;case 26:return _d(s,n),s===null?(l=Jy(n.type,null,n.pendingProps,null))?n.memoizedState=l:Ke||(l=n.type,s=n.pendingProps,h=Id(we.current).createElement(l),h[Bt]=n,h[ts]=s,fs(h,l,s),It(h),n.stateNode=h):n.memoizedState=Jy(n.type,s.memoizedProps,n.pendingProps,s.memoizedState),null;case 27:return es(n),s===null&&Ke&&(h=n.stateNode=Ky(n.type,n.pendingProps,we.current),nt=n,Ps=!0,g=at,La(n.type)?(jp=g,at=mi(h.firstChild)):at=g),hs(s,n,n.pendingProps.children,l),_d(s,n),s===null&&(n.flags|=4194304),n.child;case 5:return s===null&&Ke&&((g=h=at)&&(h=C5(h,n.type,n.pendingProps,Ps),h!==null?(n.stateNode=h,nt=n,at=mi(h.firstChild),Ps=!1,g=!0):g=!1),g||an(n)),es(n),g=n.type,y=n.pendingProps,C=s!==null?s.memoizedProps:null,h=y.children,vp(g,y)?h=null:C!==null&&vp(g,C)&&(n.flags|=32),n.memoizedState!==null&&(g=gm(s,n,VN,null,null,l),Tc._currentValue=g),_d(s,n),hs(s,n,h,l),n.child;case 6:return s===null&&Ke&&((s=l=at)&&(l=k5(l,n.pendingProps,Ps),l!==null?(n.stateNode=l,nt=n,at=null,s=!0):s=!1),s||an(n)),null;case 13:return Iv(s,n,l);case 4:return it(n,n.stateNode.containerInfo),h=n.pendingProps,s===null?n.child=Mr(n,null,h,l):hs(s,n,h,l),n.child;case 11:return Av(s,n,n.type,n.pendingProps,l);case 7:return hs(s,n,n.pendingProps,l),n.child;case 8:return hs(s,n,n.pendingProps.children,l),n.child;case 12:return hs(s,n,n.pendingProps.children,l),n.child;case 10:return h=n.pendingProps,va(n,n.type,h.value),hs(s,n,h.children,l),n.child;case 9:return g=n.type._context,h=n.pendingProps.children,Tr(n),g=ds(g),h=h(g),n.flags|=1,hs(s,n,h,l),n.child;case 14:return Lv(s,n,n.type,n.pendingProps,l);case 15:return Mv(s,n,n.type,n.pendingProps,l);case 19:return Vv(s,n,l);case 31:return XN(s,n,l);case 22:return Rv(s,n,l,n.pendingProps);case 24:return Tr(n),h=ds(Ut),s===null?(g=om(),g===null&&(g=bt,y=am(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),n.memoizedState={parent:h,cache:g},cm(n),va(n,Ut,g)):((s.lanes&l)!==0&&(um(s,n),lc(n,null,null,l),oc()),g=s.memoizedState,y=n.memoizedState,g.parent!==h?(g={parent:h,cache:h},n.memoizedState=g,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=g),va(n,Ut,h)):(h=y.cache,va(n,Ut,h),h!==g.cache&&nm(n,[Ut],l,!0))),hs(s,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function Dn(s){s.flags|=4}function qm(s,n,l,h,g){if((n=(s.mode&32)!==0)&&(n=!1),n){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(py())s.flags|=8192;else throw Lr=od,lm}else s.flags&=-16777217}function Fv(s,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!nb(n))if(py())s.flags|=8192;else throw Lr=od,lm}function Nd(s,n){n!==null&&(s.flags|=4),s.flags&16384&&(n=s.tag!==22?Tu():536870912,s.lanes|=n,zo|=n)}function mc(s,n){if(!Ke)switch(s.tailMode){case"hidden":n=s.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?n||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function _t(s){var n=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(n)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=l,n}function WN(s,n,l){var h=n.pendingProps;switch(At(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(n),null;case 1:return _t(n),null;case 3:return l=n.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),n.memoizedState.cache!==h&&(n.flags|=2048),Mn(Ut),Fe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Ei(n)?Dn(n):s===null||s.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tc())),_t(n),null;case 26:var g=n.type,y=n.memoizedState;return s===null?(Dn(n),y!==null?(_t(n),Fv(n,y)):(_t(n),qm(n,g,null,h,l))):y?y!==s.memoizedState?(Dn(n),_t(n),Fv(n,y)):(_t(n),n.flags&=-16777217):(s=s.memoizedProps,s!==h&&Dn(n),_t(n),qm(n,g,s,h,l)),null;case 27:if(ks(n),l=we.current,g=n.type,s!==null&&n.stateNode!=null)s.memoizedProps!==h&&Dn(n);else{if(!h){if(n.stateNode===null)throw Error(o(166));return _t(n),null}s=fe.current,Ei(n)?ec(n):(s=Ky(g,h,l),n.stateNode=s,Dn(n))}return _t(n),null;case 5:if(ks(n),g=n.type,s!==null&&n.stateNode!=null)s.memoizedProps!==h&&Dn(n);else{if(!h){if(n.stateNode===null)throw Error(o(166));return _t(n),null}if(y=fe.current,Ei(n))ec(n);else{var C=Id(we.current);switch(y){case 1:y=C.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=C.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=C.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?C.createElement("select",{is:h.is}):C.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?C.createElement(g,{is:h.is}):C.createElement(g)}}y[Bt]=n,y[ts]=h;e:for(C=n.child;C!==null;){if(C.tag===5||C.tag===6)y.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===n)break e;for(;C.sibling===null;){if(C.return===null||C.return===n)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}n.stateNode=y;e:switch(fs(y,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Dn(n)}}return _t(n),qm(n,n.type,s===null?null:s.memoizedProps,n.pendingProps,l),null;case 6:if(s&&n.stateNode!=null)s.memoizedProps!==h&&Dn(n);else{if(typeof h!="string"&&n.stateNode===null)throw Error(o(166));if(s=we.current,Ei(n)){if(s=n.stateNode,l=n.memoizedProps,h=null,g=nt,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}s[Bt]=n,s=!!(s.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||Iy(s.nodeValue,l)),s||an(n,!0)}else s=Id(s).createTextNode(h),s[Bt]=n,n.stateNode=s}return _t(n),null;case 31:if(l=n.memoizedState,s===null||s.memoizedState!==null){if(h=Ei(n),l!==null){if(s===null){if(!h)throw Error(o(318));if(s=n.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(557));s[Bt]=n}else Ln(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_t(n),s=!1}else l=tc(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return n.flags&256?(Qs(n),n):(Qs(n),null);if((n.flags&128)!==0)throw Error(o(558))}return _t(n),null;case 13:if(h=n.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Ei(n),h!==null&&h.dehydrated!==null){if(s===null){if(!g)throw Error(o(318));if(g=n.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));g[Bt]=n}else Ln(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_t(n),g=!1}else g=tc(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return n.flags&256?(Qs(n),n):(Qs(n),null)}return Qs(n),(n.flags&128)!==0?(n.lanes=l,n):(l=h!==null,s=s!==null&&s.memoizedState!==null,l&&(h=n.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)),l!==s&&l&&(n.child.flags|=8192),Nd(n,n.updateQueue),_t(n),null);case 4:return Fe(),s===null&&fp(n.stateNode.containerInfo),_t(n),null;case 10:return Mn(n.type),_t(n),null;case 19:if($(Pt),h=n.memoizedState,h===null)return _t(n),null;if(g=(n.flags&128)!==0,y=h.rendering,y===null)if(g)mc(h,!1);else{if(Mt!==0||s!==null&&(s.flags&128)!==0)for(s=n.child;s!==null;){if(y=dd(s),y!==null){for(n.flags|=128,mc(h,!1),s=y.updateQueue,n.updateQueue=s,Nd(n,s),n.subtreeFlags=0,s=l,l=n.child;l!==null;)Wl(l,s),l=l.sibling;return W(Pt,Pt.current&1|2),Ke&&Ae(n,h.treeForkCount),n.child}s=s.sibling}h.tail!==null&&ws()>Ed&&(n.flags|=128,g=!0,mc(h,!1),n.lanes=4194304)}else{if(!g)if(s=dd(y),s!==null){if(n.flags|=128,g=!0,s=s.updateQueue,n.updateQueue=s,Nd(n,s),mc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Ke)return _t(n),null}else 2*ws()-h.renderingStartTime>Ed&&l!==536870912&&(n.flags|=128,g=!0,mc(h,!1),n.lanes=4194304);h.isBackwards?(y.sibling=n.child,n.child=y):(s=h.last,s!==null?s.sibling=y:n.child=y,h.last=y)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=ws(),s.sibling=null,l=Pt.current,W(Pt,g?l&1|2:l&1),Ke&&Ae(n,h.treeForkCount),s):(_t(n),null);case 22:case 23:return Qs(n),mm(),h=n.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(n.flags|=8192):h&&(n.flags|=8192),h?(l&536870912)!==0&&(n.flags&128)===0&&(_t(n),n.subtreeFlags&6&&(n.flags|=8192)):_t(n),l=n.updateQueue,l!==null&&Nd(n,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),h=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(h=n.memoizedState.cachePool.pool),h!==l&&(n.flags|=2048),s!==null&&$(Er),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Mn(Ut),_t(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function QN(s,n){switch(At(n),n.tag){case 1:return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 3:return Mn(Ut),Fe(),s=n.flags,(s&65536)!==0&&(s&128)===0?(n.flags=s&-65537|128,n):null;case 26:case 27:case 5:return ks(n),null;case 31:if(n.memoizedState!==null){if(Qs(n),n.alternate===null)throw Error(o(340));Ln()}return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 13:if(Qs(n),s=n.memoizedState,s!==null&&s.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Ln()}return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 19:return $(Pt),null;case 4:return Fe(),null;case 10:return Mn(n.type),null;case 22:case 23:return Qs(n),mm(),s!==null&&$(Er),s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 24:return Mn(Ut),null;case 25:return null;default:return null}}function Zv(s,n){switch(At(n),n.tag){case 3:Mn(Ut),Fe();break;case 26:case 27:case 5:ks(n);break;case 4:Fe();break;case 31:n.memoizedState!==null&&Qs(n);break;case 13:Qs(n);break;case 19:$(Pt);break;case 10:Mn(n.type);break;case 22:case 23:Qs(n),mm(),s!==null&&$(Er);break;case 24:Mn(Ut)}}function pc(s,n){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&s)===s){h=void 0;var y=l.create,C=l.inst;h=y(),C.destroy=h}l=l.next}while(l!==g)}}catch(z){ht(n,n.return,z)}}function Na(s,n,l){try{var h=n.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&s)===s){var C=h.inst,z=C.destroy;if(z!==void 0){C.destroy=void 0,g=n;var X=l,oe=z;try{oe()}catch(me){ht(g,X,me)}}}h=h.next}while(h!==y)}}catch(me){ht(n,n.return,me)}}function qv(s){var n=s.updateQueue;if(n!==null){var l=s.stateNode;try{Pg(n,l)}catch(h){ht(s,s.return,h)}}}function Gv(s,n,l){l.props=Or(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(h){ht(s,n,h)}}function xc(s,n){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof l=="function"?s.refCleanup=l(h):l.current=h}}catch(g){ht(s,n,g)}}function on(s,n){var l=s.ref,h=s.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){ht(s,n,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){ht(s,n,g)}else l.current=null}function $v(s){var n=s.type,l=s.memoizedProps,h=s.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){ht(s,s.return,g)}}function Gm(s,n,l){try{var h=s.stateNode;b5(h,s.type,l,n),h[ts]=n}catch(g){ht(s,s.return,g)}}function Yv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&La(s.type)||s.tag===4}function $m(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Yv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&La(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ym(s,n,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(s),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Ls));else if(h!==4&&(h===27&&La(s.type)&&(l=s.stateNode,n=null),s=s.child,s!==null))for(Ym(s,n,l),s=s.sibling;s!==null;)Ym(s,n,l),s=s.sibling}function Sd(s,n,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,n?l.insertBefore(s,n):l.appendChild(s);else if(h!==4&&(h===27&&La(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Sd(s,n,l),s=s.sibling;s!==null;)Sd(s,n,l),s=s.sibling}function Xv(s){var n=s.stateNode,l=s.memoizedProps;try{for(var h=s.type,g=n.attributes;g.length;)n.removeAttributeNode(g[0]);fs(n,h,l),n[Bt]=s,n[ts]=l}catch(y){ht(s,s.return,y)}}var zn=!1,Ft=!1,Xm=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,ns=null;function JN(s,n){if(s=s.containerInfo,xp=Gd,s=vr(s),Qi(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var C=0,z=-1,X=-1,oe=0,me=0,ge=s,ue=null;t:for(;;){for(var he;ge!==l||g!==0&&ge.nodeType!==3||(z=C+g),ge!==y||h!==0&&ge.nodeType!==3||(X=C+h),ge.nodeType===3&&(C+=ge.nodeValue.length),(he=ge.firstChild)!==null;)ue=ge,ge=he;for(;;){if(ge===s)break t;if(ue===l&&++oe===g&&(z=C),ue===y&&++me===h&&(X=C),(he=ge.nextSibling)!==null)break;ge=ue,ue=ge.parentNode}ge=he}l=z===-1||X===-1?null:{start:z,end:X}}else l=null}l=l||{start:0,end:0}}else l=null;for(gp={focusedElem:s,selectionRange:l},Gd=!1,ns=n;ns!==null;)if(n=ns,s=n.child,(n.subtreeFlags&1028)!==0&&s!==null)s.return=n,ns=s;else for(;ns!==null;){switch(n=ns,y=n.alternate,s=n.flags,n.tag){case 0:if((s&4)!==0&&(s=n.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=n,g=y.memoizedProps,y=y.memoizedState,h=l.stateNode;try{var Se=Or(l.type,g);s=h.getSnapshotBeforeUpdate(Se,y),h.__reactInternalSnapshotBeforeUpdate=s}catch(Me){ht(l,l.return,Me)}}break;case 3:if((s&1024)!==0){if(s=n.stateNode.containerInfo,l=s.nodeType,l===9)bp(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":bp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(o(163))}if(s=n.sibling,s!==null){s.return=n.return,ns=s;break}ns=n.return}}function Wv(s,n,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:In(s,l),h&4&&pc(5,l);break;case 1:if(In(s,l),h&4)if(s=l.stateNode,n===null)try{s.componentDidMount()}catch(C){ht(l,l.return,C)}else{var g=Or(l.type,n.memoizedProps);n=n.memoizedState;try{s.componentDidUpdate(g,n,s.__reactInternalSnapshotBeforeUpdate)}catch(C){ht(l,l.return,C)}}h&64&&qv(l),h&512&&xc(l,l.return);break;case 3:if(In(s,l),h&64&&(s=l.updateQueue,s!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{Pg(s,n)}catch(C){ht(l,l.return,C)}}break;case 27:n===null&&h&4&&Xv(l);case 26:case 5:In(s,l),n===null&&h&4&&$v(l),h&512&&xc(l,l.return);break;case 12:In(s,l);break;case 31:In(s,l),h&4&&ey(s,l);break;case 13:In(s,l),h&4&&ty(s,l),h&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=l5.bind(null,l),T5(s,l))));break;case 22:if(h=l.memoizedState!==null||zn,!h){n=n!==null&&n.memoizedState!==null||Ft,g=zn;var y=Ft;zn=h,(Ft=n)&&!y?Un(s,l,(l.subtreeFlags&8772)!==0):In(s,l),zn=g,Ft=y}break;case 30:break;default:In(s,l)}}function Qv(s){var n=s.alternate;n!==null&&(s.alternate=null,Qv(n)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(n=s.stateNode,n!==null&&Rl(n)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Nt=null,Ds=!1;function Bn(s,n,l){for(l=l.child;l!==null;)Jv(s,n,l),l=l.sibling}function Jv(s,n,l){if(cs&&typeof cs.onCommitFiberUnmount=="function")try{cs.onCommitFiberUnmount(Jn,l)}catch{}switch(l.tag){case 26:Ft||on(l,n),Bn(s,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ft||on(l,n);var h=Nt,g=Ds;La(l.type)&&(Nt=l.stateNode,Ds=!1),Bn(s,n,l),Sc(l.stateNode),Nt=h,Ds=g;break;case 5:Ft||on(l,n);case 6:if(h=Nt,g=Ds,Nt=null,Bn(s,n,l),Nt=h,Ds=g,Nt!==null)if(Ds)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(l.stateNode)}catch(y){ht(l,n,y)}else try{Nt.removeChild(l.stateNode)}catch(y){ht(l,n,y)}break;case 18:Nt!==null&&(Ds?(s=Nt,qy(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),qo(s)):qy(Nt,l.stateNode));break;case 4:h=Nt,g=Ds,Nt=l.stateNode.containerInfo,Ds=!0,Bn(s,n,l),Nt=h,Ds=g;break;case 0:case 11:case 14:case 15:Na(2,l,n),Ft||Na(4,l,n),Bn(s,n,l);break;case 1:Ft||(on(l,n),h=l.stateNode,typeof h.componentWillUnmount=="function"&&Gv(l,n,h)),Bn(s,n,l);break;case 21:Bn(s,n,l);break;case 22:Ft=(h=Ft)||l.memoizedState!==null,Bn(s,n,l),Ft=h;break;default:Bn(s,n,l)}}function ey(s,n){if(n.memoizedState===null&&(s=n.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{qo(s)}catch(l){ht(n,n.return,l)}}}function ty(s,n){if(n.memoizedState===null&&(s=n.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{qo(s)}catch(l){ht(n,n.return,l)}}function e5(s){switch(s.tag){case 31:case 13:case 19:var n=s.stateNode;return n===null&&(n=s.stateNode=new Kv),n;case 22:return s=s.stateNode,n=s._retryCache,n===null&&(n=s._retryCache=new Kv),n;default:throw Error(o(435,s.tag))}}function Cd(s,n){var l=e5(s);n.forEach(function(h){if(!l.has(h)){l.add(h);var g=c5.bind(null,s,h);h.then(g,g)}})}function zs(s,n){var l=n.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],y=s,C=n,z=C;e:for(;z!==null;){switch(z.tag){case 27:if(La(z.type)){Nt=z.stateNode,Ds=!1;break e}break;case 5:Nt=z.stateNode,Ds=!1;break e;case 3:case 4:Nt=z.stateNode.containerInfo,Ds=!0;break e}z=z.return}if(Nt===null)throw Error(o(160));Jv(y,C,g),Nt=null,Ds=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)sy(n,s),n=n.sibling}var Li=null;function sy(s,n){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:zs(n,s),Bs(s),h&4&&(Na(3,s,s.return),pc(3,s),Na(5,s,s.return));break;case 1:zs(n,s),Bs(s),h&512&&(Ft||l===null||on(l,l.return)),h&64&&zn&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=Li;if(zs(n,s),Bs(s),h&512&&(Ft||l===null||on(l,l.return)),h&4){var y=l!==null?l.memoizedState:null;if(h=s.memoizedState,l===null)if(h===null)if(s.stateNode===null){e:{h=s.type,l=s.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[sr]||y[Bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),fs(y,h,l),y[Bt]=s,It(y),h=y;break e;case"link":var C=sb("link","href",g).get(h+(l.href||""));if(C){for(var z=0;z<C.length;z++)if(y=C[z],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(z,1);break t}}y=g.createElement(h),fs(y,h,l),g.head.appendChild(y);break;case"meta":if(C=sb("meta","content",g).get(h+(l.content||""))){for(z=0;z<C.length;z++)if(y=C[z],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(z,1);break t}}y=g.createElement(h),fs(y,h,l),g.head.appendChild(y);break;default:throw Error(o(468,h))}y[Bt]=s,It(y),h=y}s.stateNode=h}else ib(g,s.type,s.stateNode);else s.stateNode=tb(g,h,s.memoizedProps);else y!==h?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,h===null?ib(g,s.type,s.stateNode):tb(g,h,s.memoizedProps)):h===null&&s.stateNode!==null&&Gm(s,s.memoizedProps,l.memoizedProps)}break;case 27:zs(n,s),Bs(s),h&512&&(Ft||l===null||on(l,l.return)),l!==null&&h&4&&Gm(s,s.memoizedProps,l.memoizedProps);break;case 5:if(zs(n,s),Bs(s),h&512&&(Ft||l===null||on(l,l.return)),s.flags&32){g=s.stateNode;try{ai(g,"")}catch(Se){ht(s,s.return,Se)}}h&4&&s.stateNode!=null&&(g=s.memoizedProps,Gm(s,g,l!==null?l.memoizedProps:g)),h&1024&&(Xm=!0);break;case 6:if(zs(n,s),Bs(s),h&4){if(s.stateNode===null)throw Error(o(162));h=s.memoizedProps,l=s.stateNode;try{l.nodeValue=h}catch(Se){ht(s,s.return,Se)}}break;case 3:if(Hd=null,g=Li,Li=Ud(n.containerInfo),zs(n,s),Li=g,Bs(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{qo(n.containerInfo)}catch(Se){ht(s,s.return,Se)}Xm&&(Xm=!1,iy(s));break;case 4:h=Li,Li=Ud(s.stateNode.containerInfo),zs(n,s),Bs(s),Li=h;break;case 12:zs(n,s),Bs(s);break;case 31:zs(n,s),Bs(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Cd(s,h)));break;case 13:zs(n,s),Bs(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Td=ws()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Cd(s,h)));break;case 22:g=s.memoizedState!==null;var X=l!==null&&l.memoizedState!==null,oe=zn,me=Ft;if(zn=oe||g,Ft=me||X,zs(n,s),Ft=me,zn=oe,Bs(s),h&8192)e:for(n=s.stateNode,n._visibility=g?n._visibility&-2:n._visibility|1,g&&(l===null||X||zn||Ft||Pr(s)),l=null,n=s;;){if(n.tag===5||n.tag===26){if(l===null){X=l=n;try{if(y=X.stateNode,g)C=y.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{z=X.stateNode;var ge=X.memoizedProps.style,ue=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;z.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(Se){ht(X,X.return,Se)}}}else if(n.tag===6){if(l===null){X=n;try{X.stateNode.nodeValue=g?"":X.memoizedProps}catch(Se){ht(X,X.return,Se)}}}else if(n.tag===18){if(l===null){X=n;try{var he=X.stateNode;g?Gy(he,!0):Gy(X.stateNode,!1)}catch(Se){ht(X,X.return,Se)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===s)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}h&4&&(h=s.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Cd(s,l))));break;case 19:zs(n,s),Bs(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Cd(s,h)));break;case 30:break;case 21:break;default:zs(n,s),Bs(s)}}function Bs(s){var n=s.flags;if(n&2){try{for(var l,h=s.return;h!==null;){if(Yv(h)){l=h;break}h=h.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var g=l.stateNode,y=$m(s);Sd(s,y,g);break;case 5:var C=l.stateNode;l.flags&32&&(ai(C,""),l.flags&=-33);var z=$m(s);Sd(s,z,C);break;case 3:case 4:var X=l.stateNode.containerInfo,oe=$m(s);Ym(s,oe,X);break;default:throw Error(o(161))}}catch(me){ht(s,s.return,me)}s.flags&=-3}n&4096&&(s.flags&=-4097)}function iy(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var n=s;iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),s=s.sibling}}function In(s,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wv(s,n.alternate,n),n=n.sibling}function Pr(s){for(s=s.child;s!==null;){var n=s;switch(n.tag){case 0:case 11:case 14:case 15:Na(4,n,n.return),Pr(n);break;case 1:on(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Gv(n,n.return,l),Pr(n);break;case 27:Sc(n.stateNode);case 26:case 5:on(n,n.return),Pr(n);break;case 22:n.memoizedState===null&&Pr(n);break;case 30:Pr(n);break;default:Pr(n)}s=s.sibling}}function Un(s,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var h=n.alternate,g=s,y=n,C=y.flags;switch(y.tag){case 0:case 11:case 15:Un(g,y,l),pc(4,y);break;case 1:if(Un(g,y,l),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(oe){ht(h,h.return,oe)}if(h=y,g=h.updateQueue,g!==null){var z=h.stateNode;try{var X=g.shared.hiddenCallbacks;if(X!==null)for(g.shared.hiddenCallbacks=null,g=0;g<X.length;g++)Og(X[g],z)}catch(oe){ht(h,h.return,oe)}}l&&C&64&&qv(y),xc(y,y.return);break;case 27:Xv(y);case 26:case 5:Un(g,y,l),l&&h===null&&C&4&&$v(y),xc(y,y.return);break;case 12:Un(g,y,l);break;case 31:Un(g,y,l),l&&C&4&&ey(g,y);break;case 13:Un(g,y,l),l&&C&4&&ty(g,y);break;case 22:y.memoizedState===null&&Un(g,y,l),xc(y,y.return);break;case 30:break;default:Un(g,y,l)}n=n.sibling}}function Km(s,n){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&sc(l))}function Wm(s,n){s=null,n.alternate!==null&&(s=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==s&&(n.refCount++,s!=null&&sc(s))}function Mi(s,n,l,h){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ny(s,n,l,h),n=n.sibling}function ny(s,n,l,h){var g=n.flags;switch(n.tag){case 0:case 11:case 15:Mi(s,n,l,h),g&2048&&pc(9,n);break;case 1:Mi(s,n,l,h);break;case 3:Mi(s,n,l,h),g&2048&&(s=null,n.alternate!==null&&(s=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==s&&(n.refCount++,s!=null&&sc(s)));break;case 12:if(g&2048){Mi(s,n,l,h),s=n.stateNode;try{var y=n.memoizedProps,C=y.id,z=y.onPostCommit;typeof z=="function"&&z(C,n.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(X){ht(n,n.return,X)}}else Mi(s,n,l,h);break;case 31:Mi(s,n,l,h);break;case 13:Mi(s,n,l,h);break;case 23:break;case 22:y=n.stateNode,C=n.alternate,n.memoizedState!==null?y._visibility&2?Mi(s,n,l,h):gc(s,n):y._visibility&2?Mi(s,n,l,h):(y._visibility|=2,Oo(s,n,l,h,(n.subtreeFlags&10256)!==0||!1)),g&2048&&Km(C,n);break;case 24:Mi(s,n,l,h),g&2048&&Wm(n.alternate,n);break;default:Mi(s,n,l,h)}}function Oo(s,n,l,h,g){for(g=g&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var y=s,C=n,z=l,X=h,oe=C.flags;switch(C.tag){case 0:case 11:case 15:Oo(y,C,z,X,g),pc(8,C);break;case 23:break;case 22:var me=C.stateNode;C.memoizedState!==null?me._visibility&2?Oo(y,C,z,X,g):gc(y,C):(me._visibility|=2,Oo(y,C,z,X,g)),g&&oe&2048&&Km(C.alternate,C);break;case 24:Oo(y,C,z,X,g),g&&oe&2048&&Wm(C.alternate,C);break;default:Oo(y,C,z,X,g)}n=n.sibling}}function gc(s,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=s,h=n,g=h.flags;switch(h.tag){case 22:gc(l,h),g&2048&&Km(h.alternate,h);break;case 24:gc(l,h),g&2048&&Wm(h.alternate,h);break;default:gc(l,h)}n=n.sibling}}var vc=8192;function Po(s,n,l){if(s.subtreeFlags&vc)for(s=s.child;s!==null;)ay(s,n,l),s=s.sibling}function ay(s,n,l){switch(s.tag){case 26:Po(s,n,l),s.flags&vc&&s.memoizedState!==null&&U5(l,Li,s.memoizedState,s.memoizedProps);break;case 5:Po(s,n,l);break;case 3:case 4:var h=Li;Li=Ud(s.stateNode.containerInfo),Po(s,n,l),Li=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=vc,vc=16777216,Po(s,n,l),vc=h):Po(s,n,l));break;default:Po(s,n,l)}}function ry(s){var n=s.alternate;if(n!==null&&(s=n.child,s!==null)){n.child=null;do n=s.sibling,s.sibling=null,s=n;while(s!==null)}}function yc(s){var n=s.deletions;if((s.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var h=n[l];ns=h,ly(h,s)}ry(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)oy(s),s=s.sibling}function oy(s){switch(s.tag){case 0:case 11:case 15:yc(s),s.flags&2048&&Na(9,s,s.return);break;case 3:yc(s);break;case 12:yc(s);break;case 22:var n=s.stateNode;s.memoizedState!==null&&n._visibility&2&&(s.return===null||s.return.tag!==13)?(n._visibility&=-3,kd(s)):yc(s);break;default:yc(s)}}function kd(s){var n=s.deletions;if((s.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var h=n[l];ns=h,ly(h,s)}ry(s)}for(s=s.child;s!==null;){switch(n=s,n.tag){case 0:case 11:case 15:Na(8,n,n.return),kd(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,kd(n));break;default:kd(n)}s=s.sibling}}function ly(s,n){for(;ns!==null;){var l=ns;switch(l.tag){case 0:case 11:case 15:Na(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:sc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,ns=h;else e:for(l=s;ns!==null;){h=ns;var g=h.sibling,y=h.return;if(Qv(h),h===l){ns=null;break e}if(g!==null){g.return=y,ns=g;break e}ns=y}}}var t5={getCacheForType:function(s){var n=ds(Ut),l=n.data.get(s);return l===void 0&&(l=s(),n.data.set(s,l)),l},cacheSignal:function(){return ds(Ut).controller.signal}},s5=typeof WeakMap=="function"?WeakMap:Map,lt=0,bt=null,We=null,tt=0,dt=0,Js=null,Sa=!1,Do=!1,Qm=!1,Vn=0,Mt=0,Ca=0,Dr=0,Jm=0,ei=0,zo=0,bc=null,Is=null,ep=!1,Td=0,cy=0,Ed=1/0,Ad=null,ka=null,Kt=0,Ta=null,Bo=null,Hn=0,tp=0,sp=null,uy=null,wc=0,ip=null;function ti(){return(lt&2)!==0&&tt!==0?tt&-tt:U.T!==null?cp():Ll()}function dy(){if(ei===0)if((tt&536870912)===0||Ke){var s=Ja;Ja<<=1,(Ja&3932160)===0&&(Ja=262144),ei=s}else ei=536870912;return s=Ws.current,s!==null&&(s.flags|=32),ei}function Us(s,n,l){(s===bt&&(dt===2||dt===9)||s.cancelPendingCommit!==null)&&(Io(s,0),Ea(s,tt,ei,!1)),wn(s,l),((lt&2)===0||s!==bt)&&(s===bt&&((lt&2)===0&&(Dr|=l),Mt===4&&Ea(s,tt,ei,!1)),ln(s))}function hy(s,n,l){if((lt&6)!==0)throw Error(o(327));var h=!l&&(n&127)===0&&(n&s.expiredLanes)===0||tr(s,n),g=h?a5(s,n):ap(s,n,!0),y=h;do{if(g===0){Do&&!h&&Ea(s,n,0,!1);break}else{if(l=s.current.alternate,y&&!i5(l)){g=ap(s,n,!1),y=!1;continue}if(g===2){if(y=n,s.errorRecoveryDisabledLanes&y)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){n=C;e:{var z=s;g=bc;var X=z.current.memoizedState.isDehydrated;if(X&&(Io(z,C).flags|=256),C=ap(z,C,!1),C!==2){if(Qm&&!X){z.errorRecoveryDisabledLanes|=y,Dr|=y,g=4;break e}y=Is,Is=g,y!==null&&(Is===null?Is=y:Is.push.apply(Is,y))}g=C}if(y=!1,g!==2)continue}}if(g===1){Io(s,0),Ea(s,n,0,!0);break}e:{switch(h=s,y=g,y){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:Ea(h,n,ei,!Sa);break e;case 2:Is=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(g=Td+300-ws(),10<g)){if(Ea(h,n,ei,!Sa),no(h,0,!0)!==0)break e;Hn=n,h.timeoutHandle=Fy(fy.bind(null,h,l,Is,Ad,ep,n,ei,Dr,zo,Sa,y,"Throttled",-0,0),g);break e}fy(h,l,Is,Ad,ep,n,ei,Dr,zo,Sa,y,null,-0,0)}}break}while(!0);ln(s)}function fy(s,n,l,h,g,y,C,z,X,oe,me,ge,ue,he){if(s.timeoutHandle=-1,ge=n.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ls},ay(n,y,ge);var Se=(y&62914560)===y?Td-ws():(y&4194048)===y?cy-ws():0;if(Se=V5(ge,Se),Se!==null){Hn=y,s.cancelPendingCommit=Se(wy.bind(null,s,n,y,l,h,g,C,z,X,me,ge,null,ue,he)),Ea(s,y,C,!oe);return}}wy(s,n,y,l,h,g,C,z,X)}function i5(s){for(var n=s;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],y=g.getSnapshot;g=g.value;try{if(!ss(y(),g))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ea(s,n,l,h){n&=~Jm,n&=~Dr,s.suspendedLanes|=n,s.pingedLanes&=~n,h&&(s.warmLanes|=n),h=s.expirationTimes;for(var g=n;0<g;){var y=31-_s(g),C=1<<y;h[y]=-1,g&=~C}l!==0&&Eu(s,l,n)}function Ld(){return(lt&6)===0?(_c(0),!1):!0}function np(){if(We!==null){if(dt===0)var s=We.return;else s=We,Ai=rn=null,bm(s),Eo=null,nc=0,s=We;for(;s!==null;)Zv(s.alternate,s),s=s.return;We=null}}function Io(s,n){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,j5(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Hn=0,np(),bt=s,We=l=hi(s.current,null),tt=n,dt=0,Js=null,Sa=!1,Do=tr(s,n),Qm=!1,zo=ei=Jm=Dr=Ca=Mt=0,Is=bc=null,ep=!1,(n&8)!==0&&(n|=n&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=n;0<h;){var g=31-_s(h),y=1<<g;n|=s[g],h&=~y}return Vn=n,jr(),l}function my(s,n){Ie=null,U.H=hc,n===To||n===rd?(n=Ag(),dt=3):n===lm?(n=Ag(),dt=4):dt=n===Dm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Js=n,We===null&&(Mt=1,bd(s,d(n,s.current)))}function py(){var s=Ws.current;return s===null?!0:(tt&4194048)===tt?fi===null:(tt&62914560)===tt||(tt&536870912)!==0?s===fi:!1}function xy(){var s=U.H;return U.H=hc,s===null?hc:s}function gy(){var s=U.A;return U.A=t5,s}function Md(){Mt=4,Sa||(tt&4194048)!==tt&&Ws.current!==null||(Do=!0),(Ca&134217727)===0&&(Dr&134217727)===0||bt===null||Ea(bt,tt,ei,!1)}function ap(s,n,l){var h=lt;lt|=2;var g=xy(),y=gy();(bt!==s||tt!==n)&&(Ad=null,Io(s,n)),n=!1;var C=Mt;e:do try{if(dt!==0&&We!==null){var z=We,X=Js;switch(dt){case 8:np(),C=6;break e;case 3:case 2:case 9:case 6:Ws.current===null&&(n=!0);var oe=dt;if(dt=0,Js=null,Uo(s,z,X,oe),l&&Do){C=0;break e}break;default:oe=dt,dt=0,Js=null,Uo(s,z,X,oe)}}n5(),C=Mt;break}catch(me){my(s,me)}while(!0);return n&&s.shellSuspendCounter++,Ai=rn=null,lt=h,U.H=g,U.A=y,We===null&&(bt=null,tt=0,jr()),C}function n5(){for(;We!==null;)vy(We)}function a5(s,n){var l=lt;lt|=2;var h=xy(),g=gy();bt!==s||tt!==n?(Ad=null,Ed=ws()+500,Io(s,n)):Do=tr(s,n);e:do try{if(dt!==0&&We!==null){n=We;var y=Js;t:switch(dt){case 1:dt=0,Js=null,Uo(s,n,y,1);break;case 2:case 9:if(Tg(y)){dt=0,Js=null,yy(n);break}n=function(){dt!==2&&dt!==9||bt!==s||(dt=7),ln(s)},y.then(n,n);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:Tg(y)?(dt=0,Js=null,yy(n)):(dt=0,Js=null,Uo(s,n,y,7));break;case 5:var C=null;switch(We.tag){case 26:C=We.memoizedState;case 5:case 27:var z=We;if(C?nb(C):z.stateNode.complete){dt=0,Js=null;var X=z.sibling;if(X!==null)We=X;else{var oe=z.return;oe!==null?(We=oe,Rd(oe)):We=null}break t}}dt=0,Js=null,Uo(s,n,y,5);break;case 6:dt=0,Js=null,Uo(s,n,y,6);break;case 8:np(),Mt=6;break e;default:throw Error(o(462))}}r5();break}catch(me){my(s,me)}while(!0);return Ai=rn=null,U.H=h,U.A=g,lt=l,We!==null?0:(bt=null,tt=0,jr(),Mt)}function r5(){for(;We!==null&&!Su();)vy(We)}function vy(s){var n=Hv(s.alternate,s,Vn);s.memoizedProps=s.pendingProps,n===null?Rd(s):We=n}function yy(s){var n=s,l=n.alternate;switch(n.tag){case 15:case 0:n=Dv(l,n,n.pendingProps,n.type,void 0,tt);break;case 11:n=Dv(l,n,n.pendingProps,n.type.render,n.ref,tt);break;case 5:bm(n);default:Zv(l,n),n=We=Wl(n,Vn),n=Hv(l,n,Vn)}s.memoizedProps=s.pendingProps,n===null?Rd(s):We=n}function Uo(s,n,l,h){Ai=rn=null,bm(n),Eo=null,nc=0;var g=n.return;try{if(YN(s,g,n,l,tt)){Mt=1,bd(s,d(l,s.current)),We=null;return}}catch(y){if(g!==null)throw We=g,y;Mt=1,bd(s,d(l,s.current)),We=null;return}n.flags&32768?(Ke||h===1?s=!0:Do||(tt&536870912)!==0?s=!1:(Sa=s=!0,(h===2||h===9||h===3||h===6)&&(h=Ws.current,h!==null&&h.tag===13&&(h.flags|=16384))),by(n,s)):Rd(n)}function Rd(s){var n=s;do{if((n.flags&32768)!==0){by(n,Sa);return}s=n.return;var l=WN(n.alternate,n,Vn);if(l!==null){We=l;return}if(n=n.sibling,n!==null){We=n;return}We=n=s}while(n!==null);Mt===0&&(Mt=5)}function by(s,n){do{var l=QN(s.alternate,s);if(l!==null){l.flags&=32767,We=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(s=s.sibling,s!==null)){We=s;return}We=s=l}while(s!==null);Mt=6,We=null}function wy(s,n,l,h,g,y,C,z,X){s.cancelPendingCommit=null;do Od();while(Kt!==0);if((lt&6)!==0)throw Error(o(327));if(n!==null){if(n===s.current)throw Error(o(177));if(y=n.lanes|n.childLanes,y|=wo,Vf(s,l,y,C,z,X),s===bt&&(We=bt=null,tt=0),Bo=n,Ta=s,Hn=l,tp=y,sp=g,uy=h,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,u5(Ka,function(){return Cy(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||h){h=U.T,U.T=null,g=ne.p,ne.p=2,C=lt,lt|=4;try{JN(s,n,l)}finally{lt=C,ne.p=g,U.T=h}}Kt=1,_y(),jy(),Ny()}}function _y(){if(Kt===1){Kt=0;var s=Ta,n=Bo,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var h=ne.p;ne.p=2;var g=lt;lt|=4;try{sy(n,s);var y=gp,C=vr(s.containerInfo),z=y.focusedElem,X=y.selectionRange;if(C!==z&&z&&z.ownerDocument&&go(z.ownerDocument.documentElement,z)){if(X!==null&&Qi(z)){var oe=X.start,me=X.end;if(me===void 0&&(me=oe),"selectionStart"in z)z.selectionStart=oe,z.selectionEnd=Math.min(me,z.value.length);else{var ge=z.ownerDocument||document,ue=ge&&ge.defaultView||window;if(ue.getSelection){var he=ue.getSelection(),Se=z.textContent.length,Me=Math.min(X.start,Se),gt=X.end===void 0?Me:Math.min(X.end,Se);!he.extend&&Me>gt&&(C=gt,gt=Me,Me=C);var se=gr(z,Me),Q=gr(z,gt);if(se&&Q&&(he.rangeCount!==1||he.anchorNode!==se.node||he.anchorOffset!==se.offset||he.focusNode!==Q.node||he.focusOffset!==Q.offset)){var re=ge.createRange();re.setStart(se.node,se.offset),he.removeAllRanges(),Me>gt?(he.addRange(re),he.extend(Q.node,Q.offset)):(re.setEnd(Q.node,Q.offset),he.addRange(re))}}}}for(ge=[],he=z;he=he.parentNode;)he.nodeType===1&&ge.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<ge.length;z++){var pe=ge[z];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}Gd=!!xp,gp=xp=null}finally{lt=g,ne.p=h,U.T=l}}s.current=n,Kt=2}}function jy(){if(Kt===2){Kt=0;var s=Ta,n=Bo,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var h=ne.p;ne.p=2;var g=lt;lt|=4;try{Wv(s,n.alternate,n)}finally{lt=g,ne.p=h,U.T=l}}Kt=3}}function Ny(){if(Kt===4||Kt===3){Kt=0,Cu();var s=Ta,n=Bo,l=Hn,h=uy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Kt=5:(Kt=0,Bo=Ta=null,Sy(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(ka=null),Ee(l),n=n.stateNode,cs&&typeof cs.onCommitFiberRoot=="function")try{cs.onCommitFiberRoot(Jn,n,void 0,(n.current.flags&128)===128)}catch{}if(h!==null){n=U.T,g=ne.p,ne.p=2,U.T=null;try{for(var y=s.onRecoverableError,C=0;C<h.length;C++){var z=h[C];y(z.value,{componentStack:z.stack})}}finally{U.T=n,ne.p=g}}(Hn&3)!==0&&Od(),ln(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===ip?wc++:(wc=0,ip=s):wc=0,_c(0)}}function Sy(s,n){(s.pooledCacheLanes&=n)===0&&(n=s.pooledCache,n!=null&&(s.pooledCache=null,sc(n)))}function Od(){return _y(),jy(),Ny(),Cy()}function Cy(){if(Kt!==5)return!1;var s=Ta,n=tp;tp=0;var l=Ee(Hn),h=U.T,g=ne.p;try{ne.p=32>l?32:l,U.T=null,l=sp,sp=null;var y=Ta,C=Hn;if(Kt=0,Bo=Ta=null,Hn=0,(lt&6)!==0)throw Error(o(331));var z=lt;if(lt|=4,oy(y.current),ny(y,y.current,C,l),lt=z,_c(0,!1),cs&&typeof cs.onPostCommitFiberRoot=="function")try{cs.onPostCommitFiberRoot(Jn,y)}catch{}return!0}finally{ne.p=g,U.T=h,Sy(s,n)}}function ky(s,n,l){n=d(l,n),n=Pm(s.stateNode,n,2),s=wa(s,n,2),s!==null&&(wn(s,2),ln(s))}function ht(s,n,l){if(s.tag===3)ky(s,s,l);else for(;n!==null;){if(n.tag===3){ky(n,s,l);break}else if(n.tag===1){var h=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ka===null||!ka.has(h))){s=d(l,s),l=Tv(2),h=wa(n,l,2),h!==null&&(Ev(l,h,n,s),wn(h,2),ln(h));break}}n=n.return}}function rp(s,n,l){var h=s.pingCache;if(h===null){h=s.pingCache=new s5;var g=new Set;h.set(n,g)}else g=h.get(n),g===void 0&&(g=new Set,h.set(n,g));g.has(l)||(Qm=!0,g.add(l),s=o5.bind(null,s,n,l),n.then(s,s))}function o5(s,n,l){var h=s.pingCache;h!==null&&h.delete(n),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,bt===s&&(tt&l)===l&&(Mt===4||Mt===3&&(tt&62914560)===tt&&300>ws()-Td?(lt&2)===0&&Io(s,0):Jm|=l,zo===tt&&(zo=0)),ln(s)}function Ty(s,n){n===0&&(n=Tu()),s=di(s,n),s!==null&&(wn(s,n),ln(s))}function l5(s){var n=s.memoizedState,l=0;n!==null&&(l=n.retryLane),Ty(s,l)}function c5(s,n){var l=0;switch(s.tag){case 31:case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(o(314))}h!==null&&h.delete(n),Ty(s,l)}function u5(s,n){return so(s,n)}var Pd=null,Vo=null,op=!1,Dd=!1,lp=!1,Aa=0;function ln(s){s!==Vo&&s.next===null&&(Vo===null?Pd=Vo=s:Vo=Vo.next=s),Dd=!0,op||(op=!0,h5())}function _c(s,n){if(!lp&&Dd){lp=!0;do for(var l=!1,h=Pd;h!==null;){if(s!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var C=h.suspendedLanes,z=h.pingedLanes;y=(1<<31-_s(42|s)+1)-1,y&=g&~(C&~z),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,My(h,y))}else y=tt,y=no(h,h===bt?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||tr(h,y)||(l=!0,My(h,y));h=h.next}while(l);lp=!1}}function d5(){Ey()}function Ey(){Dd=op=!1;var s=0;Aa!==0&&_5()&&(s=Aa);for(var n=ws(),l=null,h=Pd;h!==null;){var g=h.next,y=Ay(h,n);y===0?(h.next=null,l===null?Pd=g:l.next=g,g===null&&(Vo=l)):(l=h,(s!==0||(y&3)!==0)&&(Dd=!0)),h=g}Kt!==0&&Kt!==5||_c(s),Aa!==0&&(Aa=0)}function Ay(s,n){for(var l=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var C=31-_s(y),z=1<<C,X=g[C];X===-1?((z&l)===0||(z&h)!==0)&&(g[C]=Uf(z,n)):X<=n&&(s.expiredLanes|=z),y&=~z}if(n=bt,l=tt,l=no(s,s===n?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,l===0||s===n&&(dt===2||dt===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Xa(h),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||tr(s,l)){if(n=l&-l,n===s.callbackPriority)return n;switch(h!==null&&Xa(h),Ee(l)){case 2:case 8:l=Tl;break;case 32:l=Ka;break;case 268435456:l=El;break;default:l=Ka}return h=Ly.bind(null,s),l=so(l,h),s.callbackPriority=n,s.callbackNode=l,n}return h!==null&&h!==null&&Xa(h),s.callbackPriority=2,s.callbackNode=null,2}function Ly(s,n){if(Kt!==0&&Kt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Od()&&s.callbackNode!==l)return null;var h=tt;return h=no(s,s===bt?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(hy(s,h,n),Ay(s,ws()),s.callbackNode!=null&&s.callbackNode===l?Ly.bind(null,s):null)}function My(s,n){if(Od())return null;hy(s,n,!0)}function h5(){N5(function(){(lt&6)!==0?so(io,d5):Ey()})}function cp(){if(Aa===0){var s=Co;s===0&&(s=Qa,Qa<<=1,(Qa&261888)===0&&(Qa=256)),Aa=s}return Aa}function Ry(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:aa(""+s)}function Oy(s,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,s.id&&l.setAttribute("form",s.id),n.parentNode.insertBefore(l,n),s=new FormData(s),l.parentNode.removeChild(l),s}function f5(s,n,l,h,g){if(n==="submit"&&l&&l.stateNode===g){var y=Ry((g[ts]||null).action),C=h.submitter;C&&(n=(n=C[ts]||null)?Ry(n.formAction):C.getAttribute("formAction"),n!==null&&(y=n,C=null));var z=new co("action","action",null,h,g);s.push({event:z,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Aa!==0){var X=C?Oy(g,C):new FormData(g);Em(l,{pending:!0,data:X,method:g.method,action:y},null,X)}}else typeof y=="function"&&(z.preventDefault(),X=C?Oy(g,C):new FormData(g),Em(l,{pending:!0,data:X,method:g.method,action:y},y,X))},currentTarget:g}]})}}for(var up=0;up<tn.length;up++){var dp=tn[up],m5=dp.toLowerCase(),p5=dp[0].toUpperCase()+dp.slice(1);Rs(m5,"on"+p5)}Rs(br,"onAnimationEnd"),Rs(ed,"onAnimationIteration"),Rs(wr,"onAnimationStart"),Rs("dblclick","onDoubleClick"),Rs("focusin","onFocus"),Rs("focusout","onBlur"),Rs(em,"onTransitionRun"),Rs(td,"onTransitionStart"),Rs(tm,"onTransitionCancel"),Rs(xa,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jc));function Py(s,n){n=(n&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],g=h.event;h=h.listeners;e:{var y=void 0;if(n)for(var C=h.length-1;0<=C;C--){var z=h[C],X=z.instance,oe=z.currentTarget;if(z=z.listener,X!==y&&g.isPropagationStopped())break e;y=z,g.currentTarget=oe;try{y(g)}catch(me){_r(me)}g.currentTarget=null,y=X}else for(C=0;C<h.length;C++){if(z=h[C],X=z.instance,oe=z.currentTarget,z=z.listener,X!==y&&g.isPropagationStopped())break e;y=z,g.currentTarget=oe;try{y(g)}catch(me){_r(me)}g.currentTarget=null,y=X}}}}function Qe(s,n){var l=n[Gi];l===void 0&&(l=n[Gi]=new Set);var h=s+"__bubble";l.has(h)||(Dy(n,s,2,!1),l.add(h))}function hp(s,n,l){var h=0;n&&(h|=4),Dy(l,s,h,n)}var zd="_reactListening"+Math.random().toString(36).slice(2);function fp(s){if(!s[zd]){s[zd]=!0,Ou.forEach(function(l){l!=="selectionchange"&&(x5.has(l)||hp(l,!1,s),hp(l,!0,s))});var n=s.nodeType===9?s:s.ownerDocument;n===null||n[zd]||(n[zd]=!0,hp("selectionchange",!1,n))}}function Dy(s,n,l,h){switch(db(n)){case 2:var g=Z5;break;case 8:g=q5;break;default:g=Tp}l=g.bind(null,n,l,s),g=void 0,!lr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(n,l,{capture:!0,passive:g}):s.addEventListener(n,l,!0):g!==void 0?s.addEventListener(n,l,{passive:g}):s.addEventListener(n,l,!1)}function mp(s,n,l,h,g){var y=h;if((n&1)===0&&(n&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var z=h.stateNode.containerInfo;if(z===g)break;if(C===4)for(C=h.return;C!==null;){var X=C.tag;if((X===3||X===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;z!==null;){if(C=jn(z),C===null)return;if(X=C.tag,X===5||X===6||X===26||X===27){h=y=C;continue e}z=z.parentNode}}h=h.return}Ul(function(){var oe=y,me=or(l),ge=[];e:{var ue=sd.get(s);if(ue!==void 0){var he=co,Se=s;switch(s){case"keypress":if(cr(l)===0)break e;case"keydown":case"keyup":he=Hu;break;case"focusin":Se="focus",he=Fl;break;case"focusout":Se="blur",he=Fl;break;case"beforeblur":case"afterblur":he=Fl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Ff;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Yf;break;case br:case ed:case wr:he=Zl;break;case xa:he=qu;break;case"scroll":case"scrollend":he=et;break;case"wheel":he=Tn;break;case"copy":case"cut":case"paste":he=oi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Fu;break;case"toggle":case"beforetoggle":he=hr}var Me=(n&4)!==0,gt=!Me&&(s==="scroll"||s==="scrollend"),se=Me?ue!==null?ue+"Capture":null:ue;Me=[];for(var Q=oe,re;Q!==null;){var pe=Q;if(re=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||re===null||se===null||(pe=Cn(Q,se),pe!=null&&Me.push(Nc(Q,pe,re))),gt)break;Q=Q.return}0<Me.length&&(ue=new he(ue,Se,null,l,me),ge.push({event:ue,listeners:Me}))}}if((n&7)===0){e:{if(ue=s==="mouseover"||s==="pointerover",he=s==="mouseout"||s==="pointerout",ue&&l!==lo&&(Se=l.relatedTarget||l.fromElement)&&(jn(Se)||Se[_n]))break e;if((he||ue)&&(ue=me.window===me?me:(ue=me.ownerDocument)?ue.defaultView||ue.parentWindow:window,he?(Se=l.relatedTarget||l.toElement,he=oe,Se=Se?jn(Se):null,Se!==null&&(gt=u(Se),Me=Se.tag,Se!==gt||Me!==5&&Me!==27&&Me!==6)&&(Se=null)):(he=null,Se=oe),he!==Se)){if(Me=zu,pe="onMouseLeave",se="onMouseEnter",Q="mouse",(s==="pointerout"||s==="pointerover")&&(Me=Fu,pe="onPointerLeave",se="onPointerEnter",Q="pointer"),gt=he==null?ue:$i(he),re=Se==null?ue:$i(Se),ue=new Me(pe,Q+"leave",he,l,me),ue.target=gt,ue.relatedTarget=re,pe=null,jn(me)===oe&&(Me=new Me(se,Q+"enter",Se,l,me),Me.target=re,Me.relatedTarget=gt,pe=Me),gt=pe,he&&Se)t:{for(Me=g5,se=he,Q=Se,re=0,pe=se;pe;pe=Me(pe))re++;pe=0;for(var Le=Q;Le;Le=Me(Le))pe++;for(;0<re-pe;)se=Me(se),re--;for(;0<pe-re;)Q=Me(Q),pe--;for(;re--;){if(se===Q||Q!==null&&se===Q.alternate){Me=se;break t}se=Me(se),Q=Me(Q)}Me=null}else Me=null;he!==null&&zy(ge,ue,he,Me,!1),Se!==null&&gt!==null&&zy(ge,gt,Se,Me,!0)}}e:{if(ue=oe?$i(oe):window,he=ue.nodeName&&ue.nodeName.toLowerCase(),he==="select"||he==="input"&&ue.type==="file")var rt=xr;else if(li(ue))if(Xu)rt=Jf;else{rt=Qf;var Te=ki}else he=ue.nodeName,!he||he.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?oe&&rr(oe.elementType)&&(rt=xr):rt=ha;if(rt&&(rt=rt(s,oe))){Yu(ge,rt,l,me);break e}Te&&Te(s,ue,oe),s==="focusout"&&oe&&ue.type==="number"&&oe.memoizedProps.value!=null&&Ni(ue,"number",ue.value)}switch(Te=oe?$i(oe):window,s){case"focusin":(li(Te)||Te.contentEditable==="true")&&(Ji=Te,yo=oe,yr=null);break;case"focusout":yr=yo=Ji=null;break;case"mousedown":ma=!0;break;case"contextmenu":case"mouseup":case"dragend":ma=!1,Qu(ge,l,me);break;case"selectionchange":if(vo)break;case"keydown":case"keyup":Qu(ge,l,me)}var He;if(ho)e:{switch(s){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else ca?$u(s,l)&&(st="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(st="onCompositionStart");st&&(fo&&l.locale!=="ko"&&(ca||st!=="onCompositionStart"?st==="onCompositionEnd"&&ca&&(He=Ki()):(ri=me,kn="value"in ri?ri.value:ri.textContent,ca=!0)),Te=Bd(oe,st),0<Te.length&&(st=new ql(st,s,null,l,me),ge.push({event:st,listeners:Te}),He?st.data=He:(He=Xl(l),He!==null&&(st.data=He)))),(He=Kf?Ks(s,l):ua(s,l))&&(st=Bd(oe,"onBeforeInput"),0<st.length&&(Te=new ql("onBeforeInput","beforeinput",null,l,me),ge.push({event:Te,listeners:st}),Te.data=He)),f5(ge,s,oe,l,me)}Py(ge,n)})}function Nc(s,n,l){return{instance:s,listener:n,currentTarget:l}}function Bd(s,n){for(var l=n+"Capture",h=[];s!==null;){var g=s,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Cn(s,l),g!=null&&h.unshift(Nc(s,g,y)),g=Cn(s,n),g!=null&&h.push(Nc(s,g,y))),s.tag===3)return h;s=s.return}return[]}function g5(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function zy(s,n,l,h,g){for(var y=n._reactName,C=[];l!==null&&l!==h;){var z=l,X=z.alternate,oe=z.stateNode;if(z=z.tag,X!==null&&X===h)break;z!==5&&z!==26&&z!==27||oe===null||(X=oe,g?(oe=Cn(l,y),oe!=null&&C.unshift(Nc(l,oe,X))):g||(oe=Cn(l,y),oe!=null&&C.push(Nc(l,oe,X)))),l=l.return}C.length!==0&&s.push({event:n,listeners:C})}var v5=/\r\n?/g,y5=/\u0000|\uFFFD/g;function By(s){return(typeof s=="string"?s:""+s).replace(v5,`
`).replace(y5,"")}function Iy(s,n){return n=By(n),By(s)===n}function xt(s,n,l,h,g,y){switch(l){case"children":typeof h=="string"?n==="body"||n==="textarea"&&h===""||ai(s,h):(typeof h=="number"||typeof h=="bigint")&&n!=="body"&&ai(s,""+h);break;case"className":mt(s,"class",h);break;case"tabIndex":mt(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":mt(s,l,h);break;case"style":ro(s,h,y);break;case"data":if(n!=="object"){mt(s,"data",h);break}case"src":case"href":if(h===""&&(n!=="a"||l!=="href")){s.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(l);break}h=aa(""+h),s.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(n!=="input"&&xt(s,n,"name",g.name,g,null),xt(s,n,"formEncType",g.formEncType,g,null),xt(s,n,"formMethod",g.formMethod,g,null),xt(s,n,"formTarget",g.formTarget,g,null)):(xt(s,n,"encType",g.encType,g,null),xt(s,n,"method",g.method,g,null),xt(s,n,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(l);break}h=aa(""+h),s.setAttribute(l,h);break;case"onClick":h!=null&&(s.onclick=Ls);break;case"onScroll":h!=null&&Qe("scroll",s);break;case"onScrollEnd":h!=null&&Qe("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(o(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(o(60));s.innerHTML=l}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}l=aa(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,""+h):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":h===!0?s.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,h):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(l,h):s.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(l):s.setAttribute(l,h);break;case"popover":Qe("beforetoggle",s),Qe("toggle",s),Xe(s,"popover",h);break;case"xlinkActuate":As(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":As(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":As(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":As(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":As(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":As(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":As(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":As(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":As(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Xe(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=oo.get(l)||l,Xe(s,l,h))}}function pp(s,n,l,h,g,y){switch(l){case"style":ro(s,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(o(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(o(60));s.innerHTML=l}}break;case"children":typeof h=="string"?ai(s,h):(typeof h=="number"||typeof h=="bigint")&&ai(s,""+h);break;case"onScroll":h!=null&&Qe("scroll",s);break;case"onScrollEnd":h!=null&&Qe("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Ls);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),n=l.slice(2,g?l.length-7:void 0),y=s[ts]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(n,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(n,h,g);break e}l in s?s[l]=h:h===!0?s.setAttribute(l,""):Xe(s,l,h)}}}function fs(s,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",s),Qe("load",s);var h=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var C=l[y];if(C!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:xt(s,n,y,C,l,null)}}g&&xt(s,n,"srcSet",l.srcSet,l,null),h&&xt(s,n,"src",l.src,l,null);return;case"input":Qe("invalid",s);var z=y=C=g=null,X=null,oe=null;for(h in l)if(l.hasOwnProperty(h)){var me=l[h];if(me!=null)switch(h){case"name":g=me;break;case"type":C=me;break;case"checked":X=me;break;case"defaultChecked":oe=me;break;case"value":y=me;break;case"defaultValue":z=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(o(137,n));break;default:xt(s,n,h,me,l,null)}}ar(s,y,z,X,oe,C,g,!1);return;case"select":Qe("invalid",s),h=C=y=null;for(g in l)if(l.hasOwnProperty(g)&&(z=l[g],z!=null))switch(g){case"value":y=z;break;case"defaultValue":C=z;break;case"multiple":h=z;default:xt(s,n,g,z,l,null)}n=y,l=C,s.multiple=!!h,n!=null?yt(s,!!h,n,!1):l!=null&&yt(s,!!h,l,!0);return;case"textarea":Qe("invalid",s),y=g=h=null;for(C in l)if(l.hasOwnProperty(C)&&(z=l[C],z!=null))switch(C){case"value":h=z;break;case"defaultValue":g=z;break;case"children":y=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(o(91));break;default:xt(s,n,C,z,l,null)}ia(s,h,g,y);return;case"option":for(X in l)l.hasOwnProperty(X)&&(h=l[X],h!=null)&&(X==="selected"?s.selected=h&&typeof h!="function"&&typeof h!="symbol":xt(s,n,X,h,l,null));return;case"dialog":Qe("beforetoggle",s),Qe("toggle",s),Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":Qe("load",s);break;case"video":case"audio":for(h=0;h<jc.length;h++)Qe(jc[h],s);break;case"image":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"embed":case"source":case"link":Qe("error",s),Qe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in l)if(l.hasOwnProperty(oe)&&(h=l[oe],h!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:xt(s,n,oe,h,l,null)}return;default:if(rr(n)){for(me in l)l.hasOwnProperty(me)&&(h=l[me],h!==void 0&&pp(s,n,me,h,l,void 0));return}}for(z in l)l.hasOwnProperty(z)&&(h=l[z],h!=null&&xt(s,n,z,h,l,null))}function b5(s,n,l,h){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,C=null,z=null,X=null,oe=null,me=null;for(he in l){var ge=l[he];if(l.hasOwnProperty(he)&&ge!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":X=ge;default:h.hasOwnProperty(he)||xt(s,n,he,null,h,ge)}}for(var ue in h){var he=h[ue];if(ge=l[ue],h.hasOwnProperty(ue)&&(he!=null||ge!=null))switch(ue){case"type":y=he;break;case"name":g=he;break;case"checked":oe=he;break;case"defaultChecked":me=he;break;case"value":C=he;break;case"defaultValue":z=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(o(137,n));break;default:he!==ge&&xt(s,n,ue,he,h,ge)}}zl(s,C,z,X,oe,me,y,g);return;case"select":he=C=z=ue=null;for(y in l)if(X=l[y],l.hasOwnProperty(y)&&X!=null)switch(y){case"value":break;case"multiple":he=X;default:h.hasOwnProperty(y)||xt(s,n,y,null,h,X)}for(g in h)if(y=h[g],X=l[g],h.hasOwnProperty(g)&&(y!=null||X!=null))switch(g){case"value":ue=y;break;case"defaultValue":z=y;break;case"multiple":C=y;default:y!==X&&xt(s,n,g,y,h,X)}n=z,l=C,h=he,ue!=null?yt(s,!!l,ue,!1):!!h!=!!l&&(n!=null?yt(s,!!l,n,!0):yt(s,!!l,l?[]:"",!1));return;case"textarea":he=ue=null;for(z in l)if(g=l[z],l.hasOwnProperty(z)&&g!=null&&!h.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:xt(s,n,z,null,h,g)}for(C in h)if(g=h[C],y=l[C],h.hasOwnProperty(C)&&(g!=null||y!=null))switch(C){case"value":ue=g;break;case"defaultValue":he=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(o(91));break;default:g!==y&&xt(s,n,C,g,h,y)}Xi(s,ue,he);return;case"option":for(var Se in l)ue=l[Se],l.hasOwnProperty(Se)&&ue!=null&&!h.hasOwnProperty(Se)&&(Se==="selected"?s.selected=!1:xt(s,n,Se,null,h,ue));for(X in h)ue=h[X],he=l[X],h.hasOwnProperty(X)&&ue!==he&&(ue!=null||he!=null)&&(X==="selected"?s.selected=ue&&typeof ue!="function"&&typeof ue!="symbol":xt(s,n,X,ue,h,he));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in l)ue=l[Me],l.hasOwnProperty(Me)&&ue!=null&&!h.hasOwnProperty(Me)&&xt(s,n,Me,null,h,ue);for(oe in h)if(ue=h[oe],he=l[oe],h.hasOwnProperty(oe)&&ue!==he&&(ue!=null||he!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(o(137,n));break;default:xt(s,n,oe,ue,h,he)}return;default:if(rr(n)){for(var gt in l)ue=l[gt],l.hasOwnProperty(gt)&&ue!==void 0&&!h.hasOwnProperty(gt)&&pp(s,n,gt,void 0,h,ue);for(me in h)ue=h[me],he=l[me],!h.hasOwnProperty(me)||ue===he||ue===void 0&&he===void 0||pp(s,n,me,ue,h,he);return}}for(var se in l)ue=l[se],l.hasOwnProperty(se)&&ue!=null&&!h.hasOwnProperty(se)&&xt(s,n,se,null,h,ue);for(ge in h)ue=h[ge],he=l[ge],!h.hasOwnProperty(ge)||ue===he||ue==null&&he==null||xt(s,n,ge,ue,h,he)}function Uy(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w5(){if(typeof performance.getEntriesByType=="function"){for(var s=0,n=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var g=l[h],y=g.transferSize,C=g.initiatorType,z=g.duration;if(y&&z&&Uy(C)){for(C=0,z=g.responseEnd,h+=1;h<l.length;h++){var X=l[h],oe=X.startTime;if(oe>z)break;var me=X.transferSize,ge=X.initiatorType;me&&Uy(ge)&&(X=X.responseEnd,C+=me*(X<z?1:(z-oe)/(X-oe)))}if(--h,n+=8*(y+C)/(g.duration/1e3),s++,10<s)break}}if(0<s)return n/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var xp=null,gp=null;function Id(s){return s.nodeType===9?s:s.ownerDocument}function Vy(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hy(s,n){if(s===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&n==="foreignObject"?0:s}function vp(s,n){return s==="textarea"||s==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yp=null;function _5(){var s=window.event;return s&&s.type==="popstate"?s===yp?!1:(yp=s,!0):(yp=null,!1)}var Fy=typeof setTimeout=="function"?setTimeout:void 0,j5=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,N5=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(s){return Zy.resolve(null).then(s).catch(S5)}:Fy;function S5(s){setTimeout(function(){throw s})}function La(s){return s==="head"}function qy(s,n){var l=n,h=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(h===0){s.removeChild(g),qo(n);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")Sc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,Sc(l);for(var y=l.firstChild;y;){var C=y.nextSibling,z=y.nodeName;y[sr]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=C}}else l==="body"&&Sc(s.ownerDocument.body);l=g}while(l);qo(n)}function Gy(s,n){var l=s;s=0;do{var h=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=h}while(l)}function bp(s){var n=s.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":bp(l),Rl(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function C5(s,n,l,h){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==n.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[sr])switch(n){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(n==="input"&&s.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=mi(s.nextSibling),s===null)break}return null}function k5(s,n,l){if(n==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=mi(s.nextSibling),s===null))return null;return s}function $y(s,n){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!n||(s=mi(s.nextSibling),s===null))return null;return s}function wp(s){return s.data==="$?"||s.data==="$~"}function _p(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function T5(s,n){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=n;else if(s.data!=="$?"||l.readyState!=="loading")n();else{var h=function(){n(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function mi(s){for(;s!=null;s=s.nextSibling){var n=s.nodeType;if(n===1||n===3)break;if(n===8){if(n=s.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return s}var jp=null;function Yy(s){s=s.nextSibling;for(var n=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(n===0)return mi(s.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}s=s.nextSibling}return null}function Xy(s){s=s.previousSibling;for(var n=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return s;n--}else l!=="/$"&&l!=="/&"||n++}s=s.previousSibling}return null}function Ky(s,n,l){switch(n=Id(l),s){case"html":if(s=n.documentElement,!s)throw Error(o(452));return s;case"head":if(s=n.head,!s)throw Error(o(453));return s;case"body":if(s=n.body,!s)throw Error(o(454));return s;default:throw Error(o(451))}}function Sc(s){for(var n=s.attributes;n.length;)s.removeAttributeNode(n[0]);Rl(s)}var pi=new Map,Wy=new Set;function Ud(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Fn=ne.d;ne.d={f:E5,r:A5,D:L5,C:M5,L:R5,m:O5,X:D5,S:P5,M:z5};function E5(){var s=Fn.f(),n=Ld();return s||n}function A5(s){var n=ea(s);n!==null&&n.tag===5&&n.type==="form"?mv(n):Fn.r(s)}var Ho=typeof document>"u"?null:document;function Qy(s,n,l){var h=Ho;if(h&&typeof n=="string"&&n){var g=wt(n);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Wy.has(g)||(Wy.add(g),s={rel:s,crossOrigin:l,href:n},h.querySelector(g)===null&&(n=h.createElement("link"),fs(n,"link",s),It(n),h.head.appendChild(n)))}}function L5(s){Fn.D(s),Qy("dns-prefetch",s,null)}function M5(s,n){Fn.C(s,n),Qy("preconnect",s,n)}function R5(s,n,l){Fn.L(s,n,l);var h=Ho;if(h&&s&&n){var g='link[rel="preload"][as="'+wt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+wt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+wt(l.imageSizes)+'"]')):g+='[href="'+wt(s)+'"]';var y=g;switch(n){case"style":y=Fo(s);break;case"script":y=Zo(s)}pi.has(y)||(s=w({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:s,as:n},l),pi.set(y,s),h.querySelector(g)!==null||n==="style"&&h.querySelector(Cc(y))||n==="script"&&h.querySelector(kc(y))||(n=h.createElement("link"),fs(n,"link",s),It(n),h.head.appendChild(n)))}}function O5(s,n){Fn.m(s,n);var l=Ho;if(l&&s){var h=n&&typeof n.as=="string"?n.as:"script",g='link[rel="modulepreload"][as="'+wt(h)+'"][href="'+wt(s)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Zo(s)}if(!pi.has(y)&&(s=w({rel:"modulepreload",href:s},n),pi.set(y,s),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(kc(y)))return}h=l.createElement("link"),fs(h,"link",s),It(h),l.head.appendChild(h)}}}function P5(s,n,l){Fn.S(s,n,l);var h=Ho;if(h&&s){var g=ta(h).hoistableStyles,y=Fo(s);n=n||"default";var C=g.get(y);if(!C){var z={loading:0,preload:null};if(C=h.querySelector(Cc(y)))z.loading=5;else{s=w({rel:"stylesheet",href:s,"data-precedence":n},l),(l=pi.get(y))&&Np(s,l);var X=C=h.createElement("link");It(X),fs(X,"link",s),X._p=new Promise(function(oe,me){X.onload=oe,X.onerror=me}),X.addEventListener("load",function(){z.loading|=1}),X.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Vd(C,n,h)}C={type:"stylesheet",instance:C,count:1,state:z},g.set(y,C)}}}function D5(s,n){Fn.X(s,n);var l=Ho;if(l&&s){var h=ta(l).hoistableScripts,g=Zo(s),y=h.get(g);y||(y=l.querySelector(kc(g)),y||(s=w({src:s,async:!0},n),(n=pi.get(g))&&Sp(s,n),y=l.createElement("script"),It(y),fs(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function z5(s,n){Fn.M(s,n);var l=Ho;if(l&&s){var h=ta(l).hoistableScripts,g=Zo(s),y=h.get(g);y||(y=l.querySelector(kc(g)),y||(s=w({src:s,async:!0,type:"module"},n),(n=pi.get(g))&&Sp(s,n),y=l.createElement("script"),It(y),fs(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function Jy(s,n,l,h){var g=(g=we.current)?Ud(g):null;if(!g)throw Error(o(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Fo(l.href),l=ta(g).hoistableStyles,h=l.get(n),h||(h={type:"style",instance:null,count:0,state:null},l.set(n,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Fo(l.href);var y=ta(g).hoistableStyles,C=y.get(s);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,C),(y=g.querySelector(Cc(s)))&&!y._p&&(C.instance=y,C.state.loading=5),pi.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},pi.set(s,l),y||B5(g,s,l,C.state))),n&&h===null)throw Error(o(528,""));return C}if(n&&h!==null)throw Error(o(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Zo(l),l=ta(g).hoistableScripts,h=l.get(n),h||(h={type:"script",instance:null,count:0,state:null},l.set(n,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,s))}}function Fo(s){return'href="'+wt(s)+'"'}function Cc(s){return'link[rel="stylesheet"]['+s+"]"}function eb(s){return w({},s,{"data-precedence":s.precedence,precedence:null})}function B5(s,n,l,h){s.querySelector('link[rel="preload"][as="style"]['+n+"]")?h.loading=1:(n=s.createElement("link"),h.preload=n,n.addEventListener("load",function(){return h.loading|=1}),n.addEventListener("error",function(){return h.loading|=2}),fs(n,"link",l),It(n),s.head.appendChild(n))}function Zo(s){return'[src="'+wt(s)+'"]'}function kc(s){return"script[async]"+s}function tb(s,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var h=s.querySelector('style[data-href~="'+wt(l.href)+'"]');if(h)return n.instance=h,It(h),h;var g=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),It(h),fs(h,"style",g),Vd(h,l.precedence,s),n.instance=h;case"stylesheet":g=Fo(l.href);var y=s.querySelector(Cc(g));if(y)return n.state.loading|=4,n.instance=y,It(y),y;h=eb(l),(g=pi.get(g))&&Np(h,g),y=(s.ownerDocument||s).createElement("link"),It(y);var C=y;return C._p=new Promise(function(z,X){C.onload=z,C.onerror=X}),fs(y,"link",h),n.state.loading|=4,Vd(y,l.precedence,s),n.instance=y;case"script":return y=Zo(l.src),(g=s.querySelector(kc(y)))?(n.instance=g,It(g),g):(h=l,(g=pi.get(y))&&(h=w({},l),Sp(h,g)),s=s.ownerDocument||s,g=s.createElement("script"),It(g),fs(g,"link",h),s.head.appendChild(g),n.instance=g);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(h=n.instance,n.state.loading|=4,Vd(h,l.precedence,s));return n.instance}function Vd(s,n,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,C=0;C<h.length;C++){var z=h[C];if(z.dataset.precedence===n)y=z;else if(y!==g)break}y?y.parentNode.insertBefore(s,y.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(s,n.firstChild))}function Np(s,n){s.crossOrigin==null&&(s.crossOrigin=n.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=n.referrerPolicy),s.title==null&&(s.title=n.title)}function Sp(s,n){s.crossOrigin==null&&(s.crossOrigin=n.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=n.referrerPolicy),s.integrity==null&&(s.integrity=n.integrity)}var Hd=null;function sb(s,n,l){if(Hd===null){var h=new Map,g=Hd=new Map;g.set(l,h)}else g=Hd,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(s))return h;for(h.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var y=l[g];if(!(y[sr]||y[Bt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var C=y.getAttribute(n)||"";C=s+C;var z=h.get(C);z?z.push(y):h.set(C,[y])}}return h}function ib(s,n,l){s=s.ownerDocument||s,s.head.insertBefore(l,n==="title"?s.querySelector("head > title"):null)}function I5(s,n,l){if(l===1||n.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(s=n.disabled,typeof n.precedence=="string"&&s==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function nb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function U5(s,n,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Fo(h.href),y=n.querySelector(Cc(g));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(s.count++,s=Fd.bind(s),n.then(s,s)),l.state.loading|=4,l.instance=y,It(y);return}y=n.ownerDocument||n,h=eb(h),(g=pi.get(g))&&Np(h,g),y=y.createElement("link"),It(y);var C=y;C._p=new Promise(function(z,X){C.onload=z,C.onerror=X}),fs(y,"link",h),l.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Fd.bind(s),n.addEventListener("load",l),n.addEventListener("error",l))}}var Cp=0;function V5(s,n){return s.stylesheets&&s.count===0&&qd(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var h=setTimeout(function(){if(s.stylesheets&&qd(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+n);0<s.imgBytes&&Cp===0&&(Cp=62500*w5());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&qd(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Cp?50:800)+n);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function Fd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Zd=null;function qd(s,n){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Zd=new Map,n.forEach(H5,s),Zd=null,Fd.call(s))}function H5(s,n){if(!(n.state.loading&4)){var l=Zd.get(s);if(l)var h=l.get(null);else{l=new Map,Zd.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var C=g[y];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),h=C)}h&&l.set(null,h)}g=n.instance,C=g.getAttribute("data-precedence"),y=l.get(C)||h,y===h&&l.set(null,g),l.set(C,g),this.count++,h=Fd.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),n.state.loading|=4}}var Tc={$$typeof:T,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function F5(s,n,l,h,g,y,C,z,X){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Al(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.hiddenUpdates=Al(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function ab(s,n,l,h,g,y,C,z,X,oe,me,ge){return s=new F5(s,n,l,C,X,oe,me,ge,z),n=1,y===!0&&(n|=24),y=ps(3,null,null,n),s.current=y,y.stateNode=s,n=am(),n.refCount++,s.pooledCache=n,n.refCount++,y.memoizedState={element:h,isDehydrated:l,cache:n},cm(y),s}function rb(s){return s?(s=En,s):En}function ob(s,n,l,h,g,y){g=rb(g),h.context===null?h.context=g:h.pendingContext=g,h=ba(n),h.payload={element:l},y=y===void 0?null:y,y!==null&&(h.callback=y),l=wa(s,h,n),l!==null&&(Us(l,s,n),rc(l,s,n))}function lb(s,n){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<n?l:n}}function kp(s,n){lb(s,n),(s=s.alternate)&&lb(s,n)}function cb(s){if(s.tag===13||s.tag===31){var n=di(s,67108864);n!==null&&Us(n,s,67108864),kp(s,67108864)}}function ub(s){if(s.tag===13||s.tag===31){var n=ti();n=Es(n);var l=di(s,n);l!==null&&Us(l,s,n),kp(s,n)}}var Gd=!0;function Z5(s,n,l,h){var g=U.T;U.T=null;var y=ne.p;try{ne.p=2,Tp(s,n,l,h)}finally{ne.p=y,U.T=g}}function q5(s,n,l,h){var g=U.T;U.T=null;var y=ne.p;try{ne.p=8,Tp(s,n,l,h)}finally{ne.p=y,U.T=g}}function Tp(s,n,l,h){if(Gd){var g=Ep(h);if(g===null)mp(s,n,h,$d,l),hb(s,h);else if($5(g,s,n,l,h))h.stopPropagation();else if(hb(s,h),n&4&&-1<G5.indexOf(s)){for(;g!==null;){var y=ea(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var C=bn(y.pendingLanes);if(C!==0){var z=y;for(z.pendingLanes|=2,z.entangledLanes|=2;C;){var X=1<<31-_s(C);z.entanglements[1]|=X,C&=~X}ln(y),(lt&6)===0&&(Ed=ws()+500,_c(0))}}break;case 31:case 13:z=di(y,2),z!==null&&Us(z,y,2),Ld(),kp(y,2)}if(y=Ep(h),y===null&&mp(s,n,h,$d,l),y===g)break;g=y}g!==null&&h.stopPropagation()}else mp(s,n,h,null,l)}}function Ep(s){return s=or(s),Ap(s)}var $d=null;function Ap(s){if($d=null,s=jn(s),s!==null){var n=u(s);if(n===null)s=null;else{var l=n.tag;if(l===13){if(s=f(n),s!==null)return s;s=null}else if(l===31){if(s=m(n),s!==null)return s;s=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;s=null}else n!==s&&(s=null)}}return $d=s,null}function db(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pf()){case io:return 2;case Tl:return 8;case Ka:case Df:return 32;case El:return 268435456;default:return 32}default:return 32}}var Lp=!1,Ma=null,Ra=null,Oa=null,Ec=new Map,Ac=new Map,Pa=[],G5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hb(s,n){switch(s){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":Ec.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(n.pointerId)}}function Lc(s,n,l,h,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:n,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},n!==null&&(n=ea(n),n!==null&&cb(n)),s):(s.eventSystemFlags|=h,n=s.targetContainers,g!==null&&n.indexOf(g)===-1&&n.push(g),s)}function $5(s,n,l,h,g){switch(n){case"focusin":return Ma=Lc(Ma,s,n,l,h,g),!0;case"dragenter":return Ra=Lc(Ra,s,n,l,h,g),!0;case"mouseover":return Oa=Lc(Oa,s,n,l,h,g),!0;case"pointerover":var y=g.pointerId;return Ec.set(y,Lc(Ec.get(y)||null,s,n,l,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Ac.set(y,Lc(Ac.get(y)||null,s,n,l,h,g)),!0}return!1}function fb(s){var n=jn(s.target);if(n!==null){var l=u(n);if(l!==null){if(n=l.tag,n===13){if(n=f(l),n!==null){s.blockedOn=n,Ml(s.priority,function(){ub(l)});return}}else if(n===31){if(n=m(l),n!==null){s.blockedOn=n,Ml(s.priority,function(){ub(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yd(s){if(s.blockedOn!==null)return!1;for(var n=s.targetContainers;0<n.length;){var l=Ep(s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);lo=h,l.target.dispatchEvent(h),lo=null}else return n=ea(l),n!==null&&cb(n),s.blockedOn=l,!1;n.shift()}return!0}function mb(s,n,l){Yd(s)&&l.delete(n)}function Y5(){Lp=!1,Ma!==null&&Yd(Ma)&&(Ma=null),Ra!==null&&Yd(Ra)&&(Ra=null),Oa!==null&&Yd(Oa)&&(Oa=null),Ec.forEach(mb),Ac.forEach(mb)}function Xd(s,n){s.blockedOn===n&&(s.blockedOn=null,Lp||(Lp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Y5)))}var Kd=null;function pb(s){Kd!==s&&(Kd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Kd===s&&(Kd=null);for(var n=0;n<s.length;n+=3){var l=s[n],h=s[n+1],g=s[n+2];if(typeof h!="function"){if(Ap(h||l)===null)continue;break}var y=ea(l);y!==null&&(s.splice(n,3),n-=3,Em(y,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function qo(s){function n(X){return Xd(X,s)}Ma!==null&&Xd(Ma,s),Ra!==null&&Xd(Ra,s),Oa!==null&&Xd(Oa,s),Ec.forEach(n),Ac.forEach(n);for(var l=0;l<Pa.length;l++){var h=Pa[l];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Pa.length&&(l=Pa[0],l.blockedOn===null);)fb(l),l.blockedOn===null&&Pa.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],y=l[h+1],C=g[ts]||null;if(typeof y=="function")C||pb(l);else if(C){var z=null;if(y&&y.hasAttribute("formAction")){if(g=y,C=y[ts]||null)z=C.formAction;else if(Ap(g)!==null)continue}else z=C.action;typeof z=="function"?l[h+1]=z:(l.splice(h,3),h-=3),pb(l)}}}function xb(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(C){return g=C})},focusReset:"manual",scroll:"manual"})}function n(){g!==null&&(g(),g=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),g!==null&&(g(),g=null)}}}function Mp(s){this._internalRoot=s}Wd.prototype.render=Mp.prototype.render=function(s){var n=this._internalRoot;if(n===null)throw Error(o(409));var l=n.current,h=ti();ob(l,h,s,n,null,null)},Wd.prototype.unmount=Mp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var n=s.containerInfo;ob(s.current,2,null,s,null,null),Ld(),n[_n]=null}};function Wd(s){this._internalRoot=s}Wd.prototype.unstable_scheduleHydration=function(s){if(s){var n=Ll();s={blockedOn:null,target:s,priority:n};for(var l=0;l<Pa.length&&n!==0&&n<Pa[l].priority;l++);Pa.splice(l,0,s),l===0&&fb(s)}};var gb=i.version;if(gb!=="19.2.3")throw Error(o(527,gb,"19.2.3"));ne.findDOMNode=function(s){var n=s._reactInternals;if(n===void 0)throw typeof s.render=="function"?Error(o(188)):(s=Object.keys(s).join(","),Error(o(268,s)));return s=v(n),s=s!==null?b(s):null,s=s===null?null:s.stateNode,s};var X5={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{Jn=Qd.inject(X5),cs=Qd}catch{}}return Rc.createRoot=function(s,n){if(!c(s))throw Error(o(299));var l=!1,h="",g=Nv,y=Sv,C=Cv;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(h=n.identifierPrefix),n.onUncaughtError!==void 0&&(g=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError)),n=ab(s,1,!1,null,null,l,h,null,g,y,C,xb),s[_n]=n.current,fp(s),new Mp(n)},Rc.hydrateRoot=function(s,n,l){if(!c(s))throw Error(o(299));var h=!1,g="",y=Nv,C=Sv,z=Cv,X=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(z=l.onRecoverableError),l.formState!==void 0&&(X=l.formState)),n=ab(s,1,!0,n,l??null,h,g,X,y,C,z,xb),n.context=rb(null),l=n.current,h=ti(),h=Es(h),g=ba(h),g.callback=null,wa(l,g,h),l=h,n.current.lanes=l,wn(n,l),ln(n),s[_n]=n.current,fp(s),new Wd(n)},Rc.version="19.2.3",Rc}var kb;function r4(){if(kb)return Pp.exports;kb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),Pp.exports=a4(),Pp.exports}var o4=r4();function l4(t={}){const{nonce:i,locale:a,onScriptLoadSuccess:o,onScriptLoadError:c}=t,[u,f]=N.useState(!1),m=N.useRef(o);m.current=o;const x=N.useRef(c);return x.current=c,N.useEffect(()=>{const v=document.createElement("script");return v.src="https://accounts.google.com/gsi/client",a&&(v.src+=`?hl=${a}`),v.async=!0,v.defer=!0,v.nonce=i,v.onload=()=>{var b;f(!0),(b=m.current)===null||b===void 0||b.call(m)},v.onerror=()=>{var b;f(!1),(b=x.current)===null||b===void 0||b.call(x)},document.body.appendChild(v),()=>{document.body.removeChild(v)}},[i]),u}const s_=N.createContext(null);function c4({clientId:t,nonce:i,locale:a,onScriptLoadSuccess:o,onScriptLoadError:c,children:u}){const f=l4({nonce:i,onScriptLoadSuccess:o,onScriptLoadError:c,locale:a}),m=N.useMemo(()=>({locale:a,clientId:t,scriptLoadedSuccessfully:f}),[t,f]);return Jt.createElement(s_.Provider,{value:m},u)}function u4(){const t=N.useContext(s_);if(!t)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return t}function d4(t){var i;return(i=t?.clientId)!==null&&i!==void 0?i:t?.client_id}const h4={large:40,medium:32,small:20};function i_({onSuccess:t,onError:i,useOneTap:a,promptMomentNotification:o,type:c="standard",theme:u="outline",size:f="large",text:m,shape:x,logo_alignment:v,width:b,click_listener:w,state:j,containerProps:E,...A}){const k=N.useRef(null),{clientId:O,locale:M,scriptLoadedSuccessfully:B}=u4(),T=N.useRef(t);T.current=t;const D=N.useRef(i);D.current=i;const V=N.useRef(o);return V.current=o,N.useEffect(()=>{var R,Z,H,G,ee,Y,K,le,F;if(B)return(H=(Z=(R=window?.google)===null||R===void 0?void 0:R.accounts)===null||Z===void 0?void 0:Z.id)===null||H===void 0||H.initialize({client_id:O,callback:ve=>{var U;if(!ve?.credential)return(U=D.current)===null||U===void 0?void 0:U.call(D);const{credential:ne,select_by:J}=ve;T.current({credential:ne,clientId:d4(ve),select_by:J})},...A}),(Y=(ee=(G=window?.google)===null||G===void 0?void 0:G.accounts)===null||ee===void 0?void 0:ee.id)===null||Y===void 0||Y.renderButton(k.current,{type:c,theme:u,size:f,text:m,shape:x,logo_alignment:v,width:b,locale:M,click_listener:w,state:j}),a&&((F=(le=(K=window?.google)===null||K===void 0?void 0:K.accounts)===null||le===void 0?void 0:le.id)===null||F===void 0||F.prompt(V.current)),()=>{var ve,U,ne;a&&((ne=(U=(ve=window?.google)===null||ve===void 0?void 0:ve.accounts)===null||U===void 0?void 0:U.id)===null||ne===void 0||ne.cancel())}},[O,B,a,c,u,f,m,x,v,b,M]),Jt.createElement("div",{...E,ref:k,style:{height:h4[f],...E?.style}})}var Tb="popstate";function f4(t={}){function i(o,c){let{pathname:u,search:f,hash:m}=o.location;return bx("",{pathname:u,search:f,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function a(o,c){return typeof c=="string"?c:su(c)}return p4(i,a,null,t)}function Ct(t,i){if(t===!1||t===null||typeof t>"u")throw new Error(i)}function ii(t,i){if(!t){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function m4(){return Math.random().toString(36).substring(2,10)}function Eb(t,i){return{usr:t.state,key:t.key,idx:i}}function bx(t,i,a=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof i=="string"?hl(i):i,state:a,key:i&&i.key||o||m4()}}function su({pathname:t="/",search:i="",hash:a=""}){return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function hl(t){let i={};if(t){let a=t.indexOf("#");a>=0&&(i.hash=t.substring(a),t=t.substring(0,a));let o=t.indexOf("?");o>=0&&(i.search=t.substring(o),t=t.substring(0,o)),t&&(i.pathname=t)}return i}function p4(t,i,a,o={}){let{window:c=document.defaultView,v5Compat:u=!1}=o,f=c.history,m="POP",x=null,v=b();v==null&&(v=0,f.replaceState({...f.state,idx:v},""));function b(){return(f.state||{idx:null}).idx}function w(){m="POP";let O=b(),M=O==null?null:O-v;v=O,x&&x({action:m,location:k.location,delta:M})}function j(O,M){m="PUSH";let B=bx(k.location,O,M);v=b()+1;let T=Eb(B,v),D=k.createHref(B);try{f.pushState(T,"",D)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;c.location.assign(D)}u&&x&&x({action:m,location:k.location,delta:1})}function E(O,M){m="REPLACE";let B=bx(k.location,O,M);v=b();let T=Eb(B,v),D=k.createHref(B);f.replaceState(T,"",D),u&&x&&x({action:m,location:k.location,delta:0})}function A(O){return x4(O)}let k={get action(){return m},get location(){return t(c,f)},listen(O){if(x)throw new Error("A history only accepts one active listener");return c.addEventListener(Tb,w),x=O,()=>{c.removeEventListener(Tb,w),x=null}},createHref(O){return i(c,O)},createURL:A,encodeLocation(O){let M=A(O);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:j,replace:E,go(O){return f.go(O)}};return k}function x4(t,i=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(a,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:su(t);return o=o.replace(/ $/,"%20"),!i&&o.startsWith("//")&&(o=a+o),new URL(o,a)}function n_(t,i,a="/"){return g4(t,i,a,!1)}function g4(t,i,a,o){let c=typeof i=="string"?hl(i):i,u=Xn(c.pathname||"/",a);if(u==null)return null;let f=a_(t);v4(f);let m=null;for(let x=0;m==null&&x<f.length;++x){let v=E4(u);m=k4(f[x],v,o)}return m}function a_(t,i=[],a=[],o="",c=!1){let u=(f,m,x=c,v)=>{let b={relativePath:v===void 0?f.path||"":v,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(o)&&x)return;Ct(b.relativePath.startsWith(o),`Absolute route path "${b.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(o.length)}let w=$n([o,b.relativePath]),j=a.concat(b);f.children&&f.children.length>0&&(Ct(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),a_(f.children,i,j,w,x)),!(f.path==null&&!f.index)&&i.push({path:w,score:S4(w,f.index),routesMeta:j})};return t.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let x of r_(f.path))u(f,m,!0,x)}),i}function r_(t){let i=t.split("/");if(i.length===0)return[];let[a,...o]=i,c=a.endsWith("?"),u=a.replace(/\?$/,"");if(o.length===0)return c?[u,""]:[u];let f=r_(o.join("/")),m=[];return m.push(...f.map(x=>x===""?u:[u,x].join("/"))),c&&m.push(...f),m.map(x=>t.startsWith("/")&&x===""?"/":x)}function v4(t){t.sort((i,a)=>i.score!==a.score?a.score-i.score:C4(i.routesMeta.map(o=>o.childrenIndex),a.routesMeta.map(o=>o.childrenIndex)))}var y4=/^:[\w-]+$/,b4=3,w4=2,_4=1,j4=10,N4=-2,Ab=t=>t==="*";function S4(t,i){let a=t.split("/"),o=a.length;return a.some(Ab)&&(o+=N4),i&&(o+=w4),a.filter(c=>!Ab(c)).reduce((c,u)=>c+(y4.test(u)?b4:u===""?_4:j4),o)}function C4(t,i){return t.length===i.length&&t.slice(0,-1).every((o,c)=>o===i[c])?t[t.length-1]-i[i.length-1]:0}function k4(t,i,a=!1){let{routesMeta:o}=t,c={},u="/",f=[];for(let m=0;m<o.length;++m){let x=o[m],v=m===o.length-1,b=u==="/"?i:i.slice(u.length)||"/",w=Hh({path:x.relativePath,caseSensitive:x.caseSensitive,end:v},b),j=x.route;if(!w&&v&&a&&!o[o.length-1].route.index&&(w=Hh({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},b)),!w)return null;Object.assign(c,w.params),f.push({params:c,pathname:$n([u,w.pathname]),pathnameBase:R4($n([u,w.pathnameBase])),route:j}),w.pathnameBase!=="/"&&(u=$n([u,w.pathnameBase]))}return f}function Hh(t,i){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,o]=T4(t.path,t.caseSensitive,t.end),c=i.match(a);if(!c)return null;let u=c[0],f=u.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:o.reduce((v,{paramName:b,isOptional:w},j)=>{if(b==="*"){let A=m[j]||"";f=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const E=m[j];return w&&!E?v[b]=void 0:v[b]=(E||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:f,pattern:t}}function T4(t,i=!1,a=!0){ii(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],c="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,x)=>(o.push({paramName:m,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),c+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?c+="\\/*$":t!==""&&t!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,i?void 0:"i"),o]}function E4(t){try{return t.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return ii(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),t}}function Xn(t,i){if(i==="/")return t;if(!t.toLowerCase().startsWith(i.toLowerCase()))return null;let a=i.endsWith("/")?i.length-1:i.length,o=t.charAt(a);return o&&o!=="/"?null:t.slice(a)||"/"}var o_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A4=t=>o_.test(t);function L4(t,i="/"){let{pathname:a,search:o="",hash:c=""}=typeof t=="string"?hl(t):t,u;if(a)if(A4(a))u=a;else{if(a.includes("//")){let f=a;a=a.replace(/\/\/+/g,"/"),ii(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${a}`)}a.startsWith("/")?u=Lb(a.substring(1),"/"):u=Lb(a,i)}else u=i;return{pathname:u,search:O4(o),hash:P4(c)}}function Lb(t,i){let a=i.replace(/\/+$/,"").split("/");return t.split("/").forEach(c=>{c===".."?a.length>1&&a.pop():c!=="."&&a.push(c)}),a.length>1?a.join("/"):"/"}function Ip(t,i,a,o){return`Cannot include a '${t}' character in a manually specified \`to.${i}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M4(t){return t.filter((i,a)=>a===0||i.route.path&&i.route.path.length>0)}function f0(t){let i=M4(t);return i.map((a,o)=>o===i.length-1?a.pathname:a.pathnameBase)}function m0(t,i,a,o=!1){let c;typeof t=="string"?c=hl(t):(c={...t},Ct(!c.pathname||!c.pathname.includes("?"),Ip("?","pathname","search",c)),Ct(!c.pathname||!c.pathname.includes("#"),Ip("#","pathname","hash",c)),Ct(!c.search||!c.search.includes("#"),Ip("#","search","hash",c)));let u=t===""||c.pathname==="",f=u?"/":c.pathname,m;if(f==null)m=a;else{let w=i.length-1;if(!o&&f.startsWith("..")){let j=f.split("/");for(;j[0]==="..";)j.shift(),w-=1;c.pathname=j.join("/")}m=w>=0?i[w]:"/"}let x=L4(c,m),v=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&a.endsWith("/");return!x.pathname.endsWith("/")&&(v||b)&&(x.pathname+="/"),x}var $n=t=>t.join("/").replace(/\/\/+/g,"/"),R4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,P4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,D4=class{constructor(t,i,a,o=!1){this.status=t,this.statusText=i||"",this.internal=o,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function z4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function B4(t){return t.map(i=>i.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var l_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function c_(t,i){let a=t;if(typeof a!="string"||!o_.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let o=a,c=!1;if(l_)try{let u=new URL(window.location.href),f=a.startsWith("//")?new URL(u.protocol+a):new URL(a),m=Xn(f.pathname,i);f.origin===u.origin&&m!=null?a=m+f.search+f.hash:c=!0}catch{ii(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:c,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var u_=["POST","PUT","PATCH","DELETE"];new Set(u_);var I4=["GET",...u_];new Set(I4);var fl=N.createContext(null);fl.displayName="DataRouter";var lf=N.createContext(null);lf.displayName="DataRouterState";var U4=N.createContext(!1),d_=N.createContext({isTransitioning:!1});d_.displayName="ViewTransition";var V4=N.createContext(new Map);V4.displayName="Fetchers";var H4=N.createContext(null);H4.displayName="Await";var ni=N.createContext(null);ni.displayName="Navigation";var mu=N.createContext(null);mu.displayName="Location";var Fi=N.createContext({outlet:null,matches:[],isDataRoute:!1});Fi.displayName="Route";var p0=N.createContext(null);p0.displayName="RouteError";var h_="REACT_ROUTER_ERROR",F4="REDIRECT",Z4="ROUTE_ERROR_RESPONSE";function q4(t){if(t.startsWith(`${h_}:${F4}:{`))try{let i=JSON.parse(t.slice(28));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.location=="string"&&typeof i.reloadDocument=="boolean"&&typeof i.replace=="boolean")return i}catch{}}function G4(t){if(t.startsWith(`${h_}:${Z4}:{`))try{let i=JSON.parse(t.slice(40));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string")return new D4(i.status,i.statusText,i.data)}catch{}}function $4(t,{relative:i}={}){Ct(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:o}=N.useContext(ni),{hash:c,pathname:u,search:f}=pu(t,{relative:i}),m=u;return a!=="/"&&(m=u==="/"?a:$n([a,u])),o.createHref({pathname:m,search:f,hash:c})}function ml(){return N.useContext(mu)!=null}function Zi(){return Ct(ml(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(mu).location}var f_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m_(t){N.useContext(ni).static||N.useLayoutEffect(t)}function Gt(){let{isDataRoute:t}=N.useContext(Fi);return t?rS():Y4()}function Y4(){Ct(ml(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(fl),{basename:i,navigator:a}=N.useContext(ni),{matches:o}=N.useContext(Fi),{pathname:c}=Zi(),u=JSON.stringify(f0(o)),f=N.useRef(!1);return m_(()=>{f.current=!0}),N.useCallback((x,v={})=>{if(ii(f.current,f_),!f.current)return;if(typeof x=="number"){a.go(x);return}let b=m0(x,JSON.parse(u),c,v.relative==="path");t==null&&i!=="/"&&(b.pathname=b.pathname==="/"?i:$n([i,b.pathname])),(v.replace?a.replace:a.push)(b,v.state,v)},[i,a,u,c,t])}N.createContext(null);function p_(){let{matches:t}=N.useContext(Fi),i=t[t.length-1];return i?i.params:{}}function pu(t,{relative:i}={}){let{matches:a}=N.useContext(Fi),{pathname:o}=Zi(),c=JSON.stringify(f0(a));return N.useMemo(()=>m0(t,JSON.parse(c),o,i==="path"),[t,c,o,i])}function X4(t,i){return x_(t,i)}function x_(t,i,a,o,c){Ct(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=N.useContext(ni),{matches:f}=N.useContext(Fi),m=f[f.length-1],x=m?m.params:{},v=m?m.pathname:"/",b=m?m.pathnameBase:"/",w=m&&m.route;{let B=w&&w.path||"";v_(v,!w||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let j=Zi(),E;if(i){let B=typeof i=="string"?hl(i):i;Ct(b==="/"||B.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${B.pathname}" was given in the \`location\` prop.`),E=B}else E=j;let A=E.pathname||"/",k=A;if(b!=="/"){let B=b.replace(/^\//,"").split("/");k="/"+A.replace(/^\//,"").split("/").slice(B.length).join("/")}let O=n_(t,{pathname:k});ii(w||O!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ii(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=eS(O&&O.map(B=>Object.assign({},B,{params:Object.assign({},x,B.params),pathname:$n([b,u.encodeLocation?u.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?b:$n([b,u.encodeLocation?u.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),f,a,o,c);return i&&M?N.createElement(mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},M):M}function K4(){let t=aS(),i=z4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},f=null;return console.error("Error handled by React Router default ErrorBoundary:",t),f=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},i),a?N.createElement("pre",{style:c},a):null,f)}var W4=N.createElement(K4,null),g_=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){this.props.onError?this.props.onError(t,i):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const a=G4(t.digest);a&&(t=a)}let i=t!==void 0?N.createElement(Fi.Provider,{value:this.props.routeContext},N.createElement(p0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?N.createElement(Q4,{error:t},i):i}};g_.contextType=U4;var Up=new WeakMap;function Q4({children:t,error:i}){let{basename:a}=N.useContext(ni);if(typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){let o=q4(i.digest);if(o){let c=Up.get(i);if(c)throw c;let u=c_(o.location,a);if(l_&&!Up.get(i))if(u.isExternal||o.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:o.replace}));throw Up.set(i,f),f}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return t}function J4({routeContext:t,match:i,children:a}){let o=N.useContext(fl);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),N.createElement(Fi.Provider,{value:t},a)}function eS(t,i=[],a=null,o=null,c=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(i.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let u=t,f=a?.errors;if(f!=null){let b=u.findIndex(w=>w.route.id&&f?.[w.route.id]!==void 0);Ct(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,x=-1;if(a)for(let b=0;b<u.length;b++){let w=u[b];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(x=b),w.route.id){let{loaderData:j,errors:E}=a,A=w.route.loader&&!j.hasOwnProperty(w.route.id)&&(!E||E[w.route.id]===void 0);if(w.route.lazy||A){m=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}let v=a&&o?(b,w)=>{o(b,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:B4(a.matches),errorInfo:w})}:void 0;return u.reduceRight((b,w,j)=>{let E,A=!1,k=null,O=null;a&&(E=f&&w.route.id?f[w.route.id]:void 0,k=w.route.errorElement||W4,m&&(x<0&&j===0?(v_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,O=null):x===j&&(A=!0,O=w.route.hydrateFallbackElement||null)));let M=i.concat(u.slice(0,j+1)),B=()=>{let T;return E?T=k:A?T=O:w.route.Component?T=N.createElement(w.route.Component,null):w.route.element?T=w.route.element:T=b,N.createElement(J4,{match:w,routeContext:{outlet:b,matches:M,isDataRoute:a!=null},children:T})};return a&&(w.route.ErrorBoundary||w.route.errorElement||j===0)?N.createElement(g_,{location:a.location,revalidation:a.revalidation,component:k,error:E,children:B(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:v}):B()},null)}function x0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tS(t){let i=N.useContext(fl);return Ct(i,x0(t)),i}function sS(t){let i=N.useContext(lf);return Ct(i,x0(t)),i}function iS(t){let i=N.useContext(Fi);return Ct(i,x0(t)),i}function g0(t){let i=iS(t),a=i.matches[i.matches.length-1];return Ct(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function nS(){return g0("useRouteId")}function aS(){let t=N.useContext(p0),i=sS("useRouteError"),a=g0("useRouteError");return t!==void 0?t:i.errors?.[a]}function rS(){let{router:t}=tS("useNavigate"),i=g0("useNavigate"),a=N.useRef(!1);return m_(()=>{a.current=!0}),N.useCallback(async(c,u={})=>{ii(a.current,f_),a.current&&(typeof c=="number"?await t.navigate(c):await t.navigate(c,{fromRouteId:i,...u}))},[t,i])}var Mb={};function v_(t,i,a){!i&&!Mb[t]&&(Mb[t]=!0,ii(!1,a))}N.memo(oS);function oS({routes:t,future:i,state:a,onError:o}){return x_(t,void 0,a,o,i)}function wx({to:t,replace:i,state:a,relative:o}){Ct(ml(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=N.useContext(ni);ii(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=N.useContext(Fi),{pathname:f}=Zi(),m=Gt(),x=m0(t,f0(u),f,o==="path"),v=JSON.stringify(x);return N.useEffect(()=>{m(JSON.parse(v),{replace:i,state:a,relative:o})},[m,v,o,i,a]),null}function qe(t){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lS({basename:t="/",children:i=null,location:a,navigationType:o="POP",navigator:c,static:u=!1,unstable_useTransitions:f}){Ct(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=t.replace(/^\/*/,"/"),x=N.useMemo(()=>({basename:m,navigator:c,static:u,unstable_useTransitions:f,future:{}}),[m,c,u,f]);typeof a=="string"&&(a=hl(a));let{pathname:v="/",search:b="",hash:w="",state:j=null,key:E="default"}=a,A=N.useMemo(()=>{let k=Xn(v,m);return k==null?null:{location:{pathname:k,search:b,hash:w,state:j,key:E},navigationType:o}},[m,v,b,w,j,E,o]);return ii(A!=null,`<Router basename="${m}"> is not able to match the URL "${v}${b}${w}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:N.createElement(ni.Provider,{value:x},N.createElement(mu.Provider,{children:i,value:A}))}function cf({children:t,location:i}){return X4(_x(t),i)}function _x(t,i=[]){let a=[];return N.Children.forEach(t,(o,c)=>{if(!N.isValidElement(o))return;let u=[...i,c];if(o.type===N.Fragment){a.push.apply(a,_x(o.props.children,u));return}Ct(o.type===qe,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!o.props.index||!o.props.children,"An index route cannot have child routes.");let f={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=_x(o.props.children,u)),a.push(f)}),a}var yh="get",bh="application/x-www-form-urlencoded";function uf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function cS(t){return uf(t)&&t.tagName.toLowerCase()==="button"}function uS(t){return uf(t)&&t.tagName.toLowerCase()==="form"}function dS(t){return uf(t)&&t.tagName.toLowerCase()==="input"}function hS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fS(t,i){return t.button===0&&(!i||i==="_self")&&!hS(t)}function jx(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((i,a)=>{let o=t[a];return i.concat(Array.isArray(o)?o.map(c=>[a,c]):[[a,o]])},[]))}function mS(t,i){let a=jx(t);return i&&i.forEach((o,c)=>{a.has(c)||i.getAll(c).forEach(u=>{a.append(c,u)})}),a}var Jd=null;function pS(){if(Jd===null)try{new FormData(document.createElement("form"),0),Jd=!1}catch{Jd=!0}return Jd}var xS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vp(t){return t!=null&&!xS.has(t)?(ii(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bh}"`),null):t}function gS(t,i){let a,o,c,u,f;if(uS(t)){let m=t.getAttribute("action");o=m?Xn(m,i):null,a=t.getAttribute("method")||yh,c=Vp(t.getAttribute("enctype"))||bh,u=new FormData(t)}else if(cS(t)||dS(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=t.getAttribute("formaction")||m.getAttribute("action");if(o=x?Xn(x,i):null,a=t.getAttribute("formmethod")||m.getAttribute("method")||yh,c=Vp(t.getAttribute("formenctype"))||Vp(m.getAttribute("enctype"))||bh,u=new FormData(m,t),!pS()){let{name:v,type:b,value:w}=t;if(b==="image"){let j=v?`${v}.`:"";u.append(`${j}x`,"0"),u.append(`${j}y`,"0")}else v&&u.append(v,w)}}else{if(uf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=yh,o=null,c=bh,f=t}return u&&c==="text/plain"&&(f=u,u=void 0),{action:o,method:a.toLowerCase(),encType:c,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function v0(t,i){if(t===!1||t===null||typeof t>"u")throw new Error(i)}function vS(t,i,a){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return o.pathname==="/"?o.pathname=`_root.${a}`:i&&Xn(o.pathname,i)==="/"?o.pathname=`${i.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function yS(t,i){if(t.id in i)return i[t.id];try{let a=await import(t.module);return i[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wS(t,i,a){let o=await Promise.all(t.map(async c=>{let u=i.routes[c.route.id];if(u){let f=await yS(u,a);return f.links?f.links():[]}return[]}));return SS(o.flat(1).filter(bS).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Rb(t,i,a,o,c,u){let f=(x,v)=>a[v]?x.route.id!==a[v].route.id:!0,m=(x,v)=>a[v].pathname!==x.pathname||a[v].route.path?.endsWith("*")&&a[v].params["*"]!==x.params["*"];return u==="assets"?i.filter((x,v)=>f(x,v)||m(x,v)):u==="data"?i.filter((x,v)=>{let b=o.routes[x.route.id];if(!b||!b.hasLoader)return!1;if(f(x,v)||m(x,v))return!0;if(x.route.shouldRevalidate){let w=x.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function _S(t,i,{includeHydrateFallback:a}={}){return jS(t.map(o=>{let c=i.routes[o.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),a&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function jS(t){return[...new Set(t)]}function NS(t){let i={},a=Object.keys(t).sort();for(let o of a)i[o]=t[o];return i}function SS(t,i){let a=new Set;return new Set(i),t.reduce((o,c)=>{let u=JSON.stringify(NS(c));return a.has(u)||(a.add(u),o.push({key:u,link:c})),o},[])}function y_(){let t=N.useContext(fl);return v0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function CS(){let t=N.useContext(lf);return v0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var y0=N.createContext(void 0);y0.displayName="FrameworkContext";function b_(){let t=N.useContext(y0);return v0(t,"You must render this element inside a <HydratedRouter> element"),t}function kS(t,i){let a=N.useContext(y0),[o,c]=N.useState(!1),[u,f]=N.useState(!1),{onFocus:m,onBlur:x,onMouseEnter:v,onMouseLeave:b,onTouchStart:w}=i,j=N.useRef(null);N.useEffect(()=>{if(t==="render"&&f(!0),t==="viewport"){let k=M=>{M.forEach(B=>{f(B.isIntersecting)})},O=new IntersectionObserver(k,{threshold:.5});return j.current&&O.observe(j.current),()=>{O.disconnect()}}},[t]),N.useEffect(()=>{if(o){let k=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(k)}}},[o]);let E=()=>{c(!0)},A=()=>{c(!1),f(!1)};return a?t!=="intent"?[u,j,{}]:[u,j,{onFocus:Oc(m,E),onBlur:Oc(x,A),onMouseEnter:Oc(v,E),onMouseLeave:Oc(b,A),onTouchStart:Oc(w,E)}]:[!1,j,{}]}function Oc(t,i){return a=>{t&&t(a),a.defaultPrevented||i(a)}}function TS({page:t,...i}){let{router:a}=y_(),o=N.useMemo(()=>n_(a.routes,t,a.basename),[a.routes,t,a.basename]);return o?N.createElement(AS,{page:t,matches:o,...i}):null}function ES(t){let{manifest:i,routeModules:a}=b_(),[o,c]=N.useState([]);return N.useEffect(()=>{let u=!1;return wS(t,i,a).then(f=>{u||c(f)}),()=>{u=!0}},[t,i,a]),o}function AS({page:t,matches:i,...a}){let o=Zi(),{manifest:c,routeModules:u}=b_(),{basename:f}=y_(),{loaderData:m,matches:x}=CS(),v=N.useMemo(()=>Rb(t,i,x,c,o,"data"),[t,i,x,c,o]),b=N.useMemo(()=>Rb(t,i,x,c,o,"assets"),[t,i,x,c,o]),w=N.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let A=new Set,k=!1;if(i.forEach(M=>{let B=c.routes[M.route.id];!B||!B.hasLoader||(!v.some(T=>T.route.id===M.route.id)&&M.route.id in m&&u[M.route.id]?.shouldRevalidate||B.hasClientLoader?k=!0:A.add(M.route.id))}),A.size===0)return[];let O=vS(t,f,"data");return k&&A.size>0&&O.searchParams.set("_routes",i.filter(M=>A.has(M.route.id)).map(M=>M.route.id).join(",")),[O.pathname+O.search]},[f,m,o,c,v,i,t,u]),j=N.useMemo(()=>_S(b,c),[b,c]),E=ES(b);return N.createElement(N.Fragment,null,w.map(A=>N.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...a})),j.map(A=>N.createElement("link",{key:A,rel:"modulepreload",href:A,...a})),E.map(({key:A,link:k})=>N.createElement("link",{key:A,nonce:a.nonce,...k})))}function LS(...t){return i=>{t.forEach(a=>{typeof a=="function"?a(i):a!=null&&(a.current=i)})}}var MS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MS&&(window.__reactRouterVersion="7.11.0")}catch{}function RS({basename:t,children:i,unstable_useTransitions:a,window:o}){let c=N.useRef();c.current==null&&(c.current=f4({window:o,v5Compat:!0}));let u=c.current,[f,m]=N.useState({action:u.action,location:u.location}),x=N.useCallback(v=>{a===!1?m(v):N.startTransition(()=>m(v))},[a]);return N.useLayoutEffect(()=>u.listen(x),[u,x]),N.createElement(lS,{basename:t,children:i,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:a})}var w_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,St=N.forwardRef(function({onClick:i,discover:a="render",prefetch:o="none",relative:c,reloadDocument:u,replace:f,state:m,target:x,to:v,preventScrollReset:b,viewTransition:w,unstable_defaultShouldRevalidate:j,...E},A){let{basename:k,unstable_useTransitions:O}=N.useContext(ni),M=typeof v=="string"&&w_.test(v),B=c_(v,k);v=B.to;let T=$4(v,{relative:c}),[D,V,R]=kS(o,E),Z=DS(v,{replace:f,state:m,target:x,preventScrollReset:b,relative:c,viewTransition:w,unstable_defaultShouldRevalidate:j,unstable_useTransitions:O});function H(ee){i&&i(ee),ee.defaultPrevented||Z(ee)}let G=N.createElement("a",{...E,...R,href:B.absoluteURL||T,onClick:B.isExternal||u?i:H,ref:LS(A,V),target:x,"data-discover":!M&&a==="render"?"true":void 0});return D&&!M?N.createElement(N.Fragment,null,G,N.createElement(TS,{page:T})):G});St.displayName="Link";var Nx=N.forwardRef(function({"aria-current":i="page",caseSensitive:a=!1,className:o="",end:c=!1,style:u,to:f,viewTransition:m,children:x,...v},b){let w=pu(f,{relative:v.relative}),j=Zi(),E=N.useContext(lf),{navigator:A,basename:k}=N.useContext(ni),O=E!=null&&HS(w)&&m===!0,M=A.encodeLocation?A.encodeLocation(w).pathname:w.pathname,B=j.pathname,T=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;a||(B=B.toLowerCase(),T=T?T.toLowerCase():null,M=M.toLowerCase()),T&&k&&(T=Xn(T,k)||T);const D=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let V=B===M||!c&&B.startsWith(M)&&B.charAt(D)==="/",R=T!=null&&(T===M||!c&&T.startsWith(M)&&T.charAt(M.length)==="/"),Z={isActive:V,isPending:R,isTransitioning:O},H=V?i:void 0,G;typeof o=="function"?G=o(Z):G=[o,V?"active":null,R?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let ee=typeof u=="function"?u(Z):u;return N.createElement(St,{...v,"aria-current":H,className:G,ref:b,style:ee,to:f,viewTransition:m},typeof x=="function"?x(Z):x)});Nx.displayName="NavLink";var OS=N.forwardRef(({discover:t="render",fetcherKey:i,navigate:a,reloadDocument:o,replace:c,state:u,method:f=yh,action:m,onSubmit:x,relative:v,preventScrollReset:b,viewTransition:w,unstable_defaultShouldRevalidate:j,...E},A)=>{let{unstable_useTransitions:k}=N.useContext(ni),O=US(),M=VS(m,{relative:v}),B=f.toLowerCase()==="get"?"get":"post",T=typeof m=="string"&&w_.test(m),D=V=>{if(x&&x(V),V.defaultPrevented)return;V.preventDefault();let R=V.nativeEvent.submitter,Z=R?.getAttribute("formmethod")||f,H=()=>O(R||V.currentTarget,{fetcherKey:i,method:Z,navigate:a,replace:c,state:u,relative:v,preventScrollReset:b,viewTransition:w,unstable_defaultShouldRevalidate:j});k&&a!==!1?N.startTransition(()=>H()):H()};return N.createElement("form",{ref:A,method:B,action:M,onSubmit:o?x:D,...E,"data-discover":!T&&t==="render"?"true":void 0})});OS.displayName="Form";function PS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function __(t){let i=N.useContext(fl);return Ct(i,PS(t)),i}function DS(t,{target:i,replace:a,state:o,preventScrollReset:c,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:x}={}){let v=Gt(),b=Zi(),w=pu(t,{relative:u});return N.useCallback(j=>{if(fS(j,i)){j.preventDefault();let E=a!==void 0?a:su(b)===su(w),A=()=>v(t,{replace:E,state:o,preventScrollReset:c,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});x?N.startTransition(()=>A()):A()}},[b,v,w,a,o,i,t,c,u,f,m,x])}function zS(t){ii(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let i=N.useRef(jx(t)),a=N.useRef(!1),o=Zi(),c=N.useMemo(()=>mS(o.search,a.current?null:i.current),[o.search]),u=Gt(),f=N.useCallback((m,x)=>{const v=jx(typeof m=="function"?m(new URLSearchParams(c)):m);a.current=!0,u("?"+v,x)},[u,c]);return[c,f]}var BS=0,IS=()=>`__${String(++BS)}__`;function US(){let{router:t}=__("useSubmit"),{basename:i}=N.useContext(ni),a=nS(),o=t.fetch,c=t.navigate;return N.useCallback(async(u,f={})=>{let{action:m,method:x,encType:v,formData:b,body:w}=gS(u,i);if(f.navigate===!1){let j=f.fetcherKey||IS();await o(j,a,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:w,formMethod:f.method||x,formEncType:f.encType||v,flushSync:f.flushSync})}else await c(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:w,formMethod:f.method||x,formEncType:f.encType||v,replace:f.replace,state:f.state,fromRouteId:a,flushSync:f.flushSync,viewTransition:f.viewTransition})},[o,c,i,a])}function VS(t,{relative:i}={}){let{basename:a}=N.useContext(ni),o=N.useContext(Fi);Ct(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),u={...pu(t||".",{relative:i})},f=Zi();if(t==null){u.search=f.search;let m=new URLSearchParams(u.search),x=m.getAll("index");if(x.some(b=>b==="")){m.delete("index"),x.filter(w=>w).forEach(w=>m.append("index",w));let b=m.toString();u.search=b?`?${b}`:""}}return(!t||t===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:$n([a,u.pathname])),su(u)}function HS(t,{relative:i}={}){let a=N.useContext(d_);Ct(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=__("useViewTransitionState"),c=pu(t,{relative:i});if(!a.isTransitioning)return!1;let u=Xn(a.currentLocation.pathname,o)||a.currentLocation.pathname,f=Xn(a.nextLocation.pathname,o)||a.nextLocation.pathname;return Hh(c.pathname,f)!=null||Hh(c.pathname,u)!=null}var FS=t_();function j_(t,i){return function(){return t.apply(i,arguments)}}const{toString:ZS}=Object.prototype,{getPrototypeOf:b0}=Object,{iterator:df,toStringTag:N_}=Symbol,hf=(t=>i=>{const a=ZS.call(i);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),qi=t=>(t=t.toLowerCase(),i=>hf(i)===t),ff=t=>i=>typeof i===t,{isArray:pl}=Array,rl=ff("undefined");function xu(t){return t!==null&&!rl(t)&&t.constructor!==null&&!rl(t.constructor)&&Hs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const S_=qi("ArrayBuffer");function qS(t){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(t):i=t&&t.buffer&&S_(t.buffer),i}const GS=ff("string"),Hs=ff("function"),C_=ff("number"),gu=t=>t!==null&&typeof t=="object",$S=t=>t===!0||t===!1,wh=t=>{if(hf(t)!=="object")return!1;const i=b0(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(N_ in t)&&!(df in t)},YS=t=>{if(!gu(t)||xu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},XS=qi("Date"),KS=qi("File"),WS=qi("Blob"),QS=qi("FileList"),JS=t=>gu(t)&&Hs(t.pipe),eC=t=>{let i;return t&&(typeof FormData=="function"&&t instanceof FormData||Hs(t.append)&&((i=hf(t))==="formdata"||i==="object"&&Hs(t.toString)&&t.toString()==="[object FormData]"))},tC=qi("URLSearchParams"),[sC,iC,nC,aC]=["ReadableStream","Request","Response","Headers"].map(qi),rC=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vu(t,i,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let o,c;if(typeof t!="object"&&(t=[t]),pl(t))for(o=0,c=t.length;o<c;o++)i.call(null,t[o],o,t);else{if(xu(t))return;const u=a?Object.getOwnPropertyNames(t):Object.keys(t),f=u.length;let m;for(o=0;o<f;o++)m=u[o],i.call(null,t[m],m,t)}}function k_(t,i){if(xu(t))return null;i=i.toLowerCase();const a=Object.keys(t);let o=a.length,c;for(;o-- >0;)if(c=a[o],i===c.toLowerCase())return c;return null}const Hr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,T_=t=>!rl(t)&&t!==Hr;function Sx(){const{caseless:t,skipUndefined:i}=T_(this)&&this||{},a={},o=(c,u)=>{const f=t&&k_(a,u)||u;wh(a[f])&&wh(c)?a[f]=Sx(a[f],c):wh(c)?a[f]=Sx({},c):pl(c)?a[f]=c.slice():(!i||!rl(c))&&(a[f]=c)};for(let c=0,u=arguments.length;c<u;c++)arguments[c]&&vu(arguments[c],o);return a}const oC=(t,i,a,{allOwnKeys:o}={})=>(vu(i,(c,u)=>{a&&Hs(c)?t[u]=j_(c,a):t[u]=c},{allOwnKeys:o}),t),lC=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),cC=(t,i,a,o)=>{t.prototype=Object.create(i.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:i.prototype}),a&&Object.assign(t.prototype,a)},uC=(t,i,a,o)=>{let c,u,f;const m={};if(i=i||{},t==null)return i;do{for(c=Object.getOwnPropertyNames(t),u=c.length;u-- >0;)f=c[u],(!o||o(f,t,i))&&!m[f]&&(i[f]=t[f],m[f]=!0);t=a!==!1&&b0(t)}while(t&&(!a||a(t,i))&&t!==Object.prototype);return i},dC=(t,i,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=i.length;const o=t.indexOf(i,a);return o!==-1&&o===a},hC=t=>{if(!t)return null;if(pl(t))return t;let i=t.length;if(!C_(i))return null;const a=new Array(i);for(;i-- >0;)a[i]=t[i];return a},fC=(t=>i=>t&&i instanceof t)(typeof Uint8Array<"u"&&b0(Uint8Array)),mC=(t,i)=>{const o=(t&&t[df]).call(t);let c;for(;(c=o.next())&&!c.done;){const u=c.value;i.call(t,u[0],u[1])}},pC=(t,i)=>{let a;const o=[];for(;(a=t.exec(i))!==null;)o.push(a);return o},xC=qi("HTMLFormElement"),gC=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,o,c){return o.toUpperCase()+c}),Ob=(({hasOwnProperty:t})=>(i,a)=>t.call(i,a))(Object.prototype),vC=qi("RegExp"),E_=(t,i)=>{const a=Object.getOwnPropertyDescriptors(t),o={};vu(a,(c,u)=>{let f;(f=i(c,u,t))!==!1&&(o[u]=f||c)}),Object.defineProperties(t,o)},yC=t=>{E_(t,(i,a)=>{if(Hs(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const o=t[a];if(Hs(o)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},bC=(t,i)=>{const a={},o=c=>{c.forEach(u=>{a[u]=!0})};return pl(t)?o(t):o(String(t).split(i)),a},wC=()=>{},_C=(t,i)=>t!=null&&Number.isFinite(t=+t)?t:i;function jC(t){return!!(t&&Hs(t.append)&&t[N_]==="FormData"&&t[df])}const NC=t=>{const i=new Array(10),a=(o,c)=>{if(gu(o)){if(i.indexOf(o)>=0)return;if(xu(o))return o;if(!("toJSON"in o)){i[c]=o;const u=pl(o)?[]:{};return vu(o,(f,m)=>{const x=a(f,c+1);!rl(x)&&(u[m]=x)}),i[c]=void 0,u}}return o};return a(t,0)},SC=qi("AsyncFunction"),CC=t=>t&&(gu(t)||Hs(t))&&Hs(t.then)&&Hs(t.catch),A_=((t,i)=>t?setImmediate:i?((a,o)=>(Hr.addEventListener("message",({source:c,data:u})=>{c===Hr&&u===a&&o.length&&o.shift()()},!1),c=>{o.push(c),Hr.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Hs(Hr.postMessage)),kC=typeof queueMicrotask<"u"?queueMicrotask.bind(Hr):typeof process<"u"&&process.nextTick||A_,TC=t=>t!=null&&Hs(t[df]),de={isArray:pl,isArrayBuffer:S_,isBuffer:xu,isFormData:eC,isArrayBufferView:qS,isString:GS,isNumber:C_,isBoolean:$S,isObject:gu,isPlainObject:wh,isEmptyObject:YS,isReadableStream:sC,isRequest:iC,isResponse:nC,isHeaders:aC,isUndefined:rl,isDate:XS,isFile:KS,isBlob:WS,isRegExp:vC,isFunction:Hs,isStream:JS,isURLSearchParams:tC,isTypedArray:fC,isFileList:QS,forEach:vu,merge:Sx,extend:oC,trim:rC,stripBOM:lC,inherits:cC,toFlatObject:uC,kindOf:hf,kindOfTest:qi,endsWith:dC,toArray:hC,forEachEntry:mC,matchAll:pC,isHTMLForm:xC,hasOwnProperty:Ob,hasOwnProp:Ob,reduceDescriptors:E_,freezeMethods:yC,toObjectSet:bC,toCamelCase:gC,noop:wC,toFiniteNumber:_C,findKey:k_,global:Hr,isContextDefined:T_,isSpecCompliantForm:jC,toJSONObject:NC,isAsyncFn:SC,isThenable:CC,setImmediate:A_,asap:kC,isIterable:TC};function Ue(t,i,a,o,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",i&&(this.code=i),a&&(this.config=a),o&&(this.request=o),c&&(this.response=c,this.status=c.status?c.status:null)}de.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.status}}});const L_=Ue.prototype,M_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{M_[t]={value:t}});Object.defineProperties(Ue,M_);Object.defineProperty(L_,"isAxiosError",{value:!0});Ue.from=(t,i,a,o,c,u)=>{const f=Object.create(L_);de.toFlatObject(t,f,function(b){return b!==Error.prototype},v=>v!=="isAxiosError");const m=t&&t.message?t.message:"Error",x=i==null&&t?t.code:i;return Ue.call(f,m,x,a,o,c),t&&f.cause==null&&Object.defineProperty(f,"cause",{value:t,configurable:!0}),f.name=t&&t.name||"Error",u&&Object.assign(f,u),f};const EC=null;function Cx(t){return de.isPlainObject(t)||de.isArray(t)}function R_(t){return de.endsWith(t,"[]")?t.slice(0,-2):t}function Pb(t,i,a){return t?t.concat(i).map(function(c,u){return c=R_(c),!a&&u?"["+c+"]":c}).join(a?".":""):i}function AC(t){return de.isArray(t)&&!t.some(Cx)}const LC=de.toFlatObject(de,{},null,function(i){return/^is[A-Z]/.test(i)});function mf(t,i,a){if(!de.isObject(t))throw new TypeError("target must be an object");i=i||new FormData,a=de.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,O){return!de.isUndefined(O[k])});const o=a.metaTokens,c=a.visitor||b,u=a.dots,f=a.indexes,x=(a.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(i);if(!de.isFunction(c))throw new TypeError("visitor must be a function");function v(A){if(A===null)return"";if(de.isDate(A))return A.toISOString();if(de.isBoolean(A))return A.toString();if(!x&&de.isBlob(A))throw new Ue("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(A)||de.isTypedArray(A)?x&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function b(A,k,O){let M=A;if(A&&!O&&typeof A=="object"){if(de.endsWith(k,"{}"))k=o?k:k.slice(0,-2),A=JSON.stringify(A);else if(de.isArray(A)&&AC(A)||(de.isFileList(A)||de.endsWith(k,"[]"))&&(M=de.toArray(A)))return k=R_(k),M.forEach(function(T,D){!(de.isUndefined(T)||T===null)&&i.append(f===!0?Pb([k],D,u):f===null?k:k+"[]",v(T))}),!1}return Cx(A)?!0:(i.append(Pb(O,k,u),v(A)),!1)}const w=[],j=Object.assign(LC,{defaultVisitor:b,convertValue:v,isVisitable:Cx});function E(A,k){if(!de.isUndefined(A)){if(w.indexOf(A)!==-1)throw Error("Circular reference detected in "+k.join("."));w.push(A),de.forEach(A,function(M,B){(!(de.isUndefined(M)||M===null)&&c.call(i,M,de.isString(B)?B.trim():B,k,j))===!0&&E(M,k?k.concat(B):[B])}),w.pop()}}if(!de.isObject(t))throw new TypeError("data must be an object");return E(t),i}function Db(t){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return i[o]})}function w0(t,i){this._pairs=[],t&&mf(t,this,i)}const O_=w0.prototype;O_.append=function(i,a){this._pairs.push([i,a])};O_.toString=function(i){const a=i?function(o){return i.call(this,o,Db)}:Db;return this._pairs.map(function(c){return a(c[0])+"="+a(c[1])},"").join("&")};function MC(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function P_(t,i,a){if(!i)return t;const o=a&&a.encode||MC;de.isFunction(a)&&(a={serialize:a});const c=a&&a.serialize;let u;if(c?u=c(i,a):u=de.isURLSearchParams(i)?i.toString():new w0(i,a).toString(o),u){const f=t.indexOf("#");f!==-1&&(t=t.slice(0,f)),t+=(t.indexOf("?")===-1?"?":"&")+u}return t}class zb{constructor(){this.handlers=[]}use(i,a,o){return this.handlers.push({fulfilled:i,rejected:a,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){de.forEach(this.handlers,function(o){o!==null&&i(o)})}}const D_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},RC=typeof URLSearchParams<"u"?URLSearchParams:w0,OC=typeof FormData<"u"?FormData:null,PC=typeof Blob<"u"?Blob:null,DC={isBrowser:!0,classes:{URLSearchParams:RC,FormData:OC,Blob:PC},protocols:["http","https","file","blob","url","data"]},_0=typeof window<"u"&&typeof document<"u",kx=typeof navigator=="object"&&navigator||void 0,zC=_0&&(!kx||["ReactNative","NativeScript","NS"].indexOf(kx.product)<0),BC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",IC=_0&&window.location.href||"http://localhost",UC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_0,hasStandardBrowserEnv:zC,hasStandardBrowserWebWorkerEnv:BC,navigator:kx,origin:IC},Symbol.toStringTag,{value:"Module"})),gs={...UC,...DC};function VC(t,i){return mf(t,new gs.classes.URLSearchParams,{visitor:function(a,o,c,u){return gs.isNode&&de.isBuffer(a)?(this.append(o,a.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...i})}function HC(t){return de.matchAll(/\w+|\[(\w*)]/g,t).map(i=>i[0]==="[]"?"":i[1]||i[0])}function FC(t){const i={},a=Object.keys(t);let o;const c=a.length;let u;for(o=0;o<c;o++)u=a[o],i[u]=t[u];return i}function z_(t){function i(a,o,c,u){let f=a[u++];if(f==="__proto__")return!0;const m=Number.isFinite(+f),x=u>=a.length;return f=!f&&de.isArray(c)?c.length:f,x?(de.hasOwnProp(c,f)?c[f]=[c[f],o]:c[f]=o,!m):((!c[f]||!de.isObject(c[f]))&&(c[f]=[]),i(a,o,c[f],u)&&de.isArray(c[f])&&(c[f]=FC(c[f])),!m)}if(de.isFormData(t)&&de.isFunction(t.entries)){const a={};return de.forEachEntry(t,(o,c)=>{i(HC(o),c,a,0)}),a}return null}function ZC(t,i,a){if(de.isString(t))try{return(i||JSON.parse)(t),de.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(a||JSON.stringify)(t)}const yu={transitional:D_,adapter:["xhr","http","fetch"],transformRequest:[function(i,a){const o=a.getContentType()||"",c=o.indexOf("application/json")>-1,u=de.isObject(i);if(u&&de.isHTMLForm(i)&&(i=new FormData(i)),de.isFormData(i))return c?JSON.stringify(z_(i)):i;if(de.isArrayBuffer(i)||de.isBuffer(i)||de.isStream(i)||de.isFile(i)||de.isBlob(i)||de.isReadableStream(i))return i;if(de.isArrayBufferView(i))return i.buffer;if(de.isURLSearchParams(i))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let m;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return VC(i,this.formSerializer).toString();if((m=de.isFileList(i))||o.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return mf(m?{"files[]":i}:i,x&&new x,this.formSerializer)}}return u||c?(a.setContentType("application/json",!1),ZC(i)):i}],transformResponse:[function(i){const a=this.transitional||yu.transitional,o=a&&a.forcedJSONParsing,c=this.responseType==="json";if(de.isResponse(i)||de.isReadableStream(i))return i;if(i&&de.isString(i)&&(o&&!this.responseType||c)){const f=!(a&&a.silentJSONParsing)&&c;try{return JSON.parse(i,this.parseReviver)}catch(m){if(f)throw m.name==="SyntaxError"?Ue.from(m,Ue.ERR_BAD_RESPONSE,this,null,this.response):m}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gs.classes.FormData,Blob:gs.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],t=>{yu.headers[t]={}});const qC=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GC=t=>{const i={};let a,o,c;return t&&t.split(`
`).forEach(function(f){c=f.indexOf(":"),a=f.substring(0,c).trim().toLowerCase(),o=f.substring(c+1).trim(),!(!a||i[a]&&qC[a])&&(a==="set-cookie"?i[a]?i[a].push(o):i[a]=[o]:i[a]=i[a]?i[a]+", "+o:o)}),i},Bb=Symbol("internals");function Pc(t){return t&&String(t).trim().toLowerCase()}function _h(t){return t===!1||t==null?t:de.isArray(t)?t.map(_h):String(t)}function $C(t){const i=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=a.exec(t);)i[o[1]]=o[2];return i}const YC=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Hp(t,i,a,o,c){if(de.isFunction(o))return o.call(this,i,a);if(c&&(i=a),!!de.isString(i)){if(de.isString(o))return i.indexOf(o)!==-1;if(de.isRegExp(o))return o.test(i)}}function XC(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,a,o)=>a.toUpperCase()+o)}function KC(t,i){const a=de.toCamelCase(" "+i);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+a,{value:function(c,u,f){return this[o].call(this,i,c,u,f)},configurable:!0})})}let Fs=class{constructor(i){i&&this.set(i)}set(i,a,o){const c=this;function u(m,x,v){const b=Pc(x);if(!b)throw new Error("header name must be a non-empty string");const w=de.findKey(c,b);(!w||c[w]===void 0||v===!0||v===void 0&&c[w]!==!1)&&(c[w||x]=_h(m))}const f=(m,x)=>de.forEach(m,(v,b)=>u(v,b,x));if(de.isPlainObject(i)||i instanceof this.constructor)f(i,a);else if(de.isString(i)&&(i=i.trim())&&!YC(i))f(GC(i),a);else if(de.isObject(i)&&de.isIterable(i)){let m={},x,v;for(const b of i){if(!de.isArray(b))throw TypeError("Object iterator must return a key-value pair");m[v=b[0]]=(x=m[v])?de.isArray(x)?[...x,b[1]]:[x,b[1]]:b[1]}f(m,a)}else i!=null&&u(a,i,o);return this}get(i,a){if(i=Pc(i),i){const o=de.findKey(this,i);if(o){const c=this[o];if(!a)return c;if(a===!0)return $C(c);if(de.isFunction(a))return a.call(this,c,o);if(de.isRegExp(a))return a.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,a){if(i=Pc(i),i){const o=de.findKey(this,i);return!!(o&&this[o]!==void 0&&(!a||Hp(this,this[o],o,a)))}return!1}delete(i,a){const o=this;let c=!1;function u(f){if(f=Pc(f),f){const m=de.findKey(o,f);m&&(!a||Hp(o,o[m],m,a))&&(delete o[m],c=!0)}}return de.isArray(i)?i.forEach(u):u(i),c}clear(i){const a=Object.keys(this);let o=a.length,c=!1;for(;o--;){const u=a[o];(!i||Hp(this,this[u],u,i,!0))&&(delete this[u],c=!0)}return c}normalize(i){const a=this,o={};return de.forEach(this,(c,u)=>{const f=de.findKey(o,u);if(f){a[f]=_h(c),delete a[u];return}const m=i?XC(u):String(u).trim();m!==u&&delete a[u],a[m]=_h(c),o[m]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const a=Object.create(null);return de.forEach(this,(o,c)=>{o!=null&&o!==!1&&(a[c]=i&&de.isArray(o)?o.join(", "):o)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,a])=>i+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...a){const o=new this(i);return a.forEach(c=>o.set(c)),o}static accessor(i){const o=(this[Bb]=this[Bb]={accessors:{}}).accessors,c=this.prototype;function u(f){const m=Pc(f);o[m]||(KC(c,f),o[m]=!0)}return de.isArray(i)?i.forEach(u):u(i),this}};Fs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(Fs.prototype,({value:t},i)=>{let a=i[0].toUpperCase()+i.slice(1);return{get:()=>t,set(o){this[a]=o}}});de.freezeMethods(Fs);function Fp(t,i){const a=this||yu,o=i||a,c=Fs.from(o.headers);let u=o.data;return de.forEach(t,function(m){u=m.call(a,u,c.normalize(),i?i.status:void 0)}),c.normalize(),u}function B_(t){return!!(t&&t.__CANCEL__)}function xl(t,i,a){Ue.call(this,t??"canceled",Ue.ERR_CANCELED,i,a),this.name="CanceledError"}de.inherits(xl,Ue,{__CANCEL__:!0});function I_(t,i,a){const o=a.config.validateStatus;!a.status||!o||o(a.status)?t(a):i(new Ue("Request failed with status code "+a.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function WC(t){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return i&&i[1]||""}function QC(t,i){t=t||10;const a=new Array(t),o=new Array(t);let c=0,u=0,f;return i=i!==void 0?i:1e3,function(x){const v=Date.now(),b=o[u];f||(f=v),a[c]=x,o[c]=v;let w=u,j=0;for(;w!==c;)j+=a[w++],w=w%t;if(c=(c+1)%t,c===u&&(u=(u+1)%t),v-f<i)return;const E=b&&v-b;return E?Math.round(j*1e3/E):void 0}}function JC(t,i){let a=0,o=1e3/i,c,u;const f=(v,b=Date.now())=>{a=b,c=null,u&&(clearTimeout(u),u=null),t(...v)};return[(...v)=>{const b=Date.now(),w=b-a;w>=o?f(v,b):(c=v,u||(u=setTimeout(()=>{u=null,f(c)},o-w)))},()=>c&&f(c)]}const Fh=(t,i,a=3)=>{let o=0;const c=QC(50,250);return JC(u=>{const f=u.loaded,m=u.lengthComputable?u.total:void 0,x=f-o,v=c(x),b=f<=m;o=f;const w={loaded:f,total:m,progress:m?f/m:void 0,bytes:x,rate:v||void 0,estimated:v&&m&&b?(m-f)/v:void 0,event:u,lengthComputable:m!=null,[i?"download":"upload"]:!0};t(w)},a)},Ib=(t,i)=>{const a=t!=null;return[o=>i[0]({lengthComputable:a,total:t,loaded:o}),i[1]]},Ub=t=>(...i)=>de.asap(()=>t(...i)),e3=gs.hasStandardBrowserEnv?((t,i)=>a=>(a=new URL(a,gs.origin),t.protocol===a.protocol&&t.host===a.host&&(i||t.port===a.port)))(new URL(gs.origin),gs.navigator&&/(msie|trident)/i.test(gs.navigator.userAgent)):()=>!0,t3=gs.hasStandardBrowserEnv?{write(t,i,a,o,c,u,f){if(typeof document>"u")return;const m=[`${t}=${encodeURIComponent(i)}`];de.isNumber(a)&&m.push(`expires=${new Date(a).toUTCString()}`),de.isString(o)&&m.push(`path=${o}`),de.isString(c)&&m.push(`domain=${c}`),u===!0&&m.push("secure"),de.isString(f)&&m.push(`SameSite=${f}`),document.cookie=m.join("; ")},read(t){if(typeof document>"u")return null;const i=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return i?decodeURIComponent(i[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function s3(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function i3(t,i){return i?t.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):t}function U_(t,i,a){let o=!s3(i);return t&&(o||a==!1)?i3(t,i):i}const Vb=t=>t instanceof Fs?{...t}:t;function Xr(t,i){i=i||{};const a={};function o(v,b,w,j){return de.isPlainObject(v)&&de.isPlainObject(b)?de.merge.call({caseless:j},v,b):de.isPlainObject(b)?de.merge({},b):de.isArray(b)?b.slice():b}function c(v,b,w,j){if(de.isUndefined(b)){if(!de.isUndefined(v))return o(void 0,v,w,j)}else return o(v,b,w,j)}function u(v,b){if(!de.isUndefined(b))return o(void 0,b)}function f(v,b){if(de.isUndefined(b)){if(!de.isUndefined(v))return o(void 0,v)}else return o(void 0,b)}function m(v,b,w){if(w in i)return o(v,b);if(w in t)return o(void 0,v)}const x={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:m,headers:(v,b,w)=>c(Vb(v),Vb(b),w,!0)};return de.forEach(Object.keys({...t,...i}),function(b){const w=x[b]||c,j=w(t[b],i[b],b);de.isUndefined(j)&&w!==m||(a[b]=j)}),a}const V_=t=>{const i=Xr({},t);let{data:a,withXSRFToken:o,xsrfHeaderName:c,xsrfCookieName:u,headers:f,auth:m}=i;if(i.headers=f=Fs.from(f),i.url=P_(U_(i.baseURL,i.url,i.allowAbsoluteUrls),t.params,t.paramsSerializer),m&&f.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),de.isFormData(a)){if(gs.hasStandardBrowserEnv||gs.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(de.isFunction(a.getHeaders)){const x=a.getHeaders(),v=["content-type","content-length"];Object.entries(x).forEach(([b,w])=>{v.includes(b.toLowerCase())&&f.set(b,w)})}}if(gs.hasStandardBrowserEnv&&(o&&de.isFunction(o)&&(o=o(i)),o||o!==!1&&e3(i.url))){const x=c&&u&&t3.read(u);x&&f.set(c,x)}return i},n3=typeof XMLHttpRequest<"u",a3=n3&&function(t){return new Promise(function(a,o){const c=V_(t);let u=c.data;const f=Fs.from(c.headers).normalize();let{responseType:m,onUploadProgress:x,onDownloadProgress:v}=c,b,w,j,E,A;function k(){E&&E(),A&&A(),c.cancelToken&&c.cancelToken.unsubscribe(b),c.signal&&c.signal.removeEventListener("abort",b)}let O=new XMLHttpRequest;O.open(c.method.toUpperCase(),c.url,!0),O.timeout=c.timeout;function M(){if(!O)return;const T=Fs.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),V={data:!m||m==="text"||m==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:T,config:t,request:O};I_(function(Z){a(Z),k()},function(Z){o(Z),k()},V),O=null}"onloadend"in O?O.onloadend=M:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(M)},O.onabort=function(){O&&(o(new Ue("Request aborted",Ue.ECONNABORTED,t,O)),O=null)},O.onerror=function(D){const V=D&&D.message?D.message:"Network Error",R=new Ue(V,Ue.ERR_NETWORK,t,O);R.event=D||null,o(R),O=null},O.ontimeout=function(){let D=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const V=c.transitional||D_;c.timeoutErrorMessage&&(D=c.timeoutErrorMessage),o(new Ue(D,V.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,t,O)),O=null},u===void 0&&f.setContentType(null),"setRequestHeader"in O&&de.forEach(f.toJSON(),function(D,V){O.setRequestHeader(V,D)}),de.isUndefined(c.withCredentials)||(O.withCredentials=!!c.withCredentials),m&&m!=="json"&&(O.responseType=c.responseType),v&&([j,A]=Fh(v,!0),O.addEventListener("progress",j)),x&&O.upload&&([w,E]=Fh(x),O.upload.addEventListener("progress",w),O.upload.addEventListener("loadend",E)),(c.cancelToken||c.signal)&&(b=T=>{O&&(o(!T||T.type?new xl(null,t,O):T),O.abort(),O=null)},c.cancelToken&&c.cancelToken.subscribe(b),c.signal&&(c.signal.aborted?b():c.signal.addEventListener("abort",b)));const B=WC(c.url);if(B&&gs.protocols.indexOf(B)===-1){o(new Ue("Unsupported protocol "+B+":",Ue.ERR_BAD_REQUEST,t));return}O.send(u||null)})},r3=(t,i)=>{const{length:a}=t=t?t.filter(Boolean):[];if(i||a){let o=new AbortController,c;const u=function(v){if(!c){c=!0,m();const b=v instanceof Error?v:this.reason;o.abort(b instanceof Ue?b:new xl(b instanceof Error?b.message:b))}};let f=i&&setTimeout(()=>{f=null,u(new Ue(`timeout ${i} of ms exceeded`,Ue.ETIMEDOUT))},i);const m=()=>{t&&(f&&clearTimeout(f),f=null,t.forEach(v=>{v.unsubscribe?v.unsubscribe(u):v.removeEventListener("abort",u)}),t=null)};t.forEach(v=>v.addEventListener("abort",u));const{signal:x}=o;return x.unsubscribe=()=>de.asap(m),x}},o3=function*(t,i){let a=t.byteLength;if(a<i){yield t;return}let o=0,c;for(;o<a;)c=o+i,yield t.slice(o,c),o=c},l3=async function*(t,i){for await(const a of c3(t))yield*o3(a,i)},c3=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const i=t.getReader();try{for(;;){const{done:a,value:o}=await i.read();if(a)break;yield o}}finally{await i.cancel()}},Hb=(t,i,a,o)=>{const c=l3(t,i);let u=0,f,m=x=>{f||(f=!0,o&&o(x))};return new ReadableStream({async pull(x){try{const{done:v,value:b}=await c.next();if(v){m(),x.close();return}let w=b.byteLength;if(a){let j=u+=w;a(j)}x.enqueue(new Uint8Array(b))}catch(v){throw m(v),v}},cancel(x){return m(x),c.return()}},{highWaterMark:2})},Fb=64*1024,{isFunction:eh}=de,u3=(({Request:t,Response:i})=>({Request:t,Response:i}))(de.global),{ReadableStream:Zb,TextEncoder:qb}=de.global,Gb=(t,...i)=>{try{return!!t(...i)}catch{return!1}},d3=t=>{t=de.merge.call({skipUndefined:!0},u3,t);const{fetch:i,Request:a,Response:o}=t,c=i?eh(i):typeof fetch=="function",u=eh(a),f=eh(o);if(!c)return!1;const m=c&&eh(Zb),x=c&&(typeof qb=="function"?(A=>k=>A.encode(k))(new qb):async A=>new Uint8Array(await new a(A).arrayBuffer())),v=u&&m&&Gb(()=>{let A=!1;const k=new a(gs.origin,{body:new Zb,method:"POST",get duplex(){return A=!0,"half"}}).headers.has("Content-Type");return A&&!k}),b=f&&m&&Gb(()=>de.isReadableStream(new o("").body)),w={stream:b&&(A=>A.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(A=>{!w[A]&&(w[A]=(k,O)=>{let M=k&&k[A];if(M)return M.call(k);throw new Ue(`Response type '${A}' is not supported`,Ue.ERR_NOT_SUPPORT,O)})});const j=async A=>{if(A==null)return 0;if(de.isBlob(A))return A.size;if(de.isSpecCompliantForm(A))return(await new a(gs.origin,{method:"POST",body:A}).arrayBuffer()).byteLength;if(de.isArrayBufferView(A)||de.isArrayBuffer(A))return A.byteLength;if(de.isURLSearchParams(A)&&(A=A+""),de.isString(A))return(await x(A)).byteLength},E=async(A,k)=>{const O=de.toFiniteNumber(A.getContentLength());return O??j(k)};return async A=>{let{url:k,method:O,data:M,signal:B,cancelToken:T,timeout:D,onDownloadProgress:V,onUploadProgress:R,responseType:Z,headers:H,withCredentials:G="same-origin",fetchOptions:ee}=V_(A),Y=i||fetch;Z=Z?(Z+"").toLowerCase():"text";let K=r3([B,T&&T.toAbortSignal()],D),le=null;const F=K&&K.unsubscribe&&(()=>{K.unsubscribe()});let ve;try{if(R&&v&&O!=="get"&&O!=="head"&&(ve=await E(H,M))!==0){let I=new a(k,{method:"POST",body:M,duplex:"half"}),$;if(de.isFormData(M)&&($=I.headers.get("content-type"))&&H.setContentType($),I.body){const[W,fe]=Ib(ve,Fh(Ub(R)));M=Hb(I.body,Fb,W,fe)}}de.isString(G)||(G=G?"include":"omit");const U=u&&"credentials"in a.prototype,ne={...ee,signal:K,method:O.toUpperCase(),headers:H.normalize().toJSON(),body:M,duplex:"half",credentials:U?G:void 0};le=u&&new a(k,ne);let J=await(u?Y(le,ee):Y(k,ne));const ae=b&&(Z==="stream"||Z==="response");if(b&&(V||ae&&F)){const I={};["status","statusText","headers"].forEach(be=>{I[be]=J[be]});const $=de.toFiniteNumber(J.headers.get("content-length")),[W,fe]=V&&Ib($,Fh(Ub(V),!0))||[];J=new o(Hb(J.body,Fb,W,()=>{fe&&fe(),F&&F()}),I)}Z=Z||"text";let te=await w[de.findKey(w,Z)||"text"](J,A);return!ae&&F&&F(),await new Promise((I,$)=>{I_(I,$,{data:te,headers:Fs.from(J.headers),status:J.status,statusText:J.statusText,config:A,request:le})})}catch(U){throw F&&F(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,A,le),{cause:U.cause||U}):Ue.from(U,U&&U.code,A,le)}}},h3=new Map,H_=t=>{let i=t&&t.env||{};const{fetch:a,Request:o,Response:c}=i,u=[o,c,a];let f=u.length,m=f,x,v,b=h3;for(;m--;)x=u[m],v=b.get(x),v===void 0&&b.set(x,v=m?new Map:d3(i)),b=v;return v};H_();const j0={http:EC,xhr:a3,fetch:{get:H_}};de.forEach(j0,(t,i)=>{if(t){try{Object.defineProperty(t,"name",{value:i})}catch{}Object.defineProperty(t,"adapterName",{value:i})}});const $b=t=>`- ${t}`,f3=t=>de.isFunction(t)||t===null||t===!1;function m3(t,i){t=de.isArray(t)?t:[t];const{length:a}=t;let o,c;const u={};for(let f=0;f<a;f++){o=t[f];let m;if(c=o,!f3(o)&&(c=j0[(m=String(o)).toLowerCase()],c===void 0))throw new Ue(`Unknown adapter '${m}'`);if(c&&(de.isFunction(c)||(c=c.get(i))))break;u[m||"#"+f]=c}if(!c){const f=Object.entries(u).map(([x,v])=>`adapter ${x} `+(v===!1?"is not supported by the environment":"is not available in the build"));let m=a?f.length>1?`since :
`+f.map($b).join(`
`):" "+$b(f[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return c}const F_={getAdapter:m3,adapters:j0};function Zp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xl(null,t)}function Yb(t){return Zp(t),t.headers=Fs.from(t.headers),t.data=Fp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),F_.getAdapter(t.adapter||yu.adapter,t)(t).then(function(o){return Zp(t),o.data=Fp.call(t,t.transformResponse,o),o.headers=Fs.from(o.headers),o},function(o){return B_(o)||(Zp(t),o&&o.response&&(o.response.data=Fp.call(t,t.transformResponse,o.response),o.response.headers=Fs.from(o.response.headers))),Promise.reject(o)})}const Z_="1.13.2",pf={};["object","boolean","number","function","string","symbol"].forEach((t,i)=>{pf[t]=function(o){return typeof o===t||"a"+(i<1?"n ":" ")+t}});const Xb={};pf.transitional=function(i,a,o){function c(u,f){return"[Axios v"+Z_+"] Transitional option '"+u+"'"+f+(o?". "+o:"")}return(u,f,m)=>{if(i===!1)throw new Ue(c(f," has been removed"+(a?" in "+a:"")),Ue.ERR_DEPRECATED);return a&&!Xb[f]&&(Xb[f]=!0,console.warn(c(f," has been deprecated since v"+a+" and will be removed in the near future"))),i?i(u,f,m):!0}};pf.spelling=function(i){return(a,o)=>(console.warn(`${o} is likely a misspelling of ${i}`),!0)};function p3(t,i,a){if(typeof t!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let c=o.length;for(;c-- >0;){const u=o[c],f=i[u];if(f){const m=t[u],x=m===void 0||f(m,u,t);if(x!==!0)throw new Ue("option "+u+" must be "+x,Ue.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Ue("Unknown option "+u,Ue.ERR_BAD_OPTION)}}const jh={assertOptions:p3,validators:pf},cn=jh.validators;let qr=class{constructor(i){this.defaults=i||{},this.interceptors={request:new zb,response:new zb}}async request(i,a){try{return await this._request(i,a)}catch(o){if(o instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const u=c.stack?c.stack.replace(/^.+\n/,""):"";try{o.stack?u&&!String(o.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+u):o.stack=u}catch{}}throw o}}_request(i,a){typeof i=="string"?(a=a||{},a.url=i):a=i||{},a=Xr(this.defaults,a);const{transitional:o,paramsSerializer:c,headers:u}=a;o!==void 0&&jh.assertOptions(o,{silentJSONParsing:cn.transitional(cn.boolean),forcedJSONParsing:cn.transitional(cn.boolean),clarifyTimeoutError:cn.transitional(cn.boolean)},!1),c!=null&&(de.isFunction(c)?a.paramsSerializer={serialize:c}:jh.assertOptions(c,{encode:cn.function,serialize:cn.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),jh.assertOptions(a,{baseUrl:cn.spelling("baseURL"),withXsrfToken:cn.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let f=u&&de.merge(u.common,u[a.method]);u&&de.forEach(["delete","get","head","post","put","patch","common"],A=>{delete u[A]}),a.headers=Fs.concat(f,u);const m=[];let x=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(a)===!1||(x=x&&k.synchronous,m.unshift(k.fulfilled,k.rejected))});const v=[];this.interceptors.response.forEach(function(k){v.push(k.fulfilled,k.rejected)});let b,w=0,j;if(!x){const A=[Yb.bind(this),void 0];for(A.unshift(...m),A.push(...v),j=A.length,b=Promise.resolve(a);w<j;)b=b.then(A[w++],A[w++]);return b}j=m.length;let E=a;for(;w<j;){const A=m[w++],k=m[w++];try{E=A(E)}catch(O){k.call(this,O);break}}try{b=Yb.call(this,E)}catch(A){return Promise.reject(A)}for(w=0,j=v.length;w<j;)b=b.then(v[w++],v[w++]);return b}getUri(i){i=Xr(this.defaults,i);const a=U_(i.baseURL,i.url,i.allowAbsoluteUrls);return P_(a,i.params,i.paramsSerializer)}};de.forEach(["delete","get","head","options"],function(i){qr.prototype[i]=function(a,o){return this.request(Xr(o||{},{method:i,url:a,data:(o||{}).data}))}});de.forEach(["post","put","patch"],function(i){function a(o){return function(u,f,m){return this.request(Xr(m||{},{method:i,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:f}))}}qr.prototype[i]=a(),qr.prototype[i+"Form"]=a(!0)});let x3=class q_{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(u){a=u});const o=this;this.promise.then(c=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](c);o._listeners=null}),this.promise.then=c=>{let u;const f=new Promise(m=>{o.subscribe(m),u=m}).then(c);return f.cancel=function(){o.unsubscribe(u)},f},i(function(u,f,m){o.reason||(o.reason=new xl(u,f,m),a(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const a=this._listeners.indexOf(i);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const i=new AbortController,a=o=>{i.abort(o)};return this.subscribe(a),i.signal.unsubscribe=()=>this.unsubscribe(a),i.signal}static source(){let i;return{token:new q_(function(c){i=c}),cancel:i}}};function g3(t){return function(a){return t.apply(null,a)}}function v3(t){return de.isObject(t)&&t.isAxiosError===!0}const Tx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Tx).forEach(([t,i])=>{Tx[i]=t});function G_(t){const i=new qr(t),a=j_(qr.prototype.request,i);return de.extend(a,qr.prototype,i,{allOwnKeys:!0}),de.extend(a,i,null,{allOwnKeys:!0}),a.create=function(c){return G_(Xr(t,c))},a}const zt=G_(yu);zt.Axios=qr;zt.CanceledError=xl;zt.CancelToken=x3;zt.isCancel=B_;zt.VERSION=Z_;zt.toFormData=mf;zt.AxiosError=Ue;zt.Cancel=zt.CanceledError;zt.all=function(i){return Promise.all(i)};zt.spread=g3;zt.isAxiosError=v3;zt.mergeConfig=Xr;zt.AxiosHeaders=Fs;zt.formToJSON=t=>z_(de.isHTMLForm(t)?new FormData(t):t);zt.getAdapter=F_.getAdapter;zt.HttpStatusCode=Tx;zt.default=zt;const{Axios:p8,AxiosError:x8,CanceledError:g8,isCancel:v8,CancelToken:y8,VERSION:b8,all:w8,Cancel:_8,isAxiosError:j8,spread:N8,toFormData:S8,AxiosHeaders:C8,HttpStatusCode:k8,formToJSON:T8,getAdapter:E8,mergeConfig:A8}=zt,$_="http://localhost:3000/api";console.log(" [AuthService] API Base URL:",$_);const dn=zt.create({baseURL:`${$_}/auth`,withCredentials:!0,headers:{"Content-Type":"application/json"}});dn.interceptors.request.use(t=>(console.log(` [API Request] ${t.method?.toUpperCase()} ${t.url}`,t.data||""),t),t=>(console.error(" [API Request Error]",t),Promise.reject(t)));dn.interceptors.response.use(t=>(console.log(` [API Response] ${t.status}`,t.data),t),t=>{const i=t.response?.data?.message||t.message||"Something went wrong",a=new Error(i);throw a.status=t.response?.status,console.error(" [API Error]",{status:a.status,message:a.message,data:t.response?.data}),a});class y3{async login(i,a){console.log(" [AuthService] Login attempt for:",i);const{data:o}=await dn.post("/login",{email:i,password:a});return console.log(" [AuthService] Login successful:",o.data),o.data}async signup(i,a,o,c){console.log(" [AuthService] Signup attempt:",{username:i,email:a,role:c});const{data:u}=await dn.post("/signup",{username:i,email:a,password:o,role:c});return console.log(" [AuthService] Signup successful:",u.data),u.data}async googleAuth(i,a){console.log(" [AuthService] Google Auth attempt for role:",a);const{data:o}=await dn.post("/google",{credential:i,role:a});return console.log(" [AuthService] Google Auth successful:",o.data),o.data}async checkAuth(){console.log(" [AuthService] Checking authentication...");try{const{data:i}=await dn.get("/check");return console.log(" [AuthService] Auth check result:",i.data),i.data}catch(i){return console.error(" [AuthService] Auth check error:",i),{authenticated:!1,user:null}}}async getCurrentUser(){console.log(" [AuthService] Getting current user...");const{data:i}=await dn.get("/me");return console.log(" [AuthService] Current user:",i.data),i.data}async logout(){console.log(" [AuthService] Logging out...");try{await dn.post("/logout"),console.log(" [AuthService] Logout successful")}catch(i){console.error(" [AuthService] Logout error:",i)}}async forgotPassword(i){console.log(" [AuthService] Forgot password request for:",i);const{data:a}=await dn.post("/forgot-password",{email:i});return console.log(" [AuthService] Forgot password response:",a.message),a}async resetPassword(i,a){console.log(" [AuthService] Reset password request");const{data:o}=await dn.post("/reset-password",{token:i,newPassword:a});return console.log(" [AuthService] Reset password response:",o.message),o}}const Ia=new y3,Y_=N.createContext(null),b3=({children:t})=>{const[i,a]=N.useState(null),[o,c]=N.useState(!0),[u,f]=N.useState(null),m=N.useCallback(async()=>{console.log(" [AuthContext] Checking authentication on mount...");try{const A=await Ia.checkAuth();console.log(" [AuthContext] Auth check result:",A),A.authenticated&&A.user?(console.log(" [AuthContext] User is authenticated:",A.user),a(A.user)):(console.log(" [AuthContext] User is NOT authenticated"),a(null))}catch(A){console.error(" [AuthContext] Auth check failed:",A),a(null)}finally{c(!1)}},[]);N.useEffect(()=>{m()},[m]);const E={user:i,loading:o,error:u,login:async(A,k)=>{console.log(" [AuthContext] Login called for:",A);try{f(null);const O=await Ia.login(A,k);return console.log(" [AuthContext] Login response data:",O),a(O.user),console.log(" [AuthContext] User set after login:",O.user),{success:!0,user:O.user}}catch(O){return console.error(" [AuthContext] Login error:",O.message),f(O.message||"Login failed"),{success:!1,error:O.message}}},signup:async(A,k,O,M)=>{console.log(" [AuthContext] Signup called:",{username:A,email:k,role:M});try{f(null);const B=await Ia.signup(A,k,O,M);return console.log(" [AuthContext] Signup response data:",B),a(B.user),console.log(" [AuthContext] User set after signup:",B.user),{success:!0,user:B.user}}catch(B){return console.error(" [AuthContext] Signup error:",B.message),f(B.message||"Signup failed"),{success:!1,error:B.message}}},googleAuth:async(A,k)=>{console.log(" [AuthContext] Google Auth called for role:",k);try{f(null);const O=await Ia.googleAuth(A,k);return console.log(" [AuthContext] Google Auth response data:",O),a(O.user),console.log(" [AuthContext] User set after Google Auth:",O.user),{success:!0,user:O.user}}catch(O){return console.error(" [AuthContext] Google Auth error:",O.message),f(O.message||"Google authentication failed"),{success:!1,error:O.message}}},logout:async()=>{console.log(" [AuthContext] Logout called");try{await Ia.logout(),console.log(" [AuthContext] Logout successful")}catch(A){console.error(" [AuthContext] Logout error:",A)}finally{a(null),console.log(" [AuthContext] User cleared")}},refreshUser:async()=>{console.log(" [AuthContext] Refreshing user data...");try{const A=await Ia.getCurrentUser();a(A),console.log(" [AuthContext] User refreshed:",A)}catch(A){console.error(" [AuthContext] Failed to refresh user:",A)}},isAuthenticated:!!i};return console.log(" [AuthContext] Current state:",{user:i,loading:o,isAuthenticated:!!i}),e.jsx(Y_.Provider,{value:E,children:t})},$t=()=>{const t=N.useContext(Y_);if(!t)throw new Error("useAuth must be used within AuthProvider");return t};function th({children:t,allowedRoles:i}){const{user:a,loading:o}=$t();return o?e.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block h-12 w-12 animate-spin rounded-full border-4 border-solid border-rose-500 border-r-transparent"}),e.jsx("p",{className:"mt-4 text-white/60",children:"Loading..."})]})}):a?i&&!i.includes(a.role)?e.jsx(wx,{to:"/unauthorized",replace:!0}):t:e.jsx(wx,{to:"/login",replace:!0})}const w3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_3=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,a,o)=>o?o.toUpperCase():a.toLowerCase()),Kb=t=>{const i=_3(t);return i.charAt(0).toUpperCase()+i.slice(1)},X_=(...t)=>t.filter((i,a,o)=>!!i&&i.trim()!==""&&o.indexOf(i)===a).join(" ").trim(),j3=t=>{for(const i in t)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};var N3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const S3=N.forwardRef(({color:t="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:c="",children:u,iconNode:f,...m},x)=>N.createElement("svg",{ref:x,...N3,width:i,height:i,stroke:t,strokeWidth:o?Number(a)*24/Number(i):a,className:X_("lucide",c),...!u&&!j3(m)&&{"aria-hidden":"true"},...m},[...f.map(([v,b])=>N.createElement(v,b)),...Array.isArray(u)?u:[u]]));const ye=(t,i)=>{const a=N.forwardRef(({className:o,...c},u)=>N.createElement(S3,{ref:u,iconNode:i,className:X_(`lucide-${w3(Kb(t))}`,`lucide-${t}`,o),...c}));return a.displayName=Kb(t),a};const C3=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],iu=ye("activity",C3);const k3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Yn=ye("arrow-left",k3);const T3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Bi=ye("arrow-right",T3);const E3=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],A3=ye("arrow-up-right",E3);const L3=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Zh=ye("award",L3);const M3=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],R3=ye("bell-ring",M3);const O3=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ii=ye("bell",O3);const P3=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],xf=ye("building-2",P3);const D3=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],Nh=ye("bus",D3);const z3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bi=ye("calendar",z3);const B3=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Kr=ye("camera",B3);const I3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],gf=ye("chart-column",I3);const U3=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],K_=ye("chart-pie",U3);const V3=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Ex=ye("check-check",V3);const H3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Va=ye("check",H3);const F3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ol=ye("chevron-down",F3);const Z3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],q3=ye("chevron-left",Z3);const G3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ll=ye("chevron-right",G3);const $3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Y3=ye("chevron-up",$3);const X3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bs=ye("circle-alert",X3);const K3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nu=ye("circle-check-big",K3);const W3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Be=ye("circle-check",W3);const Q3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qh=ye("circle-question-mark",Q3);const J3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Zs=ye("circle-x",J3);const ek=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Ha=ye("clipboard-check",ek);const tk=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],W_=ye("clipboard-list",tk);const sk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ot=ye("clock",sk);const ik=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],Sh=ye("construction",ik);const nk=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],ak=ye("cpu",nk);const rk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Wb=ye("credit-card",rk);const ok=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],N0=ye("download",ok);const lk=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Ch=ye("droplets",lk);const ck=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Q_=ye("ellipsis-vertical",ck);const uk=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],vf=ye("external-link",uk);const dk=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],au=ye("eye-off",dk);const hk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fa=ye("eye",hk);const fk=[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]],mk=ye("file-pen",fk);const pk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wi=ye("file-text",pk);const xk=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],yf=ye("funnel",xk);const gk=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],vk=ye("github",gk);const yk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],bk=ye("globe",yk);const wk=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ax=ye("graduation-cap",wk);const _k=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],J_=ye("grid-3x3",_k);const jk=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],S0=ye("hash",jk);const Nk=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],kh=ye("heart-pulse",Nk);const Sk=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Ck=ye("heart",Sk);const kk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Tk=ye("history",kk);const Ek=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],C0=ye("house",Ek);const Ak=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],k0=ye("image",Ak);const Lk=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],ej=ye("inbox",Lk);const Mk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Rk=ye("info",Mk);const Ok=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Pk=ye("instagram",Ok);const Dk=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Lx=ye("layers",Dk);const zk=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qp=ye("layout-dashboard",zk);const Bk=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],tj=ye("link",Bk);const Ik=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],Uk=ye("linkedin",Ik);const Vk=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],Hk=ye("list-checks",Vk);const Fk=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],sj=ye("list",Fk);const Zk=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Pe=ye("loader-circle",Zk);const qk=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Gh=ye("lock",qk);const Gk=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$k=ye("log-out",Gk);const Yk=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],gl=ye("mail",Yk);const Xk=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Je=ye("map-pin",Xk);const Kk=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Xc=ye("map",Kk);const Wk=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],ij=ye("maximize-2",Wk);const Qk=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],nj=ye("menu",Qk);const Jk=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],$h=ye("message-circle",Jk);const eT=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],vs=ye("message-square",eT);const tT=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],aj=ye("moon",tT);const sT=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],rj=ye("navigation",sT);const iT=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],T0=ye("package",iT);const nT=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],bf=ye("phone",nT);const aT=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],Qb=ye("pin",aT);const rT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cl=ye("plus",rT);const oT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ui=ye("refresh-cw",oT);const lT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cT=ye("save",lT);const uT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Za=ye("search",uT);const dT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ru=ye("send",dT);const hT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Th=ye("settings",hT);const fT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],mT=ye("share-2",fT);const pT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xT=ye("shield-check",pT);const gT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],qa=ye("shield",gT);const vT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],yT=ye("smile",vT);const bT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],E0=ye("sparkles",bT);const wT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],_T=ye("square-pen",wT);const jT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],NT=ye("star",jT);const ST=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],oj=ye("sun",ST);const CT=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],kT=ye("tag",CT);const TT=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],Mx=ye("thumbs-down",TT);const ET=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],Kn=ye("thumbs-up",ET);const AT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],wf=ye("trash-2",AT);const LT=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Rx=ye("trash",LT);const MT=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],Ox=ye("tree-pine",MT);const RT=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],ou=ye("trending-down",RT);const OT=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],si=ye("trending-up",OT);const PT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vt=ye("triangle-alert",PT);const DT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],zT=ye("trophy",DT);const BT=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],IT=ye("twitter",BT);const UT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Yh=ye("upload",UT);const VT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],HT=ye("user-plus",VT);const FT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vi=ye("user",FT);const ZT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],os=ye("users",ZT);const qT=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Xh=ye("video",qT);const GT=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],_f=ye("wrench",GT);const $T=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ls=ye("x",$T);const YT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Wn=ye("zap",YT);const XT=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],KT=ye("zoom-in",XT);const WT=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],QT=ye("zoom-out",WT);function pn({size:t="default",showText:i=!0}){const a={small:"h-8",default:"h-10",large:"h-14"},o={small:"text-sm",default:"text-base",large:"text-lg"};return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`relative ${a[t]}`,children:e.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-full w-auto",children:[e.jsx("polygon",{points:"30,5 70,5 95,30 95,70 70,95 30,95 5,70 5,30",fill:"none",stroke:"white",strokeWidth:"4"}),e.jsx("polygon",{points:"35,18 65,18 82,35 82,65 65,82 35,82 18,65 18,35",fill:"none",stroke:"white",strokeWidth:"3"})]})}),i&&e.jsx("span",{className:`${o[t]} font-bold tracking-widest text-white uppercase`,style:{fontFamily:"'Inter', sans-serif",letterSpacing:"0.15em"},children:"CITIZEN VOICE"})]})}function JT(){const t=[92,84,78,70,62,54,46,34,18,34,46,54,62,70,78,84,92],[i,a]=N.useState(!1);return N.useEffect(()=>{const o=setTimeout(()=>a(!0),100);return()=>clearTimeout(o)},[]),e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(20px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }

          @keyframes subtlePulse {
            0%, 100% {
              opacity: 0.8;
              transform: scale(1);
            }
            50% {
              opacity: 1;
              transform: scale(1.03);
            }
          }

          @keyframes float {
            0%, 100% {
              transform: translateY(0px);
            }
            50% {
              transform: translateY(-10px);
            }
          }
          
          .animate-fadeInUp {
            animation: fadeInUp 0.8s ease-out forwards;
          }

          .animate-float {
            animation: float 3s ease-in-out infinite;
          }
        `}),e.jsxs("section",{className:"relative isolate min-h-screen overflow-hidden bg-[#0a0a0a] text-white pt-24",children:[e.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 -z-30",style:{backgroundImage:["radial-gradient(80% 55% at 50% 52%, rgba(244,63,94,0.45) 0%, rgba(236,72,153,0.46) 27%, rgba(139,92,246,0.38) 47%, rgba(99,102,241,0.45) 60%, rgba(8,12,12,0.92) 78%, rgba(10,10,10,1) 88%)","radial-gradient(85% 60% at 14% 0%, rgba(251,113,133,0.55) 0%, rgba(244,63,94,0.48) 30%, rgba(48,28,24,0.0) 64%)","radial-gradient(70% 50% at 86% 22%, rgba(139,92,246,0.40) 0%, rgba(16,28,28,0.0) 55%)","linear-gradient(to bottom, rgba(0,0,0,0.25), rgba(0,0,0,0) 40%)"].join(","),backgroundColor:"#0a0a0a"}}),e.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 -z-20 bg-[radial-gradient(140%_120%_at_50%_0%,transparent_60%,rgba(10,10,10,0.85))]"}),e.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 mix-blend-screen opacity-20",style:{backgroundImage:["repeating-linear-gradient(90deg, rgba(244,63,94,0.09) 0 1px, transparent 1px 96px)","repeating-linear-gradient(90deg, rgba(255,255,255,0.03) 0 1px, transparent 1px 24px)","repeating-radial-gradient(80% 55% at 50% 52%, rgba(139,92,246,0.06) 0 1px, transparent 1px 120px)"].join(","),backgroundBlendMode:"screen"}}),e.jsx("div",{className:"relative z-10 mx-auto grid w-full max-w-5xl place-items-center px-6 py-16 md:py-24 lg:py-28",children:e.jsxs("div",{className:`mx-auto text-center ${i?"animate-fadeInUp":"opacity-0"}`,children:[e.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/5 px-4 py-1.5 text-[11px] uppercase tracking-wider text-white/70 ring-1 ring-white/10 backdrop-blur",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-rose-500 animate-pulse"}),"Civic Tech Platform"]}),e.jsxs("h1",{style:{animationDelay:"200ms"},className:`mt-8 text-4xl md:text-6xl lg:text-7xl font-display font-bold tracking-tight ${i?"animate-fadeInUp":"opacity-0"}`,children:["Your Voice,"," ",e.jsx("span",{className:"bg-gradient-to-r from-rose-500 via-pink-500 to-violet-500 bg-clip-text text-transparent",children:"Your City"}),e.jsx("br",{}),e.jsx("span",{className:"text-white/90",children:"Transformed"})]}),e.jsx("p",{style:{animationDelay:"300ms"},className:`mx-auto mt-6 max-w-2xl text-balance text-white/70 md:text-lg lg:text-xl leading-relaxed ${i?"animate-fadeInUp":"opacity-0"}`,children:"Report civic issues in seconds with AI-powered routing. Track resolutions in real-time. Build transparent, accountable communities together."}),e.jsx("div",{style:{animationDelay:"400ms"},className:`mt-10 flex flex-col items-center justify-center gap-4 sm:flex-row ${i?"animate-fadeInUp":"opacity-0"}`,children:e.jsxs(St,{to:"/signup",className:"inline-flex items-center gap-2 rounded-full bg-white px-6 py-3 text-sm font-semibold text-black shadow-lg shadow-white/20 transition-all hover:scale-105 hover:shadow-white/30",children:[e.jsx(Kr,{className:"h-5 w-5"}),"Report an Issue",e.jsx(Bi,{className:"h-4 w-4"})]})})]})}),e.jsx("div",{className:"pointer-events-none absolute bottom-[128px] left-1/2 z-0 h-36 w-28 -translate-x-1/2 rounded-md bg-gradient-to-b from-rose-500/75 via-violet-500/40 to-transparent",style:{animation:"subtlePulse 6s ease-in-out infinite"}}),e.jsxs("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 z-0 h-[54vh]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0a0a0a] via-[#0a0a0a]/90 to-transparent"}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 flex h-full items-end gap-px px-[2px]",children:t.map((o,c)=>e.jsx("div",{className:"flex-1 bg-[#0a0a0a] relative overflow-hidden",style:{height:i?`${o}%`:"0%",transition:"height 1s ease-in-out",transitionDelay:`${Math.abs(c-Math.floor(t.length/2))*60}ms`},children:e.jsx("div",{className:"absolute inset-0 opacity-40",children:[...Array(Math.floor(o/15))].map((u,f)=>e.jsx("div",{className:"absolute w-1 h-1 bg-rose-500/60 rounded-full",style:{left:`${30+Math.random()*40}%`,top:`${10+f*15}%`,opacity:Math.random()>.5?.6:.2}},f))})},c))})]}),e.jsx("div",{className:"absolute top-1/4 left-10 hidden lg:block animate-float",style:{animationDelay:"0s"},children:e.jsx("div",{className:"h-14 w-14 rounded-2xl bg-gradient-to-br from-rose-500/20 to-pink-500/20 backdrop-blur-sm border border-rose-500/30 flex items-center justify-center shadow-lg shadow-rose-500/10",children:e.jsx(Kr,{className:"h-7 w-7 text-rose-500"})})}),e.jsx("div",{className:"absolute top-1/3 right-16 hidden lg:block animate-float",style:{animationDelay:"1s"},children:e.jsx("div",{className:"h-16 w-16 rounded-2xl bg-gradient-to-br from-violet-500/20 to-indigo-500/20 backdrop-blur-sm border border-violet-500/30 flex items-center justify-center shadow-lg shadow-violet-500/10",children:e.jsx(Je,{className:"h-8 w-8 text-violet-500"})})})]})]})}function lj(t){var i,a,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var c=t.length;for(i=0;i<c;i++)t[i]&&(a=lj(t[i]))&&(o&&(o+=" "),o+=a)}else for(a in t)t[a]&&(o&&(o+=" "),o+=a);return o}function cj(){for(var t,i,a=0,o="",c=arguments.length;a<c;a++)(t=arguments[a])&&(i=lj(t))&&(o&&(o+=" "),o+=i);return o}const Jb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ew=cj,A0=(t,i)=>a=>{var o;if(i?.variants==null)return ew(t,a?.class,a?.className);const{variants:c,defaultVariants:u}=i,f=Object.keys(c).map(v=>{const b=a?.[v],w=u?.[v];if(b===null)return null;const j=Jb(b)||Jb(w);return c[v][j]}),m=a&&Object.entries(a).reduce((v,b)=>{let[w,j]=b;return j===void 0||(v[w]=j),v},{}),x=i==null||(o=i.compoundVariants)===null||o===void 0?void 0:o.reduce((v,b)=>{let{class:w,className:j,...E}=b;return Object.entries(E).every(A=>{let[k,O]=A;return Array.isArray(O)?O.includes({...u,...m}[k]):{...u,...m}[k]===O})?[...v,w,j]:v},[]);return ew(t,f,x,a?.class,a?.className)},eE=(t,i)=>{const a=new Array(t.length+i.length);for(let o=0;o<t.length;o++)a[o]=t[o];for(let o=0;o<i.length;o++)a[t.length+o]=i[o];return a},tE=(t,i)=>({classGroupId:t,validator:i}),uj=(t=new Map,i=null,a)=>({nextPart:t,validators:i,classGroupId:a}),Kh="-",tw=[],sE="arbitrary..",iE=t=>{const i=aE(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:f=>{if(f.startsWith("[")&&f.endsWith("]"))return nE(f);const m=f.split(Kh),x=m[0]===""&&m.length>1?1:0;return dj(m,x,i)},getConflictingClassGroupIds:(f,m)=>{if(m){const x=o[f],v=a[f];return x?v?eE(v,x):x:v||tw}return a[f]||tw}}},dj=(t,i,a)=>{if(t.length-i===0)return a.classGroupId;const c=t[i],u=a.nextPart.get(c);if(u){const v=dj(t,i+1,u);if(v)return v}const f=a.validators;if(f===null)return;const m=i===0?t.join(Kh):t.slice(i).join(Kh),x=f.length;for(let v=0;v<x;v++){const b=f[v];if(b.validator(m))return b.classGroupId}},nE=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const i=t.slice(1,-1),a=i.indexOf(":"),o=i.slice(0,a);return o?sE+o:void 0})(),aE=t=>{const{theme:i,classGroups:a}=t;return rE(a,i)},rE=(t,i)=>{const a=uj();for(const o in t){const c=t[o];L0(c,a,o,i)}return a},L0=(t,i,a,o)=>{const c=t.length;for(let u=0;u<c;u++){const f=t[u];oE(f,i,a,o)}},oE=(t,i,a,o)=>{if(typeof t=="string"){lE(t,i,a);return}if(typeof t=="function"){cE(t,i,a,o);return}uE(t,i,a,o)},lE=(t,i,a)=>{const o=t===""?i:hj(i,t);o.classGroupId=a},cE=(t,i,a,o)=>{if(dE(t)){L0(t(o),i,a,o);return}i.validators===null&&(i.validators=[]),i.validators.push(tE(a,t))},uE=(t,i,a,o)=>{const c=Object.entries(t),u=c.length;for(let f=0;f<u;f++){const[m,x]=c[f];L0(x,hj(i,m),a,o)}},hj=(t,i)=>{let a=t;const o=i.split(Kh),c=o.length;for(let u=0;u<c;u++){const f=o[u];let m=a.nextPart.get(f);m||(m=uj(),a.nextPart.set(f,m)),a=m}return a},dE=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,hE=t=>{if(t<1)return{get:()=>{},set:()=>{}};let i=0,a=Object.create(null),o=Object.create(null);const c=(u,f)=>{a[u]=f,i++,i>t&&(i=0,o=a,a=Object.create(null))};return{get(u){let f=a[u];if(f!==void 0)return f;if((f=o[u])!==void 0)return c(u,f),f},set(u,f){u in a?a[u]=f:c(u,f)}}},Px="!",sw=":",fE=[],iw=(t,i,a,o,c)=>({modifiers:t,hasImportantModifier:i,baseClassName:a,maybePostfixModifierPosition:o,isExternal:c}),mE=t=>{const{prefix:i,experimentalParseClassName:a}=t;let o=c=>{const u=[];let f=0,m=0,x=0,v;const b=c.length;for(let k=0;k<b;k++){const O=c[k];if(f===0&&m===0){if(O===sw){u.push(c.slice(x,k)),x=k+1;continue}if(O==="/"){v=k;continue}}O==="["?f++:O==="]"?f--:O==="("?m++:O===")"&&m--}const w=u.length===0?c:c.slice(x);let j=w,E=!1;w.endsWith(Px)?(j=w.slice(0,-1),E=!0):w.startsWith(Px)&&(j=w.slice(1),E=!0);const A=v&&v>x?v-x:void 0;return iw(u,E,j,A)};if(i){const c=i+sw,u=o;o=f=>f.startsWith(c)?u(f.slice(c.length)):iw(fE,!1,f,void 0,!0)}if(a){const c=o;o=u=>a({className:u,parseClassName:c})}return o},pE=t=>{const i=new Map;return t.orderSensitiveModifiers.forEach((a,o)=>{i.set(a,1e6+o)}),a=>{const o=[];let c=[];for(let u=0;u<a.length;u++){const f=a[u],m=f[0]==="[",x=i.has(f);m||x?(c.length>0&&(c.sort(),o.push(...c),c=[]),o.push(f)):c.push(f)}return c.length>0&&(c.sort(),o.push(...c)),o}},xE=t=>({cache:hE(t.cacheSize),parseClassName:mE(t),sortModifiers:pE(t),...iE(t)}),gE=/\s+/,vE=(t,i)=>{const{parseClassName:a,getClassGroupId:o,getConflictingClassGroupIds:c,sortModifiers:u}=i,f=[],m=t.trim().split(gE);let x="";for(let v=m.length-1;v>=0;v-=1){const b=m[v],{isExternal:w,modifiers:j,hasImportantModifier:E,baseClassName:A,maybePostfixModifierPosition:k}=a(b);if(w){x=b+(x.length>0?" "+x:x);continue}let O=!!k,M=o(O?A.substring(0,k):A);if(!M){if(!O){x=b+(x.length>0?" "+x:x);continue}if(M=o(A),!M){x=b+(x.length>0?" "+x:x);continue}O=!1}const B=j.length===0?"":j.length===1?j[0]:u(j).join(":"),T=E?B+Px:B,D=T+M;if(f.indexOf(D)>-1)continue;f.push(D);const V=c(M,O);for(let R=0;R<V.length;++R){const Z=V[R];f.push(T+Z)}x=b+(x.length>0?" "+x:x)}return x},yE=(...t)=>{let i=0,a,o,c="";for(;i<t.length;)(a=t[i++])&&(o=fj(a))&&(c&&(c+=" "),c+=o);return c},fj=t=>{if(typeof t=="string")return t;let i,a="";for(let o=0;o<t.length;o++)t[o]&&(i=fj(t[o]))&&(a&&(a+=" "),a+=i);return a},bE=(t,...i)=>{let a,o,c,u;const f=x=>{const v=i.reduce((b,w)=>w(b),t());return a=xE(v),o=a.cache.get,c=a.cache.set,u=m,m(x)},m=x=>{const v=o(x);if(v)return v;const b=vE(x,a);return c(x,b),b};return u=f,(...x)=>u(yE(...x))},wE=[],Wt=t=>{const i=a=>a[t]||wE;return i.isThemeGetter=!0,i},mj=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,pj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,_E=/^\d+\/\d+$/,jE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,CE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Go=t=>_E.test(t),Ge=t=>!!t&&!Number.isNaN(Number(t)),za=t=>!!t&&Number.isInteger(Number(t)),Gp=t=>t.endsWith("%")&&Ge(t.slice(0,-1)),Zn=t=>jE.test(t),TE=()=>!0,EE=t=>NE.test(t)&&!SE.test(t),xj=()=>!1,AE=t=>CE.test(t),LE=t=>kE.test(t),ME=t=>!Ce(t)&&!ke(t),RE=t=>vl(t,yj,xj),Ce=t=>mj.test(t),zr=t=>vl(t,bj,EE),$p=t=>vl(t,BE,Ge),nw=t=>vl(t,gj,xj),OE=t=>vl(t,vj,LE),sh=t=>vl(t,wj,AE),ke=t=>pj.test(t),Dc=t=>yl(t,bj),PE=t=>yl(t,IE),aw=t=>yl(t,gj),DE=t=>yl(t,yj),zE=t=>yl(t,vj),ih=t=>yl(t,wj,!0),vl=(t,i,a)=>{const o=mj.exec(t);return o?o[1]?i(o[1]):a(o[2]):!1},yl=(t,i,a=!1)=>{const o=pj.exec(t);return o?o[1]?i(o[1]):a:!1},gj=t=>t==="position"||t==="percentage",vj=t=>t==="image"||t==="url",yj=t=>t==="length"||t==="size"||t==="bg-size",bj=t=>t==="length",BE=t=>t==="number",IE=t=>t==="family-name",wj=t=>t==="shadow",UE=()=>{const t=Wt("color"),i=Wt("font"),a=Wt("text"),o=Wt("font-weight"),c=Wt("tracking"),u=Wt("leading"),f=Wt("breakpoint"),m=Wt("container"),x=Wt("spacing"),v=Wt("radius"),b=Wt("shadow"),w=Wt("inset-shadow"),j=Wt("text-shadow"),E=Wt("drop-shadow"),A=Wt("blur"),k=Wt("perspective"),O=Wt("aspect"),M=Wt("ease"),B=Wt("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],V=()=>[...D(),ke,Ce],R=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto","contain","none"],H=()=>[ke,Ce,x],G=()=>[Go,"full","auto",...H()],ee=()=>[za,"none","subgrid",ke,Ce],Y=()=>["auto",{span:["full",za,ke,Ce]},za,ke,Ce],K=()=>[za,"auto",ke,Ce],le=()=>["auto","min","max","fr",ke,Ce],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ve=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...H()],ne=()=>[Go,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...H()],J=()=>[t,ke,Ce],ae=()=>[...D(),aw,nw,{position:[ke,Ce]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",DE,RE,{size:[ke,Ce]}],$=()=>[Gp,Dc,zr],W=()=>["","none","full",v,ke,Ce],fe=()=>["",Ge,Dc,zr],be=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ne=()=>[Ge,Gp,aw,nw],it=()=>["","none",A,ke,Ce],Fe=()=>["none",Ge,ke,Ce],es=()=>["none",Ge,ke,Ce],ks=()=>[Ge,ke,Ce],Ts=()=>[Go,"full",...H()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Zn],breakpoint:[Zn],color:[TE],container:[Zn],"drop-shadow":[Zn],ease:["in","out","in-out"],font:[ME],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Zn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Zn],shadow:[Zn],spacing:["px",Ge],text:[Zn],"text-shadow":[Zn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Go,Ce,ke,O]}],container:["container"],columns:[{columns:[Ge,Ce,ke,m]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:V()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:Z()}],"overscroll-x":[{"overscroll-x":Z()}],"overscroll-y":[{"overscroll-y":Z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:G()}],"inset-x":[{"inset-x":G()}],"inset-y":[{"inset-y":G()}],start:[{start:G()}],end:[{end:G()}],top:[{top:G()}],right:[{right:G()}],bottom:[{bottom:G()}],left:[{left:G()}],visibility:["visible","invisible","collapse"],z:[{z:[za,"auto",ke,Ce]}],basis:[{basis:[Go,"full","auto",m,...H()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ge,Go,"auto","initial","none",Ce]}],grow:[{grow:["",Ge,ke,Ce]}],shrink:[{shrink:["",Ge,ke,Ce]}],order:[{order:[za,"first","last","none",ke,Ce]}],"grid-cols":[{"grid-cols":ee()}],"col-start-end":[{col:Y()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":ee()}],"row-start-end":[{row:Y()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":le()}],"auto-rows":[{"auto-rows":le()}],gap:[{gap:H()}],"gap-x":[{"gap-x":H()}],"gap-y":[{"gap-y":H()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...ve(),"normal"]}],"justify-self":[{"justify-self":["auto",...ve()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...ve(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ve(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...ve(),"baseline"]}],"place-self":[{"place-self":["auto",...ve()]}],p:[{p:H()}],px:[{px:H()}],py:[{py:H()}],ps:[{ps:H()}],pe:[{pe:H()}],pt:[{pt:H()}],pr:[{pr:H()}],pb:[{pb:H()}],pl:[{pl:H()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":H()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":H()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[m,"screen",...ne()]}],"min-w":[{"min-w":[m,"screen","none",...ne()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[f]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",a,Dc,zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,ke,$p]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gp,Ce]}],"font-family":[{font:[PE,Ce,i]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,ke,Ce]}],"line-clamp":[{"line-clamp":[Ge,"none",ke,$p]}],leading:[{leading:[u,...H()]}],"list-image":[{"list-image":["none",ke,Ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,Ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:J()}],"text-color":[{text:J()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ge,"from-font","auto",ke,zr]}],"text-decoration-color":[{decoration:J()}],"underline-offset":[{"underline-offset":[Ge,"auto",ke,Ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ae()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},za,ke,Ce],radial:["",ke,Ce],conic:[za,ke,Ce]},zE,OE]}],"bg-color":[{bg:J()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:J()}],"gradient-via":[{via:J()}],"gradient-to":[{to:J()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:J()}],"border-color-x":[{"border-x":J()}],"border-color-y":[{"border-y":J()}],"border-color-s":[{"border-s":J()}],"border-color-e":[{"border-e":J()}],"border-color-t":[{"border-t":J()}],"border-color-r":[{"border-r":J()}],"border-color-b":[{"border-b":J()}],"border-color-l":[{"border-l":J()}],"divide-color":[{divide:J()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ge,ke,Ce]}],"outline-w":[{outline:["",Ge,Dc,zr]}],"outline-color":[{outline:J()}],shadow:[{shadow:["","none",b,ih,sh]}],"shadow-color":[{shadow:J()}],"inset-shadow":[{"inset-shadow":["none",w,ih,sh]}],"inset-shadow-color":[{"inset-shadow":J()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:J()}],"ring-offset-w":[{"ring-offset":[Ge,zr]}],"ring-offset-color":[{"ring-offset":J()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":J()}],"text-shadow":[{"text-shadow":["none",j,ih,sh]}],"text-shadow-color":[{"text-shadow":J()}],opacity:[{opacity:[Ge,ke,Ce]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ne()}],"mask-image-linear-from-color":[{"mask-linear-from":J()}],"mask-image-linear-to-color":[{"mask-linear-to":J()}],"mask-image-t-from-pos":[{"mask-t-from":Ne()}],"mask-image-t-to-pos":[{"mask-t-to":Ne()}],"mask-image-t-from-color":[{"mask-t-from":J()}],"mask-image-t-to-color":[{"mask-t-to":J()}],"mask-image-r-from-pos":[{"mask-r-from":Ne()}],"mask-image-r-to-pos":[{"mask-r-to":Ne()}],"mask-image-r-from-color":[{"mask-r-from":J()}],"mask-image-r-to-color":[{"mask-r-to":J()}],"mask-image-b-from-pos":[{"mask-b-from":Ne()}],"mask-image-b-to-pos":[{"mask-b-to":Ne()}],"mask-image-b-from-color":[{"mask-b-from":J()}],"mask-image-b-to-color":[{"mask-b-to":J()}],"mask-image-l-from-pos":[{"mask-l-from":Ne()}],"mask-image-l-to-pos":[{"mask-l-to":Ne()}],"mask-image-l-from-color":[{"mask-l-from":J()}],"mask-image-l-to-color":[{"mask-l-to":J()}],"mask-image-x-from-pos":[{"mask-x-from":Ne()}],"mask-image-x-to-pos":[{"mask-x-to":Ne()}],"mask-image-x-from-color":[{"mask-x-from":J()}],"mask-image-x-to-color":[{"mask-x-to":J()}],"mask-image-y-from-pos":[{"mask-y-from":Ne()}],"mask-image-y-to-pos":[{"mask-y-to":Ne()}],"mask-image-y-from-color":[{"mask-y-from":J()}],"mask-image-y-to-color":[{"mask-y-to":J()}],"mask-image-radial":[{"mask-radial":[ke,Ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ne()}],"mask-image-radial-from-color":[{"mask-radial-from":J()}],"mask-image-radial-to-color":[{"mask-radial-to":J()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ne()}],"mask-image-conic-from-color":[{"mask-conic-from":J()}],"mask-image-conic-to-color":[{"mask-conic-to":J()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ae()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,Ce]}],filter:[{filter:["","none",ke,Ce]}],blur:[{blur:it()}],brightness:[{brightness:[Ge,ke,Ce]}],contrast:[{contrast:[Ge,ke,Ce]}],"drop-shadow":[{"drop-shadow":["","none",E,ih,sh]}],"drop-shadow-color":[{"drop-shadow":J()}],grayscale:[{grayscale:["",Ge,ke,Ce]}],"hue-rotate":[{"hue-rotate":[Ge,ke,Ce]}],invert:[{invert:["",Ge,ke,Ce]}],saturate:[{saturate:[Ge,ke,Ce]}],sepia:[{sepia:["",Ge,ke,Ce]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,Ce]}],"backdrop-blur":[{"backdrop-blur":it()}],"backdrop-brightness":[{"backdrop-brightness":[Ge,ke,Ce]}],"backdrop-contrast":[{"backdrop-contrast":[Ge,ke,Ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ge,ke,Ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ge,ke,Ce]}],"backdrop-invert":[{"backdrop-invert":["",Ge,ke,Ce]}],"backdrop-opacity":[{"backdrop-opacity":[Ge,ke,Ce]}],"backdrop-saturate":[{"backdrop-saturate":[Ge,ke,Ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Ge,ke,Ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":H()}],"border-spacing-x":[{"border-spacing-x":H()}],"border-spacing-y":[{"border-spacing-y":H()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,Ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ge,"initial",ke,Ce]}],ease:[{ease:["linear","initial",M,ke,Ce]}],delay:[{delay:[Ge,ke,Ce]}],animate:[{animate:["none",B,ke,Ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,ke,Ce]}],"perspective-origin":[{"perspective-origin":V()}],rotate:[{rotate:Fe()}],"rotate-x":[{"rotate-x":Fe()}],"rotate-y":[{"rotate-y":Fe()}],"rotate-z":[{"rotate-z":Fe()}],scale:[{scale:es()}],"scale-x":[{"scale-x":es()}],"scale-y":[{"scale-y":es()}],"scale-z":[{"scale-z":es()}],"scale-3d":["scale-3d"],skew:[{skew:ks()}],"skew-x":[{"skew-x":ks()}],"skew-y":[{"skew-y":ks()}],transform:[{transform:[ke,Ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:V()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ts()}],"translate-x":[{"translate-x":Ts()}],"translate-y":[{"translate-y":Ts()}],"translate-z":[{"translate-z":Ts()}],"translate-none":["translate-none"],accent:[{accent:J()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:J()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,Ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,Ce]}],fill:[{fill:["none",...J()]}],"stroke-w":[{stroke:[Ge,Dc,zr,$p]}],stroke:[{stroke:["none",...J()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},VE=bE(UE);function _e(...t){return VE(cj(t))}const HE=A0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-white text-black hover:bg-white/80",secondary:"border-transparent bg-white/10 text-white hover:bg-white/20",destructive:"border-transparent bg-rose-500 text-white hover:bg-rose-500/80",outline:"text-white border-white/20"}},defaultVariants:{variant:"default"}});function FE({className:t,variant:i,...a}){return e.jsx("div",{className:_e(HE({variant:i}),t),...a})}function rw(t,i){if(typeof t=="function")return t(i);t!=null&&(t.current=i)}function ZE(...t){return i=>{let a=!1;const o=t.map(c=>{const u=rw(c,i);return!a&&typeof u=="function"&&(a=!0),u});if(a)return()=>{for(let c=0;c<o.length;c++){const u=o[c];typeof u=="function"?u():rw(t[c],null)}}}}var qE=Symbol.for("react.lazy"),Wh=t4[" use ".trim().toString()];function GE(t){return typeof t=="object"&&t!==null&&"then"in t}function _j(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===qE&&"_payload"in t&&GE(t._payload)}function $E(t){const i=YE(t),a=N.forwardRef((o,c)=>{let{children:u,...f}=o;_j(u)&&typeof Wh=="function"&&(u=Wh(u._payload));const m=N.Children.toArray(u),x=m.find(KE);if(x){const v=x.props.children,b=m.map(w=>w===x?N.Children.count(v)>1?N.Children.only(null):N.isValidElement(v)?v.props.children:null:w);return e.jsx(i,{...f,ref:c,children:N.isValidElement(v)?N.cloneElement(v,void 0,b):null})}return e.jsx(i,{...f,ref:c,children:u})});return a.displayName=`${t}.Slot`,a}var jj=$E("Slot");function YE(t){const i=N.forwardRef((a,o)=>{let{children:c,...u}=a;if(_j(c)&&typeof Wh=="function"&&(c=Wh(c._payload)),N.isValidElement(c)){const f=QE(c),m=WE(u,c.props);return c.type!==N.Fragment&&(m.ref=o?ZE(o,f):f),N.cloneElement(c,m)}return N.Children.count(c)>1?N.Children.only(null):null});return i.displayName=`${t}.SlotClone`,i}var XE=Symbol("radix.slottable");function KE(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===XE}function WE(t,i){const a={...i};for(const o in i){const c=t[o],u=i[o];/^on[A-Z]/.test(o)?c&&u?a[o]=(...m)=>{const x=u(...m);return c(...m),x}:c&&(a[o]=c):o==="style"?a[o]={...c,...u}:o==="className"&&(a[o]=[c,u].filter(Boolean).join(" "))}return{...t,...a}}function QE(t){let i=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=i&&"isReactWarning"in i&&i.isReactWarning;return a?t.ref:(i=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=i&&"isReactWarning"in i&&i.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}const JE=A0("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-white text-black hover:bg-white/90",destructive:"bg-rose-500 text-white hover:bg-rose-500/90",outline:"border border-white/20 bg-transparent hover:bg-white/10 text-white",secondary:"bg-white/10 text-white hover:bg-white/20",ghost:"hover:bg-white/10 text-white",link:"text-white underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Kc=N.forwardRef(({className:t,variant:i,size:a,asChild:o=!1,...c},u)=>{const f=o?jj:"button";return e.jsx(f,{className:_e(JE({variant:i,size:a,className:t})),ref:u,...c})});Kc.displayName="Button";const Nj=N.forwardRef(({className:t,...i},a)=>e.jsx("div",{ref:a,className:_e("rounded-lg border border-white/10 bg-black/50 text-white shadow-sm",t),...i}));Nj.displayName="Card";const Sj=N.forwardRef(({className:t,...i},a)=>e.jsx("div",{ref:a,className:_e("flex flex-col space-y-1.5 p-6",t),...i}));Sj.displayName="CardHeader";const Cj=N.forwardRef(({className:t,...i},a)=>e.jsx("h3",{ref:a,className:_e("text-2xl font-semibold leading-none tracking-tight text-white",t),...i}));Cj.displayName="CardTitle";const eA=N.forwardRef(({className:t,...i},a)=>e.jsx("p",{ref:a,className:_e("text-sm text-white/60",t),...i}));eA.displayName="CardDescription";const kj=N.forwardRef(({className:t,...i},a)=>e.jsx("div",{ref:a,className:_e("p-6 pt-0",t),...i}));kj.displayName="CardContent";const tA=N.forwardRef(({className:t,...i},a)=>e.jsx("div",{ref:a,className:_e("flex items-center p-6 pt-0",t),...i}));tA.displayName="CardFooter";function sA({timelineData:t}){const[i,a]=N.useState({}),[o,c]=N.useState(0),[u,f]=N.useState(!0),[m,x]=N.useState({}),[v]=N.useState({x:0,y:0}),[b,w]=N.useState(null),j=N.useRef(null),E=N.useRef(null),A=N.useRef({}),k=R=>{(R.target===j.current||R.target===E.current)&&(a({}),w(null),x({}),f(!0))},O=R=>{a(Z=>{const H={...Z};if(Object.keys(H).forEach(G=>{parseInt(G)!==R&&(H[parseInt(G)]=!1)}),H[R]=!Z[R],Z[R])w(null),f(!0),x({});else{w(R),f(!1);const G=T(R),ee={};G.forEach(Y=>{ee[Y]=!0}),x(ee),M(R)}return H})};N.useEffect(()=>{let R;return u&&(R=setInterval(()=>{c(Z=>{const H=(Z+.3)%360;return Number(H.toFixed(3))})},50)),()=>{R&&clearInterval(R)}},[u]);const M=R=>{if(!A.current[R])return;const Z=t.findIndex(ee=>ee.id===R),H=t.length,G=Z/H*360;c(270-G)},B=(R,Z)=>{const H=(R/Z*360+o)%360,G=200,ee=H*Math.PI/180,Y=G*Math.cos(ee)+v.x,K=G*Math.sin(ee)+v.y,le=Math.round(100+50*Math.cos(ee)),F=Math.max(.4,Math.min(1,.4+.6*((1+Math.sin(ee))/2)));return{x:Y,y:K,angle:H,zIndex:le,opacity:F}},T=R=>{const Z=t.find(H=>H.id===R);return Z?Z.relatedIds:[]},D=R=>b?T(b).includes(R):!1,V=R=>{switch(R){case"completed":return"text-white bg-rose-500 border-rose-500";case"in-progress":return"text-black bg-white border-white";case"pending":return"text-white bg-white/10 border-white/30";default:return"text-white bg-white/10 border-white/30"}};return e.jsx("div",{className:"w-full h-[600px] flex flex-col items-center justify-center bg-transparent overflow-hidden relative",ref:j,onClick:k,children:e.jsx("div",{className:"relative w-full max-w-4xl h-full flex items-center justify-center",children:e.jsxs("div",{className:"absolute w-full h-full flex items-center justify-center",ref:E,style:{perspective:"1000px",transform:`translate(${v.x}px, ${v.y}px)`},children:[e.jsxs("div",{className:"absolute w-16 h-16 rounded-full bg-gradient-to-br from-rose-500 via-pink-500 to-violet-500 animate-pulse flex items-center justify-center z-10",children:[e.jsx("div",{className:"absolute w-20 h-20 rounded-full border border-white/20 animate-ping opacity-70"}),e.jsx("div",{className:"absolute w-24 h-24 rounded-full border border-white/10 animate-ping opacity-50",style:{animationDelay:"0.5s"}}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-white/80 backdrop-blur-md"})]}),e.jsx("div",{className:"absolute w-96 h-96 rounded-full border border-white/10"}),t.map((R,Z)=>{const H=B(Z,t.length),G=i[R.id],ee=D(R.id),Y=m[R.id],K=R.icon,le={transform:`translate(${H.x}px, ${H.y}px)`,zIndex:G?200:H.zIndex,opacity:G?1:H.opacity};return e.jsxs("div",{ref:F=>A.current[R.id]=F,className:"absolute transition-all duration-700 cursor-pointer",style:le,onClick:F=>{F.stopPropagation(),O(R.id)},children:[e.jsx("div",{className:`absolute rounded-full -inset-1 ${Y?"animate-pulse duration-1000":""}`,style:{background:"radial-gradient(circle, rgba(244,63,94,0.3) 0%, rgba(244,63,94,0) 70%)",width:`${R.energy*.5+40}px`,height:`${R.energy*.5+40}px`,left:`-${(R.energy*.5+40-40)/2}px`,top:`-${(R.energy*.5+40-40)/2}px`}}),e.jsx("div",{className:`
                  w-10 h-10 rounded-full flex items-center justify-center
                  ${G?"bg-white text-black":ee?"bg-rose-500/50 text-white":"bg-black text-white"}
                  border-2 
                  ${G?"border-white shadow-lg shadow-rose-500/30":ee?"border-rose-500 animate-pulse":"border-white/40"}
                  transition-all duration-300 transform
                  ${G?"scale-150":""}
                `,children:e.jsx(K,{size:16})}),e.jsx("div",{className:`
                  absolute top-12 left-1/2 -translate-x-1/2 whitespace-nowrap
                  text-xs font-semibold tracking-wider
                  transition-all duration-300
                  ${G?"text-white scale-125":"text-white/70"}
                `,children:R.title}),G&&e.jsxs(Nj,{className:"absolute top-20 left-1/2 -translate-x-1/2 w-64 bg-black/90 backdrop-blur-lg border-white/30 shadow-xl shadow-rose-500/10 overflow-visible",children:[e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 w-px h-3 bg-white/50"}),e.jsxs(Sj,{className:"pb-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(FE,{className:`px-2 text-xs ${V(R.status)}`,children:R.status==="completed"?"COMPLETE":R.status==="in-progress"?"IN PROGRESS":"PENDING"}),e.jsx("span",{className:"text-xs font-mono text-white/50",children:R.date})]}),e.jsx(Cj,{className:"text-sm mt-2 text-white",children:R.title})]}),e.jsxs(kj,{className:"text-xs text-white/80",children:[e.jsx("p",{children:R.content}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs mb-1",children:[e.jsxs("span",{className:"flex items-center text-white/70",children:[e.jsx(Wn,{size:10,className:"mr-1"}),"Energy Level"]}),e.jsxs("span",{className:"font-mono text-white",children:[R.energy,"%"]})]}),e.jsx("div",{className:"w-full h-1 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-rose-500 to-violet-500",style:{width:`${R.energy}%`}})})]}),R.relatedIds.length>0&&e.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(tj,{size:10,className:"text-white/70 mr-1"}),e.jsx("h4",{className:"text-xs uppercase tracking-wider font-medium text-white/70",children:"Connected Nodes"})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:R.relatedIds.map(F=>{const ve=t.find(U=>U.id===F);return e.jsxs(Kc,{variant:"outline",size:"sm",className:"flex items-center h-6 px-2 py-0 text-xs rounded-none border-white/20 bg-transparent hover:bg-white/10 text-white/80 hover:text-white transition-all",onClick:U=>{U.stopPropagation(),O(F)},children:[ve?.title,e.jsx(Bi,{size:8,className:"ml-1 text-white/60"})]},F)})})]})]})]})]},R.id)})]})})})}const M0=N.createContext({});function bl(t){const i=N.useRef(null);return i.current===null&&(i.current=t()),i.current}const R0=typeof window<"u",jf=R0?N.useLayoutEffect:N.useEffect,Nf=N.createContext(null);function O0(t,i){t.indexOf(i)===-1&&t.push(i)}function P0(t,i){const a=t.indexOf(i);a>-1&&t.splice(a,1)}const xn=(t,i,a)=>a>i?i:a<t?t:a;let lu=()=>{};const Qn={},Tj=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Ej(t){return typeof t=="object"&&t!==null}const Aj=t=>/^0[^.\s]+$/u.test(t);function D0(t){let i;return()=>(i===void 0&&(i=t()),i)}const qs=t=>t,iA=(t,i)=>a=>i(t(a)),bu=(...t)=>t.reduce(iA),ul=(t,i,a)=>{const o=i-t;return o===0?1:(a-t)/o};class z0{constructor(){this.subscriptions=[]}add(i){return O0(this.subscriptions,i),()=>P0(this.subscriptions,i)}notify(i,a,o){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](i,a,o);else for(let u=0;u<c;u++){const f=this.subscriptions[u];f&&f(i,a,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hn=t=>t*1e3,vi=t=>t/1e3;function B0(t,i){return i?t*(1e3/i):0}const Lj=(t,i,a)=>(((1-3*a+3*i)*t+(3*a-6*i))*t+3*i)*t,nA=1e-7,aA=12;function rA(t,i,a,o,c){let u,f,m=0;do f=i+(a-i)/2,u=Lj(f,o,c)-t,u>0?a=f:i=f;while(Math.abs(u)>nA&&++m<aA);return f}function wu(t,i,a,o){if(t===i&&a===o)return qs;const c=u=>rA(u,0,1,t,a);return u=>u===0||u===1?u:Lj(c(u),i,o)}const Mj=t=>i=>i<=.5?t(2*i)/2:(2-t(2*(1-i)))/2,Rj=t=>i=>1-t(1-i),Oj=wu(.33,1.53,.69,.99),I0=Rj(Oj),Pj=Mj(I0),Dj=t=>(t*=2)<1?.5*I0(t):.5*(2-Math.pow(2,-10*(t-1))),U0=t=>1-Math.sin(Math.acos(t)),zj=Rj(U0),Bj=Mj(U0),oA=wu(.42,0,1,1),lA=wu(0,0,.58,1),Ij=wu(.42,0,.58,1),cA=t=>Array.isArray(t)&&typeof t[0]!="number",Uj=t=>Array.isArray(t)&&typeof t[0]=="number",uA={linear:qs,easeIn:oA,easeInOut:Ij,easeOut:lA,circIn:U0,circInOut:Bj,circOut:zj,backIn:I0,backInOut:Pj,backOut:Oj,anticipate:Dj},dA=t=>typeof t=="string",ow=t=>{if(Uj(t)){lu(t.length===4);const[i,a,o,c]=t;return wu(i,a,o,c)}else if(dA(t))return uA[t];return t},nh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function hA(t,i){let a=new Set,o=new Set,c=!1,u=!1;const f=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function x(b){f.has(b)&&(v.schedule(b),t()),b(m)}const v={schedule:(b,w=!1,j=!1)=>{const A=j&&c?a:o;return w&&f.add(b),A.has(b)||A.add(b),b},cancel:b=>{o.delete(b),f.delete(b)},process:b=>{if(m=b,c){u=!0;return}c=!0,[a,o]=[o,a],a.forEach(x),a.clear(),c=!1,u&&(u=!1,v.process(b))}};return v}const fA=40;function Vj(t,i){let a=!1,o=!0;const c={delta:0,timestamp:0,isProcessing:!1},u=()=>a=!0,f=nh.reduce((T,D)=>(T[D]=hA(u),T),{}),{setup:m,read:x,resolveKeyframes:v,preUpdate:b,update:w,preRender:j,render:E,postRender:A}=f,k=()=>{const T=Qn.useManualTiming?c.timestamp:performance.now();a=!1,Qn.useManualTiming||(c.delta=o?1e3/60:Math.max(Math.min(T-c.timestamp,fA),1)),c.timestamp=T,c.isProcessing=!0,m.process(c),x.process(c),v.process(c),b.process(c),w.process(c),j.process(c),E.process(c),A.process(c),c.isProcessing=!1,a&&i&&(o=!1,t(k))},O=()=>{a=!0,o=!0,c.isProcessing||t(k)};return{schedule:nh.reduce((T,D)=>{const V=f[D];return T[D]=(R,Z=!1,H=!1)=>(a||O(),V.schedule(R,Z,H)),T},{}),cancel:T=>{for(let D=0;D<nh.length;D++)f[nh[D]].cancel(T)},state:c,steps:f}}const{schedule:ft,cancel:Hi,state:as,steps:Yp}=Vj(typeof requestAnimationFrame<"u"?requestAnimationFrame:qs,!0);let Eh;function mA(){Eh=void 0}const Vs={now:()=>(Eh===void 0&&Vs.set(as.isProcessing||Qn.useManualTiming?as.timestamp:performance.now()),Eh),set:t=>{Eh=t,queueMicrotask(mA)}},Hj=t=>i=>typeof i=="string"&&i.startsWith(t),Fj=Hj("--"),pA=Hj("var(--"),V0=t=>pA(t)?xA.test(t.split("/*")[0].trim()):!1,xA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cu={...wl,transform:t=>xn(0,1,t)},ah={...wl,default:1},Wc=t=>Math.round(t*1e5)/1e5,H0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gA(t){return t==null}const vA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,F0=(t,i)=>a=>!!(typeof a=="string"&&vA.test(a)&&a.startsWith(t)||i&&!gA(a)&&Object.prototype.hasOwnProperty.call(a,i)),Zj=(t,i,a)=>o=>{if(typeof o!="string")return o;const[c,u,f,m]=o.match(H0);return{[t]:parseFloat(c),[i]:parseFloat(u),[a]:parseFloat(f),alpha:m!==void 0?parseFloat(m):1}},yA=t=>xn(0,255,t),Xp={...wl,transform:t=>Math.round(yA(t))},Fr={test:F0("rgb","red"),parse:Zj("red","green","blue"),transform:({red:t,green:i,blue:a,alpha:o=1})=>"rgba("+Xp.transform(t)+", "+Xp.transform(i)+", "+Xp.transform(a)+", "+Wc(cu.transform(o))+")"};function bA(t){let i="",a="",o="",c="";return t.length>5?(i=t.substring(1,3),a=t.substring(3,5),o=t.substring(5,7),c=t.substring(7,9)):(i=t.substring(1,2),a=t.substring(2,3),o=t.substring(3,4),c=t.substring(4,5),i+=i,a+=a,o+=o,c+=c),{red:parseInt(i,16),green:parseInt(a,16),blue:parseInt(o,16),alpha:c?parseInt(c,16)/255:1}}const Dx={test:F0("#"),parse:bA,transform:Fr.transform},_u=t=>({test:i=>typeof i=="string"&&i.endsWith(t)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${t}`}),Ba=_u("deg"),fn=_u("%"),Oe=_u("px"),wA=_u("vh"),_A=_u("vw"),lw={...fn,parse:t=>fn.parse(t)/100,transform:t=>fn.transform(t*100)},Qo={test:F0("hsl","hue"),parse:Zj("hue","saturation","lightness"),transform:({hue:t,saturation:i,lightness:a,alpha:o=1})=>"hsla("+Math.round(t)+", "+fn.transform(Wc(i))+", "+fn.transform(Wc(a))+", "+Wc(cu.transform(o))+")"},Zt={test:t=>Fr.test(t)||Dx.test(t)||Qo.test(t),parse:t=>Fr.test(t)?Fr.parse(t):Qo.test(t)?Qo.parse(t):Dx.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fr.transform(t):Qo.transform(t),getAnimatableNone:t=>{const i=Zt.parse(t);return i.alpha=0,Zt.transform(i)}},jA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function NA(t){return isNaN(t)&&typeof t=="string"&&(t.match(H0)?.length||0)+(t.match(jA)?.length||0)>0}const qj="number",Gj="color",SA="var",CA="var(",cw="${}",kA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uu(t){const i=t.toString(),a=[],o={color:[],number:[],var:[]},c=[];let u=0;const m=i.replace(kA,x=>(Zt.test(x)?(o.color.push(u),c.push(Gj),a.push(Zt.parse(x))):x.startsWith(CA)?(o.var.push(u),c.push(SA),a.push(x)):(o.number.push(u),c.push(qj),a.push(parseFloat(x))),++u,cw)).split(cw);return{values:a,split:m,indexes:o,types:c}}function $j(t){return uu(t).values}function Yj(t){const{split:i,types:a}=uu(t),o=i.length;return c=>{let u="";for(let f=0;f<o;f++)if(u+=i[f],c[f]!==void 0){const m=a[f];m===qj?u+=Wc(c[f]):m===Gj?u+=Zt.transform(c[f]):u+=c[f]}return u}}const TA=t=>typeof t=="number"?0:Zt.test(t)?Zt.getAnimatableNone(t):t;function EA(t){const i=$j(t);return Yj(t)(i.map(TA))}const Ga={test:NA,parse:$j,createTransformer:Yj,getAnimatableNone:EA};function Kp(t,i,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+(i-t)*6*a:a<1/2?i:a<2/3?t+(i-t)*(2/3-a)*6:t}function AA({hue:t,saturation:i,lightness:a,alpha:o}){t/=360,i/=100,a/=100;let c=0,u=0,f=0;if(!i)c=u=f=a;else{const m=a<.5?a*(1+i):a+i-a*i,x=2*a-m;c=Kp(x,m,t+1/3),u=Kp(x,m,t),f=Kp(x,m,t-1/3)}return{red:Math.round(c*255),green:Math.round(u*255),blue:Math.round(f*255),alpha:o}}function Qh(t,i){return a=>a>0?i:t}const Tt=(t,i,a)=>t+(i-t)*a,Wp=(t,i,a)=>{const o=t*t,c=a*(i*i-o)+o;return c<0?0:Math.sqrt(c)},LA=[Dx,Fr,Qo],MA=t=>LA.find(i=>i.test(t));function uw(t){const i=MA(t);if(!i)return!1;let a=i.parse(t);return i===Qo&&(a=AA(a)),a}const dw=(t,i)=>{const a=uw(t),o=uw(i);if(!a||!o)return Qh(t,i);const c={...a};return u=>(c.red=Wp(a.red,o.red,u),c.green=Wp(a.green,o.green,u),c.blue=Wp(a.blue,o.blue,u),c.alpha=Tt(a.alpha,o.alpha,u),Fr.transform(c))},zx=new Set(["none","hidden"]);function RA(t,i){return zx.has(t)?a=>a<=0?t:i:a=>a>=1?i:t}function OA(t,i){return a=>Tt(t,i,a)}function Z0(t){return typeof t=="number"?OA:typeof t=="string"?V0(t)?Qh:Zt.test(t)?dw:zA:Array.isArray(t)?Xj:typeof t=="object"?Zt.test(t)?dw:PA:Qh}function Xj(t,i){const a=[...t],o=a.length,c=t.map((u,f)=>Z0(u)(u,i[f]));return u=>{for(let f=0;f<o;f++)a[f]=c[f](u);return a}}function PA(t,i){const a={...t,...i},o={};for(const c in a)t[c]!==void 0&&i[c]!==void 0&&(o[c]=Z0(t[c])(t[c],i[c]));return c=>{for(const u in o)a[u]=o[u](c);return a}}function DA(t,i){const a=[],o={color:0,var:0,number:0};for(let c=0;c<i.values.length;c++){const u=i.types[c],f=t.indexes[u][o[u]],m=t.values[f]??0;a[c]=m,o[u]++}return a}const zA=(t,i)=>{const a=Ga.createTransformer(i),o=uu(t),c=uu(i);return o.indexes.var.length===c.indexes.var.length&&o.indexes.color.length===c.indexes.color.length&&o.indexes.number.length>=c.indexes.number.length?zx.has(t)&&!c.values.length||zx.has(i)&&!o.values.length?RA(t,i):bu(Xj(DA(o,c),c.values),a):Qh(t,i)};function Kj(t,i,a){return typeof t=="number"&&typeof i=="number"&&typeof a=="number"?Tt(t,i,a):Z0(t)(t,i)}const BA=t=>{const i=({timestamp:a})=>t(a);return{start:(a=!0)=>ft.update(i,a),stop:()=>Hi(i),now:()=>as.isProcessing?as.timestamp:Vs.now()}},Wj=(t,i,a=10)=>{let o="";const c=Math.max(Math.round(i/a),2);for(let u=0;u<c;u++)o+=Math.round(t(u/(c-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},Jh=2e4;function q0(t){let i=0;const a=50;let o=t.next(i);for(;!o.done&&i<Jh;)i+=a,o=t.next(i);return i>=Jh?1/0:i}function IA(t,i=100,a){const o=a({...t,keyframes:[0,i]}),c=Math.min(q0(o),Jh);return{type:"keyframes",ease:u=>o.next(c*u).value/i,duration:vi(c)}}const UA=5;function Qj(t,i,a){const o=Math.max(i-UA,0);return B0(a-t(o),i-o)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qp=.001;function VA({duration:t=Rt.duration,bounce:i=Rt.bounce,velocity:a=Rt.velocity,mass:o=Rt.mass}){let c,u,f=1-i;f=xn(Rt.minDamping,Rt.maxDamping,f),t=xn(Rt.minDuration,Rt.maxDuration,vi(t)),f<1?(c=v=>{const b=v*f,w=b*t,j=b-a,E=Bx(v,f),A=Math.exp(-w);return Qp-j/E*A},u=v=>{const w=v*f*t,j=w*a+a,E=Math.pow(f,2)*Math.pow(v,2)*t,A=Math.exp(-w),k=Bx(Math.pow(v,2),f);return(-c(v)+Qp>0?-1:1)*((j-E)*A)/k}):(c=v=>{const b=Math.exp(-v*t),w=(v-a)*t+1;return-Qp+b*w},u=v=>{const b=Math.exp(-v*t),w=(a-v)*(t*t);return b*w});const m=5/t,x=FA(c,u,m);if(t=hn(t),isNaN(x))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:t};{const v=Math.pow(x,2)*o;return{stiffness:v,damping:f*2*Math.sqrt(o*v),duration:t}}}const HA=12;function FA(t,i,a){let o=a;for(let c=1;c<HA;c++)o=o-t(o)/i(o);return o}function Bx(t,i){return t*Math.sqrt(1-i*i)}const ZA=["duration","bounce"],qA=["stiffness","damping","mass"];function hw(t,i){return i.some(a=>t[a]!==void 0)}function GA(t){let i={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...t};if(!hw(t,qA)&&hw(t,ZA))if(t.visualDuration){const a=t.visualDuration,o=2*Math.PI/(a*1.2),c=o*o,u=2*xn(.05,1,1-(t.bounce||0))*Math.sqrt(c);i={...i,mass:Rt.mass,stiffness:c,damping:u}}else{const a=VA(t);i={...i,...a,mass:Rt.mass},i.isResolvedFromDuration=!0}return i}function ef(t=Rt.visualDuration,i=Rt.bounce){const a=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:i}:t;let{restSpeed:o,restDelta:c}=a;const u=a.keyframes[0],f=a.keyframes[a.keyframes.length-1],m={done:!1,value:u},{stiffness:x,damping:v,mass:b,duration:w,velocity:j,isResolvedFromDuration:E}=GA({...a,velocity:-vi(a.velocity||0)}),A=j||0,k=v/(2*Math.sqrt(x*b)),O=f-u,M=vi(Math.sqrt(x/b)),B=Math.abs(O)<5;o||(o=B?Rt.restSpeed.granular:Rt.restSpeed.default),c||(c=B?Rt.restDelta.granular:Rt.restDelta.default);let T;if(k<1){const V=Bx(M,k);T=R=>{const Z=Math.exp(-k*M*R);return f-Z*((A+k*M*O)/V*Math.sin(V*R)+O*Math.cos(V*R))}}else if(k===1)T=V=>f-Math.exp(-M*V)*(O+(A+M*O)*V);else{const V=M*Math.sqrt(k*k-1);T=R=>{const Z=Math.exp(-k*M*R),H=Math.min(V*R,300);return f-Z*((A+k*M*O)*Math.sinh(H)+V*O*Math.cosh(H))/V}}const D={calculatedDuration:E&&w||null,next:V=>{const R=T(V);if(E)m.done=V>=w;else{let Z=V===0?A:0;k<1&&(Z=V===0?hn(A):Qj(T,V,R));const H=Math.abs(Z)<=o,G=Math.abs(f-R)<=c;m.done=H&&G}return m.value=m.done?f:R,m},toString:()=>{const V=Math.min(q0(D),Jh),R=Wj(Z=>D.next(V*Z).value,V,30);return V+"ms "+R},toTransition:()=>{}};return D}ef.applyToOptions=t=>{const i=IA(t,100,ef);return t.ease=i.ease,t.duration=hn(i.duration),t.type="keyframes",t};function Ix({keyframes:t,velocity:i=0,power:a=.8,timeConstant:o=325,bounceDamping:c=10,bounceStiffness:u=500,modifyTarget:f,min:m,max:x,restDelta:v=.5,restSpeed:b}){const w=t[0],j={done:!1,value:w},E=H=>m!==void 0&&H<m||x!==void 0&&H>x,A=H=>m===void 0?x:x===void 0||Math.abs(m-H)<Math.abs(x-H)?m:x;let k=a*i;const O=w+k,M=f===void 0?O:f(O);M!==O&&(k=M-w);const B=H=>-k*Math.exp(-H/o),T=H=>M+B(H),D=H=>{const G=B(H),ee=T(H);j.done=Math.abs(G)<=v,j.value=j.done?M:ee};let V,R;const Z=H=>{E(j.value)&&(V=H,R=ef({keyframes:[j.value,A(j.value)],velocity:Qj(T,H,j.value),damping:c,stiffness:u,restDelta:v,restSpeed:b}))};return Z(0),{calculatedDuration:null,next:H=>{let G=!1;return!R&&V===void 0&&(G=!0,D(H),Z(H)),V!==void 0&&H>=V?R.next(H-V):(!G&&D(H),j)}}}function $A(t,i,a){const o=[],c=a||Qn.mix||Kj,u=t.length-1;for(let f=0;f<u;f++){let m=c(t[f],t[f+1]);if(i){const x=Array.isArray(i)?i[f]||qs:i;m=bu(x,m)}o.push(m)}return o}function G0(t,i,{clamp:a=!0,ease:o,mixer:c}={}){const u=t.length;if(lu(u===i.length),u===1)return()=>i[0];if(u===2&&i[0]===i[1])return()=>i[1];const f=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),i=[...i].reverse());const m=$A(i,o,c),x=m.length,v=b=>{if(f&&b<t[0])return i[0];let w=0;if(x>1)for(;w<t.length-2&&!(b<t[w+1]);w++);const j=ul(t[w],t[w+1],b);return m[w](j)};return a?b=>v(xn(t[0],t[u-1],b)):v}function YA(t,i){const a=t[t.length-1];for(let o=1;o<=i;o++){const c=ul(0,i,o);t.push(Tt(a,1,c))}}function Jj(t){const i=[0];return YA(i,t.length-1),i}function XA(t,i){return t.map(a=>a*i)}function KA(t,i){return t.map(()=>i||Ij).splice(0,t.length-1)}function Qc({duration:t=300,keyframes:i,times:a,ease:o="easeInOut"}){const c=cA(o)?o.map(ow):ow(o),u={done:!1,value:i[0]},f=XA(a&&a.length===i.length?a:Jj(i),t),m=G0(f,i,{ease:Array.isArray(c)?c:KA(i,c)});return{calculatedDuration:t,next:x=>(u.value=m(x),u.done=x>=t,u)}}const WA=t=>t!==null;function $0(t,{repeat:i,repeatType:a="loop"},o,c=1){const u=t.filter(WA),m=c<0||i&&a!=="loop"&&i%2===1?0:u.length-1;return!m||o===void 0?u[m]:o}const QA={decay:Ix,inertia:Ix,tween:Qc,keyframes:Qc,spring:ef};function e2(t){typeof t.type=="string"&&(t.type=QA[t.type])}class Y0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(i=>{this.resolve=i})}notifyFinished(){this.resolve()}then(i,a){return this.finished.then(i,a)}}const JA=t=>t/100;class X0 extends Y0{constructor(i){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==Vs.now()&&this.tick(Vs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=i,this.initAnimation(),this.play(),i.autoplay===!1&&this.pause()}initAnimation(){const{options:i}=this;e2(i);const{type:a=Qc,repeat:o=0,repeatDelay:c=0,repeatType:u,velocity:f=0}=i;let{keyframes:m}=i;const x=a||Qc;x!==Qc&&typeof m[0]!="number"&&(this.mixKeyframes=bu(JA,Kj(m[0],m[1])),m=[0,100]);const v=x({...i,keyframes:m});u==="mirror"&&(this.mirroredGenerator=x({...i,keyframes:[...m].reverse(),velocity:-f})),v.calculatedDuration===null&&(v.calculatedDuration=q0(v));const{calculatedDuration:b}=v;this.calculatedDuration=b,this.resolvedDuration=b+c,this.totalDuration=this.resolvedDuration*(o+1)-c,this.generator=v}updateTime(i){const a=Math.round(i-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(i,a=!1){const{generator:o,totalDuration:c,mixKeyframes:u,mirroredGenerator:f,resolvedDuration:m,calculatedDuration:x}=this;if(this.startTime===null)return o.next(0);const{delay:v=0,keyframes:b,repeat:w,repeatType:j,repeatDelay:E,type:A,onUpdate:k,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-c/this.speed,this.startTime)),a?this.currentTime=i:this.updateTime(i);const M=this.currentTime-v*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?M<0:M>c;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let T=this.currentTime,D=o;if(w){const H=Math.min(this.currentTime,c)/m;let G=Math.floor(H),ee=H%1;!ee&&H>=1&&(ee=1),ee===1&&G--,G=Math.min(G,w+1),G%2&&(j==="reverse"?(ee=1-ee,E&&(ee-=E/m)):j==="mirror"&&(D=f)),T=xn(0,1,ee)*m}const V=B?{done:!1,value:b[0]}:D.next(T);u&&(V.value=u(V.value));let{done:R}=V;!B&&x!==null&&(R=this.playbackSpeed>=0?this.currentTime>=c:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return Z&&A!==Ix&&(V.value=$0(b,this.options,O,this.speed)),k&&k(V.value),Z&&this.finish(),V}then(i,a){return this.finished.then(i,a)}get duration(){return vi(this.calculatedDuration)}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+vi(i)}get time(){return vi(this.currentTime)}set time(i){i=hn(i),this.currentTime=i,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(i){this.updateTime(Vs.now());const a=this.playbackSpeed!==i;this.playbackSpeed=i,a&&(this.time=vi(this.currentTime))}play(){if(this.isStopped)return;const{driver:i=BA,startTime:a}=this.options;this.driver||(this.driver=i(c=>this.tick(c))),this.options.onPlay?.();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=a??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}attachTimeline(i){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),i.observe(this)}}function eL(t){for(let i=1;i<t.length;i++)t[i]??(t[i]=t[i-1])}const Zr=t=>t*180/Math.PI,Ux=t=>{const i=Zr(Math.atan2(t[1],t[0]));return Vx(i)},tL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ux,rotateZ:Ux,skewX:t=>Zr(Math.atan(t[1])),skewY:t=>Zr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Vx=t=>(t=t%360,t<0&&(t+=360),t),fw=Ux,mw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),sL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mw,scaleY:pw,scale:t=>(mw(t)+pw(t))/2,rotateX:t=>Vx(Zr(Math.atan2(t[6],t[5]))),rotateY:t=>Vx(Zr(Math.atan2(-t[2],t[0]))),rotateZ:fw,rotate:fw,skewX:t=>Zr(Math.atan(t[4])),skewY:t=>Zr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Hx(t){return t.includes("scale")?1:0}function Fx(t,i){if(!t||t==="none")return Hx(i);const a=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,c;if(a)o=sL,c=a;else{const m=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=tL,c=m}if(!c)return Hx(i);const u=o[i],f=c[1].split(",").map(nL);return typeof u=="function"?u(f):f[u]}const iL=(t,i)=>{const{transform:a="none"}=getComputedStyle(t);return Fx(a,i)};function nL(t){return parseFloat(t.trim())}const _l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jl=new Set(_l),xw=t=>t===wl||t===Oe,aL=new Set(["x","y","z"]),rL=_l.filter(t=>!aL.has(t));function oL(t){const i=[];return rL.forEach(a=>{const o=t.getValue(a);o!==void 0&&(i.push([a,o.get()]),o.set(a.startsWith("scale")?1:0))}),i}const Gr={width:({x:t},{paddingLeft:i="0",paddingRight:a="0"})=>t.max-t.min-parseFloat(i)-parseFloat(a),height:({y:t},{paddingTop:i="0",paddingBottom:a="0"})=>t.max-t.min-parseFloat(i)-parseFloat(a),top:(t,{top:i})=>parseFloat(i),left:(t,{left:i})=>parseFloat(i),bottom:({y:t},{top:i})=>parseFloat(i)+(t.max-t.min),right:({x:t},{left:i})=>parseFloat(i)+(t.max-t.min),x:(t,{transform:i})=>Fx(i,"x"),y:(t,{transform:i})=>Fx(i,"y")};Gr.translateX=Gr.x;Gr.translateY=Gr.y;const $r=new Set;let Zx=!1,qx=!1,Gx=!1;function t2(){if(qx){const t=Array.from($r).filter(o=>o.needsMeasurement),i=new Set(t.map(o=>o.element)),a=new Map;i.forEach(o=>{const c=oL(o);c.length&&(a.set(o,c),o.render())}),t.forEach(o=>o.measureInitialState()),i.forEach(o=>{o.render();const c=a.get(o);c&&c.forEach(([u,f])=>{o.getValue(u)?.set(f)})}),t.forEach(o=>o.measureEndState()),t.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}qx=!1,Zx=!1,$r.forEach(t=>t.complete(Gx)),$r.clear()}function s2(){$r.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(qx=!0)})}function lL(){Gx=!0,s2(),t2(),Gx=!1}class K0{constructor(i,a,o,c,u,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...i],this.onComplete=a,this.name=o,this.motionValue=c,this.element=u,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?($r.add(this),Zx||(Zx=!0,ft.read(s2),ft.resolveKeyframes(t2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:a,element:o,motionValue:c}=this;if(i[0]===null){const u=c?.get(),f=i[i.length-1];if(u!==void 0)i[0]=u;else if(o&&a){const m=o.readValue(a,f);m!=null&&(i[0]=m)}i[0]===void 0&&(i[0]=f),c&&u===void 0&&c.set(i[0])}eL(i)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(i=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,i),$r.delete(this)}cancel(){this.state==="scheduled"&&($r.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cL=t=>t.startsWith("--");function uL(t,i,a){cL(i)?t.style.setProperty(i,a):t.style[i]=a}const i2=D0(()=>window.ScrollTimeline!==void 0),dL={};function hL(t,i){const a=D0(t);return()=>dL[i]??a()}const n2=hL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qc=([t,i,a,o])=>`cubic-bezier(${t}, ${i}, ${a}, ${o})`,gw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qc([0,.65,.55,1]),circOut:qc([.55,0,1,.45]),backIn:qc([.31,.01,.66,-.59]),backOut:qc([.33,1.53,.69,.99])};function a2(t,i){if(t)return typeof t=="function"?n2()?Wj(t,i):"ease-out":Uj(t)?qc(t):Array.isArray(t)?t.map(a=>a2(a,i)||gw.easeOut):gw[t]}function fL(t,i,a,{delay:o=0,duration:c=300,repeat:u=0,repeatType:f="loop",ease:m="easeOut",times:x}={},v=void 0){const b={[i]:a};x&&(b.offset=x);const w=a2(m,c);Array.isArray(w)&&(b.easing=w);const j={delay:o,duration:c,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:u+1,direction:f==="reverse"?"alternate":"normal"};return v&&(j.pseudoElement=v),t.animate(b,j)}function r2(t){return typeof t=="function"&&"applyToOptions"in t}function mL({type:t,...i}){return r2(t)&&n2()?t.applyToOptions(i):(i.duration??(i.duration=300),i.ease??(i.ease="easeOut"),i)}class pL extends Y0{constructor(i){if(super(),this.finishedTime=null,this.isStopped=!1,!i)return;const{element:a,name:o,keyframes:c,pseudoElement:u,allowFlatten:f=!1,finalKeyframe:m,onComplete:x}=i;this.isPseudoElement=!!u,this.allowFlatten=f,this.options=i,lu(typeof i.type!="string");const v=mL(i);this.animation=fL(a,o,c,v,u),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const b=$0(c,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(b):uL(a,o,b),this.animation.cancel()}x?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:i}=this;i==="idle"||i==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const i=this.animation.effect?.getComputedTiming?.().duration||0;return vi(Number(i))}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+vi(i)}get time(){return vi(Number(this.animation.currentTime)||0)}set time(i){this.finishedTime=null,this.animation.currentTime=hn(i)}get speed(){return this.animation.playbackRate}set speed(i){i<0&&(this.finishedTime=null),this.animation.playbackRate=i}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(i){this.animation.startTime=i}attachTimeline({timeline:i,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,i&&i2()?(this.animation.timeline=i,qs):a(this)}}const o2={anticipate:Dj,backInOut:Pj,circInOut:Bj};function xL(t){return t in o2}function gL(t){typeof t.ease=="string"&&xL(t.ease)&&(t.ease=o2[t.ease])}const vw=10;class vL extends pL{constructor(i){gL(i),e2(i),super(i),i.startTime&&(this.startTime=i.startTime),this.options=i}updateMotionValue(i){const{motionValue:a,onUpdate:o,onComplete:c,element:u,...f}=this.options;if(!a)return;if(i!==void 0){a.set(i);return}const m=new X0({...f,autoplay:!1}),x=hn(this.finishedTime??this.time);a.setWithVelocity(m.sample(x-vw).value,m.sample(x).value,vw),m.stop()}}const yw=(t,i)=>i==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ga.test(t)||t==="0")&&!t.startsWith("url("));function yL(t){const i=t[0];if(t.length===1)return!0;for(let a=0;a<t.length;a++)if(t[a]!==i)return!0}function bL(t,i,a,o){const c=t[0];if(c===null)return!1;if(i==="display"||i==="visibility")return!0;const u=t[t.length-1],f=yw(c,i),m=yw(u,i);return!f||!m?!1:yL(t)||(a==="spring"||r2(a))&&o}function $x(t){t.duration=0,t.type="keyframes"}const wL=new Set(["opacity","clipPath","filter","transform"]),_L=D0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function jL(t){const{motionValue:i,name:a,repeatDelay:o,repeatType:c,damping:u,type:f}=t;if(!(i?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:x,transformTemplate:v}=i.owner.getProps();return _L()&&a&&wL.has(a)&&(a!=="transform"||!v)&&!x&&!o&&c!=="mirror"&&u!==0&&f!=="inertia"}const NL=40;class SL extends Y0{constructor({autoplay:i=!0,delay:a=0,type:o="keyframes",repeat:c=0,repeatDelay:u=0,repeatType:f="loop",keyframes:m,name:x,motionValue:v,element:b,...w}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Vs.now();const j={autoplay:i,delay:a,type:o,repeat:c,repeatDelay:u,repeatType:f,name:x,motionValue:v,element:b,...w},E=b?.KeyframeResolver||K0;this.keyframeResolver=new E(m,(A,k,O)=>this.onKeyframesResolved(A,k,j,!O),x,v,b),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(i,a,o,c){this.keyframeResolver=void 0;const{name:u,type:f,velocity:m,delay:x,isHandoff:v,onUpdate:b}=o;this.resolvedAt=Vs.now(),bL(i,u,f,m)||((Qn.instantAnimations||!x)&&b?.($0(i,o,a)),i[0]=i[i.length-1],$x(o),o.repeat=0);const j={startTime:c?this.resolvedAt?this.resolvedAt-this.createdAt>NL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...o,keyframes:i},E=!v&&jL(j)?new vL({...j,element:j.motionValue.owner.current}):new X0(j);E.finished.then(()=>this.notifyFinished()).catch(qs),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(i,a){return this.finished.finally(i).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),lL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(i){this.animation.time=i}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(i){this.animation.speed=i}get startTime(){return this.animation.startTime}attachTimeline(i){return this._animation?this.stopTimeline=this.animation.attachTimeline(i):this.pendingTimeline=i,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const CL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kL(t){const i=CL.exec(t);if(!i)return[,];const[,a,o,c]=i;return[`--${a??o}`,c]}function l2(t,i,a=1){const[o,c]=kL(t);if(!o)return;const u=window.getComputedStyle(i).getPropertyValue(o);if(u){const f=u.trim();return Tj(f)?parseFloat(f):f}return V0(c)?l2(c,i,a+1):c}function W0(t,i){return t?.[i]??t?.default??t}const c2=new Set(["width","height","top","left","right","bottom",..._l]),TL={test:t=>t==="auto",parse:t=>t},u2=t=>i=>i.test(t),d2=[wl,Oe,fn,Ba,_A,wA,TL],bw=t=>d2.find(u2(t));function EL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Aj(t):!0}const AL=new Set(["brightness","contrast","saturate","opacity"]);function LL(t){const[i,a]=t.slice(0,-1).split("(");if(i==="drop-shadow")return t;const[o]=a.match(H0)||[];if(!o)return t;const c=a.replace(o,"");let u=AL.has(i)?1:0;return o!==a&&(u*=100),i+"("+u+c+")"}const ML=/\b([a-z-]*)\(.*?\)/gu,Yx={...Ga,getAnimatableNone:t=>{const i=t.match(ML);return i?i.map(LL).join(" "):t}},ww={...wl,transform:Math.round},RL={rotate:Ba,rotateX:Ba,rotateY:Ba,rotateZ:Ba,scale:ah,scaleX:ah,scaleY:ah,scaleZ:ah,skew:Ba,skewX:Ba,skewY:Ba,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:cu,originX:lw,originY:lw,originZ:Oe},Q0={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...RL,zIndex:ww,fillOpacity:cu,strokeOpacity:cu,numOctaves:ww},OL={...Q0,color:Zt,backgroundColor:Zt,outlineColor:Zt,fill:Zt,stroke:Zt,borderColor:Zt,borderTopColor:Zt,borderRightColor:Zt,borderBottomColor:Zt,borderLeftColor:Zt,filter:Yx,WebkitFilter:Yx},h2=t=>OL[t];function f2(t,i){let a=h2(t);return a!==Yx&&(a=Ga),a.getAnimatableNone?a.getAnimatableNone(i):void 0}const PL=new Set(["auto","none","0"]);function DL(t,i,a){let o=0,c;for(;o<t.length&&!c;){const u=t[o];typeof u=="string"&&!PL.has(u)&&uu(u).values.length&&(c=t[o]),o++}if(c&&a)for(const u of i)t[u]=f2(a,c)}class zL extends K0{constructor(i,a,o,c,u){super(i,a,o,c,u,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:a,name:o}=this;if(!a||!a.current)return;super.readKeyframes();for(let x=0;x<i.length;x++){let v=i[x];if(typeof v=="string"&&(v=v.trim(),V0(v))){const b=l2(v,a.current);b!==void 0&&(i[x]=b),x===i.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!c2.has(o)||i.length!==2)return;const[c,u]=i,f=bw(c),m=bw(u);if(f!==m)if(xw(f)&&xw(m))for(let x=0;x<i.length;x++){const v=i[x];typeof v=="string"&&(i[x]=parseFloat(v))}else Gr[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:a}=this,o=[];for(let c=0;c<i.length;c++)(i[c]===null||EL(i[c]))&&o.push(c);o.length&&DL(i,o,a)}measureInitialState(){const{element:i,unresolvedKeyframes:a,name:o}=this;if(!i||!i.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gr[o](i.measureViewportBox(),window.getComputedStyle(i.current)),a[0]=this.measuredOrigin;const c=a[a.length-1];c!==void 0&&i.getValue(o,c).jump(c,!1)}measureEndState(){const{element:i,name:a,unresolvedKeyframes:o}=this;if(!i||!i.current)return;const c=i.getValue(a);c&&c.jump(this.measuredOrigin,!1);const u=o.length-1,f=o[u];o[u]=Gr[a](i.measureViewportBox(),window.getComputedStyle(i.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,x])=>{i.getValue(m).set(x)}),this.resolveNoneKeyframes()}}function m2(t,i,a){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const c=document.querySelectorAll(t);return c?Array.from(c):[]}return Array.from(t)}const p2=(t,i)=>i&&typeof t=="number"?i.transform(t):t;function J0(t){return Ej(t)&&"offsetHeight"in t}const _w=30,BL=t=>!isNaN(parseFloat(t)),Jc={current:void 0};class IL{constructor(i,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{const c=Vs.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(i),this.owner=a.owner}setCurrent(i){this.current=i,this.updatedAt=Vs.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=BL(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,a){this.events[i]||(this.events[i]=new z0);const o=this.events[i].add(a);return i==="change"?()=>{o(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,a){this.passiveEffect=i,this.stopPassiveEffect=a}set(i){this.passiveEffect?this.passiveEffect(i,this.updateAndNotify):this.updateAndNotify(i)}setWithVelocity(i,a,o){this.set(a),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-o}jump(i,a=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(i){this.dependents||(this.dependents=new Set),this.dependents.add(i)}removeDependent(i){this.dependents&&this.dependents.delete(i)}get(){return Jc.current&&Jc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const i=Vs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>_w)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,_w);return B0(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(i){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=i(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zi(t,i){return new IL(t,i)}const{schedule:eg}=Vj(queueMicrotask,!1),Oi={x:!1,y:!1};function x2(){return Oi.x||Oi.y}function UL(t){return t==="x"||t==="y"?Oi[t]?null:(Oi[t]=!0,()=>{Oi[t]=!1}):Oi.x||Oi.y?null:(Oi.x=Oi.y=!0,()=>{Oi.x=Oi.y=!1})}function g2(t,i){const a=m2(t),o=new AbortController,c={passive:!0,...i,signal:o.signal};return[a,c,()=>o.abort()]}function jw(t){return!(t.pointerType==="touch"||x2())}function VL(t,i,a={}){const[o,c,u]=g2(t,a),f=m=>{if(!jw(m))return;const{target:x}=m,v=i(x,m);if(typeof v!="function"||!x)return;const b=w=>{jw(w)&&(v(w),x.removeEventListener("pointerleave",b))};x.addEventListener("pointerleave",b,c)};return o.forEach(m=>{m.addEventListener("pointerenter",f,c)}),u}const v2=(t,i)=>i?t===i?!0:v2(t,i.parentElement):!1,tg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,HL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function FL(t){return HL.has(t.tagName)||t.tabIndex!==-1}const Ah=new WeakSet;function Nw(t){return i=>{i.key==="Enter"&&t(i)}}function Jp(t,i){t.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const ZL=(t,i)=>{const a=t.currentTarget;if(!a)return;const o=Nw(()=>{if(Ah.has(a))return;Jp(a,"down");const c=Nw(()=>{Jp(a,"up")}),u=()=>Jp(a,"cancel");a.addEventListener("keyup",c,i),a.addEventListener("blur",u,i)});a.addEventListener("keydown",o,i),a.addEventListener("blur",()=>a.removeEventListener("keydown",o),i)};function Sw(t){return tg(t)&&!x2()}function qL(t,i,a={}){const[o,c,u]=g2(t,a),f=m=>{const x=m.currentTarget;if(!Sw(m))return;Ah.add(x);const v=i(x,m),b=(E,A)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",j),Ah.has(x)&&Ah.delete(x),Sw(E)&&typeof v=="function"&&v(E,{success:A})},w=E=>{b(E,x===window||x===document||a.useGlobalTarget||v2(x,E.target))},j=E=>{b(E,!1)};window.addEventListener("pointerup",w,c),window.addEventListener("pointercancel",j,c)};return o.forEach(m=>{(a.useGlobalTarget?window:m).addEventListener("pointerdown",f,c),J0(m)&&(m.addEventListener("focus",v=>ZL(v,c)),!FL(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function sg(t){return Ej(t)&&"ownerSVGElement"in t}const Lh=new WeakMap;let Mh;const y2=(t,i,a)=>(o,c)=>c&&c[0]?c[0][t+"Size"]:sg(o)&&"getBBox"in o?o.getBBox()[i]:o[a],GL=y2("inline","width","offsetWidth"),$L=y2("block","height","offsetHeight");function YL({target:t,borderBoxSize:i}){Lh.get(t)?.forEach(a=>{a(t,{get width(){return GL(t,i)},get height(){return $L(t,i)}})})}function XL(t){t.forEach(YL)}function KL(){typeof ResizeObserver>"u"||(Mh=new ResizeObserver(XL))}function WL(t,i){Mh||KL();const a=m2(t);return a.forEach(o=>{let c=Lh.get(o);c||(c=new Set,Lh.set(o,c)),c.add(i),Mh?.observe(o)}),()=>{a.forEach(o=>{const c=Lh.get(o);c?.delete(i),c?.size||Mh?.unobserve(o)})}}const Rh=new Set;let Jo;function QL(){Jo=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Rh.forEach(i=>i(t))},window.addEventListener("resize",Jo)}function JL(t){return Rh.add(t),Jo||QL(),()=>{Rh.delete(t),!Rh.size&&typeof Jo=="function"&&(window.removeEventListener("resize",Jo),Jo=void 0)}}function e6(t,i){return typeof t=="function"?JL(t):WL(t,i)}function b2(t,i){let a;const o=()=>{const{currentTime:c}=i,f=(c===null?0:c.value)/100;a!==f&&t(f),a=f};return ft.preUpdate(o,!0),()=>Hi(o)}function t6(t){return sg(t)&&t.tagName==="svg"}function s6(...t){const i=!Array.isArray(t[0]),a=i?0:-1,o=t[0+a],c=t[1+a],u=t[2+a],f=t[3+a],m=G0(c,u,f);return i?m(o):m}const ys=t=>!!(t&&t.getVelocity),i6=[...d2,Zt,Ga],n6=t=>i6.find(u2(t)),Sf=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Cw(t,i){if(typeof t=="function")return t(i);t!=null&&(t.current=i)}function a6(...t){return i=>{let a=!1;const o=t.map(c=>{const u=Cw(c,i);return!a&&typeof u=="function"&&(a=!0),u});if(a)return()=>{for(let c=0;c<o.length;c++){const u=o[c];typeof u=="function"?u():Cw(t[c],null)}}}}function r6(...t){return N.useCallback(a6(...t),t)}class o6 extends N.Component{getSnapshotBeforeUpdate(i){const a=this.props.childRef.current;if(a&&i.isPresent&&!this.props.isPresent){const o=a.offsetParent,c=J0(o)&&o.offsetWidth||0,u=this.props.sizeRef.current;u.height=a.offsetHeight||0,u.width=a.offsetWidth||0,u.top=a.offsetTop,u.left=a.offsetLeft,u.right=c-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function l6({children:t,isPresent:i,anchorX:a,root:o}){const c=N.useId(),u=N.useRef(null),f=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=N.useContext(Sf),x=r6(u,t?.ref);return N.useInsertionEffect(()=>{const{width:v,height:b,top:w,left:j,right:E}=f.current;if(i||!u.current||!v||!b)return;const A=a==="left"?`left: ${j}`:`right: ${E}`;u.current.dataset.motionPopId=c;const k=document.createElement("style");m&&(k.nonce=m);const O=o??document.head;return O.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${b}px !important;
            ${A}px !important;
            top: ${w}px !important;
          }
        `),()=>{O.contains(k)&&O.removeChild(k)}},[i]),e.jsx(o6,{isPresent:i,childRef:u,sizeRef:f,children:N.cloneElement(t,{ref:x})})}const c6=({children:t,initial:i,isPresent:a,onExitComplete:o,custom:c,presenceAffectsLayout:u,mode:f,anchorX:m,root:x})=>{const v=bl(u6),b=N.useId();let w=!0,j=N.useMemo(()=>(w=!1,{id:b,initial:i,isPresent:a,custom:c,onExitComplete:E=>{v.set(E,!0);for(const A of v.values())if(!A)return;o&&o()},register:E=>(v.set(E,!1),()=>v.delete(E))}),[a,v,o]);return u&&w&&(j={...j}),N.useMemo(()=>{v.forEach((E,A)=>v.set(A,!1))},[a]),N.useEffect(()=>{!a&&!v.size&&o&&o()},[a]),f==="popLayout"&&(t=e.jsx(l6,{isPresent:a,anchorX:m,root:x,children:t})),e.jsx(Nf.Provider,{value:j,children:t})};function u6(){return new Map}function w2(t=!0){const i=N.useContext(Nf);if(i===null)return[!0,null];const{isPresent:a,onExitComplete:o,register:c}=i,u=N.useId();N.useEffect(()=>{if(t)return c(u)},[t]);const f=N.useCallback(()=>t&&o&&o(u),[u,o,t]);return!a&&o?[!1,f]:[!0]}const rh=t=>t.key||"";function kw(t){const i=[];return N.Children.forEach(t,a=>{N.isValidElement(a)&&i.push(a)}),i}const ex=({children:t,custom:i,initial:a=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:u="sync",propagate:f=!1,anchorX:m="left",root:x})=>{const[v,b]=w2(f),w=N.useMemo(()=>kw(t),[t]),j=f&&!v?[]:w.map(rh),E=N.useRef(!0),A=N.useRef(w),k=bl(()=>new Map),[O,M]=N.useState(w),[B,T]=N.useState(w);jf(()=>{E.current=!1,A.current=w;for(let R=0;R<B.length;R++){const Z=rh(B[R]);j.includes(Z)?k.delete(Z):k.get(Z)!==!0&&k.set(Z,!1)}},[B,j.length,j.join("-")]);const D=[];if(w!==O){let R=[...w];for(let Z=0;Z<B.length;Z++){const H=B[Z],G=rh(H);j.includes(G)||(R.splice(Z,0,H),D.push(H))}return u==="wait"&&D.length&&(R=D),T(kw(R)),M(w),null}const{forceRender:V}=N.useContext(M0);return e.jsx(e.Fragment,{children:B.map(R=>{const Z=rh(R),H=f&&!v?!1:w===B||j.includes(Z),G=()=>{if(k.has(Z))k.set(Z,!0);else return;let ee=!0;k.forEach(Y=>{Y||(ee=!1)}),ee&&(V?.(),T(A.current),f&&b?.(),o&&o())};return e.jsx(c6,{isPresent:H,initial:!E.current||a?void 0:!1,custom:i,presenceAffectsLayout:c,mode:u,root:x,onExitComplete:H?void 0:G,anchorX:m,children:R},Z)})})},_2=N.createContext({strict:!1}),Tw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dl={};for(const t in Tw)dl[t]={isEnabled:i=>Tw[t].some(a=>!!i[a])};function d6(t){for(const i in t)dl[i]={...dl[i],...t[i]}}const h6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||h6.has(t)}let j2=t=>!tf(t);function f6(t){typeof t=="function"&&(j2=i=>i.startsWith("on")?!tf(i):t(i))}try{f6(require("@emotion/is-prop-valid").default)}catch{}function m6(t,i,a){const o={};for(const c in t)c==="values"&&typeof t.values=="object"||(j2(c)||a===!0&&tf(c)||!i&&!tf(c)||t.draggable&&c.startsWith("onDrag"))&&(o[c]=t[c]);return o}const Cf=N.createContext({});function kf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function du(t){return typeof t=="string"||Array.isArray(t)}const ig=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ng=["initial",...ig];function Tf(t){return kf(t.animate)||ng.some(i=>du(t[i]))}function N2(t){return!!(Tf(t)||t.variants)}function p6(t,i){if(Tf(t)){const{initial:a,animate:o}=t;return{initial:a===!1||du(a)?a:void 0,animate:du(o)?o:void 0}}return t.inherit!==!1?i:{}}function x6(t){const{initial:i,animate:a}=p6(t,N.useContext(Cf));return N.useMemo(()=>({initial:i,animate:a}),[Ew(i),Ew(a)])}function Ew(t){return Array.isArray(t)?t.join(" "):t}function Aw(t,i){return i.max===i.min?0:t/(i.max-i.min)*100}const zc={correct:(t,i)=>{if(!i.target)return t;if(typeof t=="string")if(Oe.test(t))t=parseFloat(t);else return t;const a=Aw(t,i.target.x),o=Aw(t,i.target.y);return`${a}% ${o}%`}},g6={correct:(t,{treeScale:i,projectionDelta:a})=>{const o=t,c=Ga.parse(t);if(c.length>5)return o;const u=Ga.createTransformer(t),f=typeof c[0]!="number"?1:0,m=a.x.scale*i.x,x=a.y.scale*i.y;c[0+f]/=m,c[1+f]/=x;const v=Tt(m,x,.5);return typeof c[2+f]=="number"&&(c[2+f]/=v),typeof c[3+f]=="number"&&(c[3+f]/=v),u(c)}},Xx={borderRadius:{...zc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zc,borderTopRightRadius:zc,borderBottomLeftRadius:zc,borderBottomRightRadius:zc,boxShadow:g6};function S2(t,{layout:i,layoutId:a}){return jl.has(t)||t.startsWith("origin")||(i||a!==void 0)&&(!!Xx[t]||t==="opacity")}const v6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},y6=_l.length;function b6(t,i,a){let o="",c=!0;for(let u=0;u<y6;u++){const f=_l[u],m=t[f];if(m===void 0)continue;let x=!0;if(typeof m=="number"?x=m===(f.startsWith("scale")?1:0):x=parseFloat(m)===0,!x||a){const v=p2(m,Q0[f]);if(!x){c=!1;const b=v6[f]||f;o+=`${b}(${v}) `}a&&(i[f]=v)}}return o=o.trim(),a?o=a(i,c?"":o):c&&(o="none"),o}function ag(t,i,a){const{style:o,vars:c,transformOrigin:u}=t;let f=!1,m=!1;for(const x in i){const v=i[x];if(jl.has(x)){f=!0;continue}else if(Fj(x)){c[x]=v;continue}else{const b=p2(v,Q0[x]);x.startsWith("origin")?(m=!0,u[x]=b):o[x]=b}}if(i.transform||(f||a?o.transform=b6(i,t.transform,a):o.transform&&(o.transform="none")),m){const{originX:x="50%",originY:v="50%",originZ:b=0}=u;o.transformOrigin=`${x} ${v} ${b}`}}const rg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function C2(t,i,a){for(const o in i)!ys(i[o])&&!S2(o,a)&&(t[o]=i[o])}function w6({transformTemplate:t},i){return N.useMemo(()=>{const a=rg();return ag(a,i,t),Object.assign({},a.vars,a.style)},[i])}function _6(t,i){const a=t.style||{},o={};return C2(o,a,t),Object.assign(o,w6(t,i)),o}function j6(t,i){const a={},o=_6(t,i);return t.drag&&t.dragListener!==!1&&(a.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(a.tabIndex=0),a.style=o,a}const N6={offset:"stroke-dashoffset",array:"stroke-dasharray"},S6={offset:"strokeDashoffset",array:"strokeDasharray"};function C6(t,i,a=1,o=0,c=!0){t.pathLength=1;const u=c?N6:S6;t[u.offset]=Oe.transform(-o);const f=Oe.transform(i),m=Oe.transform(a);t[u.array]=`${f} ${m}`}function k2(t,{attrX:i,attrY:a,attrScale:o,pathLength:c,pathSpacing:u=1,pathOffset:f=0,...m},x,v,b){if(ag(t,m,v),x){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:j}=t;w.transform&&(j.transform=w.transform,delete w.transform),(j.transform||w.transformOrigin)&&(j.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),j.transform&&(j.transformBox=b?.transformBox??"fill-box",delete w.transformBox),i!==void 0&&(w.x=i),a!==void 0&&(w.y=a),o!==void 0&&(w.scale=o),c!==void 0&&C6(w,c,u,f,!1)}const T2=()=>({...rg(),attrs:{}}),E2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function k6(t,i,a,o){const c=N.useMemo(()=>{const u=T2();return k2(u,i,E2(o),t.transformTemplate,t.style),{...u.attrs,style:{...u.style}}},[i]);if(t.style){const u={};C2(u,t.style,t),c.style={...u,...c.style}}return c}const T6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function og(t){return typeof t!="string"||t.includes("-")?!1:!!(T6.indexOf(t)>-1||/[A-Z]/u.test(t))}function E6(t,i,a,{latestValues:o},c,u=!1){const m=(og(t)?k6:j6)(i,o,c,t),x=m6(i,typeof t=="string",u),v=t!==N.Fragment?{...x,...m,ref:a}:{},{children:b}=i,w=N.useMemo(()=>ys(b)?b.get():b,[b]);return N.createElement(t,{...v,children:w})}function Lw(t){const i=[{},{}];return t?.values.forEach((a,o)=>{i[0][o]=a.get(),i[1][o]=a.getVelocity()}),i}function lg(t,i,a,o){if(typeof i=="function"){const[c,u]=Lw(o);i=i(a!==void 0?a:t.custom,c,u)}if(typeof i=="string"&&(i=t.variants&&t.variants[i]),typeof i=="function"){const[c,u]=Lw(o);i=i(a!==void 0?a:t.custom,c,u)}return i}function Oh(t){return ys(t)?t.get():t}function A6({scrapeMotionValuesFromProps:t,createRenderState:i},a,o,c){return{latestValues:L6(a,o,c,t),renderState:i()}}function L6(t,i,a,o){const c={},u=o(t,{});for(const j in u)c[j]=Oh(u[j]);let{initial:f,animate:m}=t;const x=Tf(t),v=N2(t);i&&v&&!x&&t.inherit!==!1&&(f===void 0&&(f=i.initial),m===void 0&&(m=i.animate));let b=a?a.initial===!1:!1;b=b||f===!1;const w=b?m:f;if(w&&typeof w!="boolean"&&!kf(w)){const j=Array.isArray(w)?w:[w];for(let E=0;E<j.length;E++){const A=lg(t,j[E]);if(A){const{transitionEnd:k,transition:O,...M}=A;for(const B in M){let T=M[B];if(Array.isArray(T)){const D=b?T.length-1:0;T=T[D]}T!==null&&(c[B]=T)}for(const B in k)c[B]=k[B]}}}return c}const A2=t=>(i,a)=>{const o=N.useContext(Cf),c=N.useContext(Nf),u=()=>A6(t,i,o,c);return a?u():bl(u)};function cg(t,i,a){const{style:o}=t,c={};for(const u in o)(ys(o[u])||i.style&&ys(i.style[u])||S2(u,t)||a?.getValue(u)?.liveStyle!==void 0)&&(c[u]=o[u]);return c}const M6=A2({scrapeMotionValuesFromProps:cg,createRenderState:rg});function L2(t,i,a){const o=cg(t,i,a);for(const c in t)if(ys(t[c])||ys(i[c])){const u=_l.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;o[u]=t[c]}return o}const R6=A2({scrapeMotionValuesFromProps:L2,createRenderState:T2}),O6=Symbol.for("motionComponentSymbol");function el(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function P6(t,i,a){return N.useCallback(o=>{o&&t.onMount&&t.onMount(o),i&&(o?i.mount(o):i.unmount()),a&&(typeof a=="function"?a(o):el(a)&&(a.current=o))},[i])}const ug=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),D6="framerAppearId",M2="data-"+ug(D6),R2=N.createContext({});function z6(t,i,a,o,c){const{visualElement:u}=N.useContext(Cf),f=N.useContext(_2),m=N.useContext(Nf),x=N.useContext(Sf).reducedMotion,v=N.useRef(null);o=o||f.renderer,!v.current&&o&&(v.current=o(t,{visualState:i,parent:u,props:a,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:x}));const b=v.current,w=N.useContext(R2);b&&!b.projection&&c&&(b.type==="html"||b.type==="svg")&&B6(v.current,a,c,w);const j=N.useRef(!1);N.useInsertionEffect(()=>{b&&j.current&&b.update(a,m)});const E=a[M2],A=N.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return jf(()=>{b&&(j.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),A.current&&b.animationState&&b.animationState.animateChanges())}),N.useEffect(()=>{b&&(!A.current&&b.animationState&&b.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),A.current=!1),b.enteringChildren=void 0)}),b}function B6(t,i,a,o){const{layoutId:c,layout:u,drag:f,dragConstraints:m,layoutScroll:x,layoutRoot:v,layoutCrossfade:b}=i;t.projection=new a(t.latestValues,i["data-framer-portal-id"]?void 0:O2(t.parent)),t.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!f||m&&el(m),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,crossfade:b,layoutScroll:x,layoutRoot:v})}function O2(t){if(t)return t.options.allowProjection!==!1?t.projection:O2(t.parent)}function tx(t,{forwardMotionProps:i=!1}={},a,o){a&&d6(a);const c=og(t)?R6:M6;function u(m,x){let v;const b={...N.useContext(Sf),...m,layoutId:I6(m)},{isStatic:w}=b,j=x6(m),E=c(m,w);if(!w&&R0){U6();const A=V6(b);v=A.MeasureLayout,j.visualElement=z6(t,E,b,o,A.ProjectionNode)}return e.jsxs(Cf.Provider,{value:j,children:[v&&j.visualElement?e.jsx(v,{visualElement:j.visualElement,...b}):null,E6(t,m,P6(E,j.visualElement,x),E,w,i)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=N.forwardRef(u);return f[O6]=t,f}function I6({layoutId:t}){const i=N.useContext(M0).id;return i&&t!==void 0?i+"-"+t:t}function U6(t,i){N.useContext(_2).strict}function V6(t){const{drag:i,layout:a}=dl;if(!i&&!a)return{};const o={...i,...a};return{MeasureLayout:i?.isEnabled(t)||a?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function H6(t,i){if(typeof Proxy>"u")return tx;const a=new Map,o=(u,f)=>tx(u,f,t,i),c=(u,f)=>o(u,f);return new Proxy(c,{get:(u,f)=>f==="create"?o:(a.has(f)||a.set(f,tx(f,void 0,t,i)),a.get(f))})}function P2({top:t,left:i,right:a,bottom:o}){return{x:{min:i,max:a},y:{min:t,max:o}}}function F6({x:t,y:i}){return{top:i.min,right:t.max,bottom:i.max,left:t.min}}function Z6(t,i){if(!i)return t;const a=i({x:t.left,y:t.top}),o=i({x:t.right,y:t.bottom});return{top:a.y,left:a.x,bottom:o.y,right:o.x}}function sx(t){return t===void 0||t===1}function Kx({scale:t,scaleX:i,scaleY:a}){return!sx(t)||!sx(i)||!sx(a)}function Vr(t){return Kx(t)||D2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function D2(t){return Mw(t.x)||Mw(t.y)}function Mw(t){return t&&t!=="0%"}function sf(t,i,a){const o=t-a,c=i*o;return a+c}function Rw(t,i,a,o,c){return c!==void 0&&(t=sf(t,c,o)),sf(t,a,o)+i}function Wx(t,i=0,a=1,o,c){t.min=Rw(t.min,i,a,o,c),t.max=Rw(t.max,i,a,o,c)}function z2(t,{x:i,y:a}){Wx(t.x,i.translate,i.scale,i.originPoint),Wx(t.y,a.translate,a.scale,a.originPoint)}const Ow=.999999999999,Pw=1.0000000000001;function q6(t,i,a,o=!1){const c=a.length;if(!c)return;i.x=i.y=1;let u,f;for(let m=0;m<c;m++){u=a[m],f=u.projectionDelta;const{visualElement:x}=u.options;x&&x.props.style&&x.props.style.display==="contents"||(o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&sl(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),f&&(i.x*=f.x.scale,i.y*=f.y.scale,z2(t,f)),o&&Vr(u.latestValues)&&sl(t,u.latestValues))}i.x<Pw&&i.x>Ow&&(i.x=1),i.y<Pw&&i.y>Ow&&(i.y=1)}function tl(t,i){t.min=t.min+i,t.max=t.max+i}function Dw(t,i,a,o,c=.5){const u=Tt(t.min,t.max,c);Wx(t,i,a,u,o)}function sl(t,i){Dw(t.x,i.x,i.scaleX,i.scale,i.originX),Dw(t.y,i.y,i.scaleY,i.scale,i.originY)}function B2(t,i){return P2(Z6(t.getBoundingClientRect(),i))}function G6(t,i,a){const o=B2(t,a),{scroll:c}=i;return c&&(tl(o.x,c.offset.x),tl(o.y,c.offset.y)),o}const zw=()=>({translate:0,scale:1,origin:0,originPoint:0}),il=()=>({x:zw(),y:zw()}),Bw=()=>({min:0,max:0}),Qt=()=>({x:Bw(),y:Bw()}),Qx={current:null},I2={current:!1};function $6(){if(I2.current=!0,!!R0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),i=()=>Qx.current=t.matches;t.addEventListener("change",i),i()}else Qx.current=!1}const Y6=new WeakMap;function X6(t,i,a){for(const o in i){const c=i[o],u=a[o];if(ys(c))t.addValue(o,c);else if(ys(u))t.addValue(o,zi(c,{owner:t}));else if(u!==c)if(t.hasValue(o)){const f=t.getValue(o);f.liveStyle===!0?f.jump(c):f.hasAnimated||f.set(c)}else{const f=t.getStaticValue(o);t.addValue(o,zi(f!==void 0?f:c,{owner:t}))}}for(const o in a)i[o]===void 0&&t.removeValue(o);return i}const Iw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class K6{scrapeMotionValuesFromProps(i,a,o){return{}}constructor({parent:i,props:a,presenceContext:o,reducedMotionConfig:c,blockInitialAnimation:u,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=K0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const j=Vs.now();this.renderScheduledAt<j&&(this.renderScheduledAt=j,ft.render(this.render,!1,!0))};const{latestValues:x,renderState:v}=f;this.latestValues=x,this.baseTarget={...x},this.initialValues=a.initial?{...x}:{},this.renderState=v,this.parent=i,this.props=a,this.presenceContext=o,this.depth=i?i.depth+1:0,this.reducedMotionConfig=c,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Tf(a),this.isVariantNode=N2(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:b,...w}=this.scrapeMotionValuesFromProps(a,{},this);for(const j in w){const E=w[j];x[j]!==void 0&&ys(E)&&E.set(x[j])}}mount(i){this.current=i,Y6.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,o)=>this.bindToMotionValue(o,a)),I2.current||$6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qx.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Hi(this.notifyUpdate),Hi(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const a=this.features[i];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(i){this.children.add(i),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(i)}removeChild(i){this.children.delete(i),this.enteringChildren&&this.enteringChildren.delete(i)}bindToMotionValue(i,a){this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)();const o=jl.has(i);o&&this.onBindTransform&&this.onBindTransform();const c=a.on("change",f=>{this.latestValues[i]=f,this.props.onUpdate&&ft.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,i,a)),this.valueSubscriptions.set(i,()=>{c(),u&&u(),a.owner&&a.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in dl){const a=dl[i];if(!a)continue;const{isEnabled:o,Feature:c}=a;if(!this.features[i]&&c&&o(this.props)&&(this.features[i]=new c(this)),this.features[i]){const u=this.features[i];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,a){this.latestValues[i]=a}update(i,a){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let o=0;o<Iw.length;o++){const c=Iw[o];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const u="on"+c,f=i[u];f&&(this.propEventSubscriptions[c]=this.on(c,f))}this.prevMotionValues=X6(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(i),()=>a.variantChildren.delete(i)}addValue(i,a){const o=this.values.get(i);a!==o&&(o&&this.removeValue(i),this.bindToMotionValue(i,a),this.values.set(i,a),this.latestValues[i]=a.get())}removeValue(i){this.values.delete(i);const a=this.valueSubscriptions.get(i);a&&(a(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,a){if(this.props.values&&this.props.values[i])return this.props.values[i];let o=this.values.get(i);return o===void 0&&a!==void 0&&(o=zi(a===null?void 0:a,{owner:this}),this.addValue(i,o)),o}readValue(i,a){let o=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:this.getBaseTargetFromProps(this.props,i)??this.readValueFromInstance(this.current,i,this.options);return o!=null&&(typeof o=="string"&&(Tj(o)||Aj(o))?o=parseFloat(o):!n6(o)&&Ga.test(a)&&(o=f2(i,a)),this.setBaseTarget(i,ys(o)?o.get():o)),ys(o)?o.get():o}setBaseTarget(i,a){this.baseTarget[i]=a}getBaseTarget(i){const{initial:a}=this.props;let o;if(typeof a=="string"||typeof a=="object"){const u=lg(this.props,a,this.presenceContext?.custom);u&&(o=u[i])}if(a&&o!==void 0)return o;const c=this.getBaseTargetFromProps(this.props,i);return c!==void 0&&!ys(c)?c:this.initialValues[i]!==void 0&&o===void 0?void 0:this.baseTarget[i]}on(i,a){return this.events[i]||(this.events[i]=new z0),this.events[i].add(a)}notify(i,...a){this.events[i]&&this.events[i].notify(...a)}scheduleRenderMicrotask(){eg.render(this.render)}}class U2 extends K6{constructor(){super(...arguments),this.KeyframeResolver=zL}sortInstanceNodePosition(i,a){return i.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(i,a){return i.style?i.style[a]:void 0}removeValueFromRenderState(i,{vars:a,style:o}){delete a[i],delete o[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;ys(i)&&(this.childSubscription=i.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function V2(t,{style:i,vars:a},o,c){const u=t.style;let f;for(f in i)u[f]=i[f];c?.applyProjectionStyles(u,o);for(f in a)u.setProperty(f,a[f])}function W6(t){return window.getComputedStyle(t)}class Q6 extends U2{constructor(){super(...arguments),this.type="html",this.renderInstance=V2}readValueFromInstance(i,a){if(jl.has(a))return this.projection?.isProjecting?Hx(a):iL(i,a);{const o=W6(i),c=(Fj(a)?o.getPropertyValue(a):o[a])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(i,{transformPagePoint:a}){return B2(i,a)}build(i,a,o){ag(i,a,o.transformTemplate)}scrapeMotionValuesFromProps(i,a,o){return cg(i,a,o)}}const H2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function J6(t,i,a,o){V2(t,i,void 0,o);for(const c in i.attrs)t.setAttribute(H2.has(c)?c:ug(c),i.attrs[c])}class eM extends U2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qt}getBaseTargetFromProps(i,a){return i[a]}readValueFromInstance(i,a){if(jl.has(a)){const o=h2(a);return o&&o.default||0}return a=H2.has(a)?a:ug(a),i.getAttribute(a)}scrapeMotionValuesFromProps(i,a,o){return L2(i,a,o)}build(i,a,o){k2(i,a,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(i,a,o,c){J6(i,a,o,c)}mount(i){this.isSVGTag=E2(i.tagName),super.mount(i)}}const tM=(t,i)=>og(t)?new eM(i):new Q6(i,{allowProjection:t!==N.Fragment});function al(t,i,a){const o=t.getProps();return lg(o,i,a!==void 0?a:o.custom,t)}const Jx=t=>Array.isArray(t);function sM(t,i,a){t.hasValue(i)?t.getValue(i).set(a):t.addValue(i,zi(a))}function iM(t){return Jx(t)?t[t.length-1]||0:t}function nM(t,i){const a=al(t,i);let{transitionEnd:o={},transition:c={},...u}=a||{};u={...u,...o};for(const f in u){const m=iM(u[f]);sM(t,f,m)}}function aM(t){return!!(ys(t)&&t.add)}function e0(t,i){const a=t.getValue("willChange");if(aM(a))return a.add(i);if(!a&&Qn.WillChange){const o=new Qn.WillChange("auto");t.addValue("willChange",o),o.add(i)}}function F2(t){return t.props[M2]}const rM=t=>t!==null;function oM(t,{repeat:i,repeatType:a="loop"},o){const c=t.filter(rM),u=i&&a!=="loop"&&i%2===1?0:c.length-1;return c[u]}const lM={type:"spring",stiffness:500,damping:25,restSpeed:10},cM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),uM={type:"keyframes",duration:.8},dM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hM=(t,{keyframes:i})=>i.length>2?uM:jl.has(t)?t.startsWith("scale")?cM(i[1]):lM:dM;function fM({when:t,delay:i,delayChildren:a,staggerChildren:o,staggerDirection:c,repeat:u,repeatType:f,repeatDelay:m,from:x,elapsed:v,...b}){return!!Object.keys(b).length}const dg=(t,i,a,o={},c,u)=>f=>{const m=W0(o,t)||{},x=m.delay||o.delay||0;let{elapsed:v=0}=o;v=v-hn(x);const b={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:i.getVelocity(),...m,delay:-v,onUpdate:j=>{i.set(j),m.onUpdate&&m.onUpdate(j)},onComplete:()=>{f(),m.onComplete&&m.onComplete()},name:t,motionValue:i,element:u?void 0:c};fM(m)||Object.assign(b,hM(t,b)),b.duration&&(b.duration=hn(b.duration)),b.repeatDelay&&(b.repeatDelay=hn(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let w=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&($x(b),b.delay===0&&(w=!0)),(Qn.instantAnimations||Qn.skipAnimations)&&(w=!0,$x(b),b.delay=0),b.allowFlatten=!m.type&&!m.ease,w&&!u&&i.get()!==void 0){const j=oM(b.keyframes,m);if(j!==void 0){ft.update(()=>{b.onUpdate(j),b.onComplete()});return}}return m.isSync?new X0(b):new SL(b)};function mM({protectedKeys:t,needsAnimating:i},a){const o=t.hasOwnProperty(a)&&i[a]!==!0;return i[a]=!1,o}function Z2(t,i,{delay:a=0,transitionOverride:o,type:c}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:f,...m}=i;o&&(u=o);const x=[],v=c&&t.animationState&&t.animationState.getState()[c];for(const b in m){const w=t.getValue(b,t.latestValues[b]??null),j=m[b];if(j===void 0||v&&mM(v,b))continue;const E={delay:a,...W0(u||{},b)},A=w.get();if(A!==void 0&&!w.isAnimating&&!Array.isArray(j)&&j===A&&!E.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const M=F2(t);if(M){const B=window.MotionHandoffAnimation(M,b,ft);B!==null&&(E.startTime=B,k=!0)}}e0(t,b),w.start(dg(b,w,j,t.shouldReduceMotion&&c2.has(b)?{type:!1}:E,t,k));const O=w.animation;O&&x.push(O)}return f&&Promise.all(x).then(()=>{ft.update(()=>{f&&nM(t,f)})}),x}function q2(t,i,a,o=0,c=1){const u=Array.from(t).sort((v,b)=>v.sortNodePosition(b)).indexOf(i),f=t.size,m=(f-1)*o;return typeof a=="function"?a(u,f):c===1?u*o:m-u*o}function t0(t,i,a={}){const o=al(t,i,a.type==="exit"?t.presenceContext?.custom:void 0);let{transition:c=t.getDefaultTransition()||{}}=o||{};a.transitionOverride&&(c=a.transitionOverride);const u=o?()=>Promise.all(Z2(t,o,a)):()=>Promise.resolve(),f=t.variantChildren&&t.variantChildren.size?(x=0)=>{const{delayChildren:v=0,staggerChildren:b,staggerDirection:w}=c;return pM(t,i,x,v,b,w,a)}:()=>Promise.resolve(),{when:m}=c;if(m){const[x,v]=m==="beforeChildren"?[u,f]:[f,u];return x().then(()=>v())}else return Promise.all([u(),f(a.delay)])}function pM(t,i,a=0,o=0,c=0,u=1,f){const m=[];for(const x of t.variantChildren)x.notify("AnimationStart",i),m.push(t0(x,i,{...f,delay:a+(typeof o=="function"?0:o)+q2(t.variantChildren,x,o,c,u)}).then(()=>x.notify("AnimationComplete",i)));return Promise.all(m)}function xM(t,i,a={}){t.notify("AnimationStart",i);let o;if(Array.isArray(i)){const c=i.map(u=>t0(t,u,a));o=Promise.all(c)}else if(typeof i=="string")o=t0(t,i,a);else{const c=typeof i=="function"?al(t,i,a.custom):i;o=Promise.all(Z2(t,c,a))}return o.then(()=>{t.notify("AnimationComplete",i)})}function G2(t,i){if(!Array.isArray(i))return!1;const a=i.length;if(a!==t.length)return!1;for(let o=0;o<a;o++)if(i[o]!==t[o])return!1;return!0}const gM=ng.length;function $2(t){if(!t)return;if(!t.isControllingVariants){const a=t.parent?$2(t.parent)||{}:{};return t.props.initial!==void 0&&(a.initial=t.props.initial),a}const i={};for(let a=0;a<gM;a++){const o=ng[a],c=t.props[o];(du(c)||c===!1)&&(i[o]=c)}return i}const vM=[...ig].reverse(),yM=ig.length;function bM(t){return i=>Promise.all(i.map(({animation:a,options:o})=>xM(t,a,o)))}function wM(t){let i=bM(t),a=Uw(),o=!0;const c=x=>(v,b)=>{const w=al(t,b,x==="exit"?t.presenceContext?.custom:void 0);if(w){const{transition:j,transitionEnd:E,...A}=w;v={...v,...A,...E}}return v};function u(x){i=x(t)}function f(x){const{props:v}=t,b=$2(t.parent)||{},w=[],j=new Set;let E={},A=1/0;for(let O=0;O<yM;O++){const M=vM[O],B=a[M],T=v[M]!==void 0?v[M]:b[M],D=du(T),V=M===x?B.isActive:null;V===!1&&(A=O);let R=T===b[M]&&T!==v[M]&&D;if(R&&o&&t.manuallyAnimateOnMount&&(R=!1),B.protectedKeys={...E},!B.isActive&&V===null||!T&&!B.prevProp||kf(T)||typeof T=="boolean")continue;const Z=_M(B.prevProp,T);let H=Z||M===x&&B.isActive&&!R&&D||O>A&&D,G=!1;const ee=Array.isArray(T)?T:[T];let Y=ee.reduce(c(M),{});V===!1&&(Y={});const{prevResolvedValues:K={}}=B,le={...K,...Y},F=ne=>{H=!0,j.has(ne)&&(G=!0,j.delete(ne)),B.needsAnimating[ne]=!0;const J=t.getValue(ne);J&&(J.liveStyle=!1)};for(const ne in le){const J=Y[ne],ae=K[ne];if(E.hasOwnProperty(ne))continue;let te=!1;Jx(J)&&Jx(ae)?te=!G2(J,ae):te=J!==ae,te?J!=null?F(ne):j.add(ne):J!==void 0&&j.has(ne)?F(ne):B.protectedKeys[ne]=!0}B.prevProp=T,B.prevResolvedValues=Y,B.isActive&&(E={...E,...Y}),o&&t.blockInitialAnimation&&(H=!1);const ve=R&&Z;H&&(!ve||G)&&w.push(...ee.map(ne=>{const J={type:M};if(typeof ne=="string"&&o&&!ve&&t.manuallyAnimateOnMount&&t.parent){const{parent:ae}=t,te=al(ae,ne);if(ae.enteringChildren&&te){const{delayChildren:I}=te.transition||{};J.delay=q2(ae.enteringChildren,t,I)}}return{animation:ne,options:J}}))}if(j.size){const O={};if(typeof v.initial!="boolean"){const M=al(t,Array.isArray(v.initial)?v.initial[0]:v.initial);M&&M.transition&&(O.transition=M.transition)}j.forEach(M=>{const B=t.getBaseTarget(M),T=t.getValue(M);T&&(T.liveStyle=!0),O[M]=B??null}),w.push({animation:O})}let k=!!w.length;return o&&(v.initial===!1||v.initial===v.animate)&&!t.manuallyAnimateOnMount&&(k=!1),o=!1,k?i(w):Promise.resolve()}function m(x,v){if(a[x].isActive===v)return Promise.resolve();t.variantChildren?.forEach(w=>w.animationState?.setActive(x,v)),a[x].isActive=v;const b=f(x);for(const w in a)a[w].protectedKeys={};return b}return{animateChanges:f,setActive:m,setAnimateFunction:u,getState:()=>a,reset:()=>{a=Uw()}}}function _M(t,i){return typeof i=="string"?i!==t:Array.isArray(i)?!G2(i,t):!1}function Br(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Uw(){return{animate:Br(!0),whileInView:Br(),whileHover:Br(),whileTap:Br(),whileDrag:Br(),whileFocus:Br(),exit:Br()}}class $a{constructor(i){this.isMounted=!1,this.node=i}update(){}}class jM extends $a{constructor(i){super(i),i.animationState||(i.animationState=wM(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();kf(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:a}=this.node.prevProps||{};i!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let NM=0;class SM extends $a{constructor(){super(...arguments),this.id=NM++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:a}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===o)return;const c=this.node.animationState.setActive("exit",!i);a&&!i&&c.then(()=>{a(this.id)})}mount(){const{register:i,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),i&&(this.unmount=i(this.id))}unmount(){}}const CM={animation:{Feature:jM},exit:{Feature:SM}};function hu(t,i,a,o={passive:!0}){return t.addEventListener(i,a,o),()=>t.removeEventListener(i,a)}function ju(t){return{point:{x:t.pageX,y:t.pageY}}}const kM=t=>i=>tg(i)&&t(i,ju(i));function eu(t,i,a,o){return hu(t,i,kM(a),o)}const Y2=1e-4,TM=1-Y2,EM=1+Y2,X2=.01,AM=0-X2,LM=0+X2;function Cs(t){return t.max-t.min}function MM(t,i,a){return Math.abs(t-i)<=a}function Vw(t,i,a,o=.5){t.origin=o,t.originPoint=Tt(i.min,i.max,t.origin),t.scale=Cs(a)/Cs(i),t.translate=Tt(a.min,a.max,t.origin)-t.originPoint,(t.scale>=TM&&t.scale<=EM||isNaN(t.scale))&&(t.scale=1),(t.translate>=AM&&t.translate<=LM||isNaN(t.translate))&&(t.translate=0)}function tu(t,i,a,o){Vw(t.x,i.x,a.x,o?o.originX:void 0),Vw(t.y,i.y,a.y,o?o.originY:void 0)}function Hw(t,i,a){t.min=a.min+i.min,t.max=t.min+Cs(i)}function RM(t,i,a){Hw(t.x,i.x,a.x),Hw(t.y,i.y,a.y)}function Fw(t,i,a){t.min=i.min-a.min,t.max=t.min+Cs(i)}function nf(t,i,a){Fw(t.x,i.x,a.x),Fw(t.y,i.y,a.y)}function xi(t){return[t("x"),t("y")]}const K2=({current:t})=>t?t.ownerDocument.defaultView:null,Zw=(t,i)=>Math.abs(t-i);function OM(t,i){const a=Zw(t.x,i.x),o=Zw(t.y,i.y);return Math.sqrt(a**2+o**2)}class W2{constructor(i,a,{transformPagePoint:o,contextWindow:c=window,dragSnapToOrigin:u=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=nx(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,A=OM(j.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!A)return;const{point:k}=j,{timestamp:O}=as;this.history.push({...k,timestamp:O});const{onStart:M,onMove:B}=this.handlers;E||(M&&M(this.lastMoveEvent,j),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,j)},this.handlePointerMove=(j,E)=>{this.lastMoveEvent=j,this.lastMoveEventInfo=ix(E,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(j,E)=>{this.end();const{onEnd:A,onSessionEnd:k,resumeAnimation:O}=this.handlers;if(this.dragSnapToOrigin&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=nx(j.type==="pointercancel"?this.lastMoveEventInfo:ix(E,this.transformPagePoint),this.history);this.startEvent&&A&&A(j,M),k&&k(j,M)},!tg(i))return;this.dragSnapToOrigin=u,this.handlers=a,this.transformPagePoint=o,this.distanceThreshold=f,this.contextWindow=c||window;const m=ju(i),x=ix(m,this.transformPagePoint),{point:v}=x,{timestamp:b}=as;this.history=[{...v,timestamp:b}];const{onSessionStart:w}=a;w&&w(i,nx(x,this.history)),this.removeListeners=bu(eu(this.contextWindow,"pointermove",this.handlePointerMove),eu(this.contextWindow,"pointerup",this.handlePointerUp),eu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),Hi(this.updatePoint)}}function ix(t,i){return i?{point:i(t.point)}:t}function qw(t,i){return{x:t.x-i.x,y:t.y-i.y}}function nx({point:t},i){return{point:t,delta:qw(t,Q2(i)),offset:qw(t,PM(i)),velocity:DM(i,.1)}}function PM(t){return t[0]}function Q2(t){return t[t.length-1]}function DM(t,i){if(t.length<2)return{x:0,y:0};let a=t.length-1,o=null;const c=Q2(t);for(;a>=0&&(o=t[a],!(c.timestamp-o.timestamp>hn(i)));)a--;if(!o)return{x:0,y:0};const u=vi(c.timestamp-o.timestamp);if(u===0)return{x:0,y:0};const f={x:(c.x-o.x)/u,y:(c.y-o.y)/u};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function zM(t,{min:i,max:a},o){return i!==void 0&&t<i?t=o?Tt(i,t,o.min):Math.max(t,i):a!==void 0&&t>a&&(t=o?Tt(a,t,o.max):Math.min(t,a)),t}function Gw(t,i,a){return{min:i!==void 0?t.min+i:void 0,max:a!==void 0?t.max+a-(t.max-t.min):void 0}}function BM(t,{top:i,left:a,bottom:o,right:c}){return{x:Gw(t.x,a,c),y:Gw(t.y,i,o)}}function $w(t,i){let a=i.min-t.min,o=i.max-t.max;return i.max-i.min<t.max-t.min&&([a,o]=[o,a]),{min:a,max:o}}function IM(t,i){return{x:$w(t.x,i.x),y:$w(t.y,i.y)}}function UM(t,i){let a=.5;const o=Cs(t),c=Cs(i);return c>o?a=ul(i.min,i.max-o,t.min):o>c&&(a=ul(t.min,t.max-c,i.min)),xn(0,1,a)}function VM(t,i){const a={};return i.min!==void 0&&(a.min=i.min-t.min),i.max!==void 0&&(a.max=i.max-t.min),a}const s0=.35;function HM(t=s0){return t===!1?t=0:t===!0&&(t=s0),{x:Yw(t,"left","right"),y:Yw(t,"top","bottom")}}function Yw(t,i,a){return{min:Xw(t,i),max:Xw(t,a)}}function Xw(t,i){return typeof t=="number"?t:t[i]||0}const FM=new WeakMap;class ZM{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=i}start(i,{snapToCursor:a=!1,distanceThreshold:o}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const u=w=>{const{dragSnapToOrigin:j}=this.getProps();j?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(ju(w).point)},f=(w,j)=>{const{drag:E,dragPropagation:A,onDragStart:k}=this.getProps();if(E&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UL(E),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=j,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xi(M=>{let B=this.getAxisMotionValue(M).get()||0;if(fn.test(B)){const{projection:T}=this.visualElement;if(T&&T.layout){const D=T.layout.layoutBox[M];D&&(B=Cs(D)*(parseFloat(B)/100))}}this.originPoint[M]=B}),k&&ft.postRender(()=>k(w,j)),e0(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},m=(w,j)=>{this.latestPointerEvent=w,this.latestPanInfo=j;const{dragPropagation:E,dragDirectionLock:A,onDirectionLock:k,onDrag:O}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:M}=j;if(A&&this.currentDirection===null){this.currentDirection=qM(M),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",j.point,M),this.updateAxis("y",j.point,M),this.visualElement.render(),O&&O(w,j)},x=(w,j)=>{this.latestPointerEvent=w,this.latestPanInfo=j,this.stop(w,j),this.latestPointerEvent=null,this.latestPanInfo=null},v=()=>xi(w=>this.getAnimationState(w)==="paused"&&this.getAxisMotionValue(w).animation?.play()),{dragSnapToOrigin:b}=this.getProps();this.panSession=new W2(i,{onSessionStart:u,onStart:f,onMove:m,onSessionEnd:x,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:o,contextWindow:K2(this.visualElement)})}stop(i,a){const o=i||this.latestPointerEvent,c=a||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!c||!o)return;const{velocity:f}=c;this.startAnimation(f);const{onDragEnd:m}=this.getProps();m&&ft.postRender(()=>m(o,c))}cancel(){this.isDragging=!1;const{projection:i,animationState:a}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(i,a,o){const{drag:c}=this.getProps();if(!o||!oh(i,c,this.currentDirection))return;const u=this.getAxisMotionValue(i);let f=this.originPoint[i]+o[i];this.constraints&&this.constraints[i]&&(f=zM(f,this.constraints[i],this.elastic[i])),u.set(f)}resolveConstraints(){const{dragConstraints:i,dragElastic:a}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,c=this.constraints;i&&el(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&o?this.constraints=BM(o.layoutBox,i):this.constraints=!1,this.elastic=HM(a),c!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&xi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=VM(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:a}=this.getProps();if(!i||!el(i))return!1;const o=i.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const u=G6(o,c.root,this.visualElement.getTransformPagePoint());let f=IM(c.layout.layoutBox,u);if(a){const m=a(F6(f));this.hasMutatedConstraints=!!m,m&&(f=P2(m))}return f}startAnimation(i){const{drag:a,dragMomentum:o,dragElastic:c,dragTransition:u,dragSnapToOrigin:f,onDragTransitionEnd:m}=this.getProps(),x=this.constraints||{},v=xi(b=>{if(!oh(b,a,this.currentDirection))return;let w=x&&x[b]||{};f&&(w={min:0,max:0});const j=c?200:1e6,E=c?40:1e7,A={type:"inertia",velocity:o?i[b]:0,bounceStiffness:j,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...u,...w};return this.startAxisValueAnimation(b,A)});return Promise.all(v).then(m)}startAxisValueAnimation(i,a){const o=this.getAxisMotionValue(i);return e0(this.visualElement,i),o.start(dg(i,o,0,a,this.visualElement,!1))}stopAnimation(){xi(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){xi(i=>this.getAxisMotionValue(i).animation?.pause())}getAnimationState(i){return this.getAxisMotionValue(i).animation?.state}getAxisMotionValue(i){const a=`_drag${i.toUpperCase()}`,o=this.visualElement.getProps(),c=o[a];return c||this.visualElement.getValue(i,(o.initial?o.initial[i]:void 0)||0)}snapToCursor(i){xi(a=>{const{drag:o}=this.getProps();if(!oh(a,o,this.currentDirection))return;const{projection:c}=this.visualElement,u=this.getAxisMotionValue(a);if(c&&c.layout){const{min:f,max:m}=c.layout.layoutBox[a];u.set(i[a]-Tt(f,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:a}=this.getProps(),{projection:o}=this.visualElement;if(!el(a)||!o||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};xi(f=>{const m=this.getAxisMotionValue(f);if(m&&this.constraints!==!1){const x=m.get();c[f]=UM({min:x,max:x},this.constraints[f])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),xi(f=>{if(!oh(f,i,null))return;const m=this.getAxisMotionValue(f),{min:x,max:v}=this.constraints[f];m.set(Tt(x,v,c[f]))})}addListeners(){if(!this.visualElement.current)return;FM.set(this.visualElement,this);const i=this.visualElement.current,a=eu(i,"pointerdown",x=>{const{drag:v,dragListener:b=!0}=this.getProps();v&&b&&this.start(x)}),o=()=>{const{dragConstraints:x}=this.getProps();el(x)&&x.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,u=c.addEventListener("measure",o);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),ft.read(o);const f=hu(window,"resize",()=>this.scalePositionWithinConstraints()),m=c.addEventListener("didUpdate",(({delta:x,hasLayoutChanged:v})=>{this.isDragging&&v&&(xi(b=>{const w=this.getAxisMotionValue(b);w&&(this.originPoint[b]+=x[b].translate,w.set(w.get()+x[b].translate))}),this.visualElement.render())}));return()=>{f(),a(),u(),m&&m()}}getProps(){const i=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:o=!1,dragPropagation:c=!1,dragConstraints:u=!1,dragElastic:f=s0,dragMomentum:m=!0}=i;return{...i,drag:a,dragDirectionLock:o,dragPropagation:c,dragConstraints:u,dragElastic:f,dragMomentum:m}}}function oh(t,i,a){return(i===!0||i===t)&&(a===null||a===t)}function qM(t,i=10){let a=null;return Math.abs(t.y)>i?a="y":Math.abs(t.x)>i&&(a="x"),a}class GM extends $a{constructor(i){super(i),this.removeGroupControls=qs,this.removeListeners=qs,this.controls=new ZM(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qs}unmount(){this.removeGroupControls(),this.removeListeners()}}const Kw=t=>(i,a)=>{t&&ft.postRender(()=>t(i,a))};class $M extends $a{constructor(){super(...arguments),this.removePointerDownListener=qs}onPointerDown(i){this.session=new W2(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:K2(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:a,onPan:o,onPanEnd:c}=this.node.getProps();return{onSessionStart:Kw(i),onStart:Kw(a),onMove:o,onEnd:(u,f)=>{delete this.session,c&&ft.postRender(()=>c(u,f))}}}mount(){this.removePointerDownListener=eu(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ph={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let ax=!1;class YM extends N.Component{componentDidMount(){const{visualElement:i,layoutGroup:a,switchLayoutGroup:o,layoutId:c}=this.props,{projection:u}=i;u&&(a.group&&a.group.add(u),o&&o.register&&c&&o.register(u),ax&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Ph.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:a,visualElement:o,drag:c,isPresent:u}=this.props,{projection:f}=o;return f&&(f.isPresent=u,ax=!0,c||i.layoutDependency!==a||a===void 0||i.isPresent!==u?f.willUpdate():this.safeToRemove(),i.isPresent!==u&&(u?f.promote():f.relegate()||ft.postRender(()=>{const m=f.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),eg.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:a,switchLayoutGroup:o}=this.props,{projection:c}=i;ax=!0,c&&(c.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(c),o&&o.deregister&&o.deregister(c))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function J2(t){const[i,a]=w2(),o=N.useContext(M0);return e.jsx(YM,{...t,layoutGroup:o,switchLayoutGroup:N.useContext(R2),isPresent:i,safeToRemove:a})}function XM(t,i,a){const o=ys(t)?t:zi(t);return o.start(dg("",o,i,a)),o.animation}const KM=(t,i)=>t.depth-i.depth;class WM{constructor(){this.children=[],this.isDirty=!1}add(i){O0(this.children,i),this.isDirty=!0}remove(i){P0(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(KM),this.isDirty=!1,this.children.forEach(i)}}function QM(t,i){const a=Vs.now(),o=({timestamp:c})=>{const u=c-a;u>=i&&(Hi(o),t(u-i))};return ft.setup(o,!0),()=>Hi(o)}const eN=["TopLeft","TopRight","BottomLeft","BottomRight"],JM=eN.length,Ww=t=>typeof t=="string"?parseFloat(t):t,Qw=t=>typeof t=="number"||Oe.test(t);function eR(t,i,a,o,c,u){c?(t.opacity=Tt(0,a.opacity??1,tR(o)),t.opacityExit=Tt(i.opacity??1,0,sR(o))):u&&(t.opacity=Tt(i.opacity??1,a.opacity??1,o));for(let f=0;f<JM;f++){const m=`border${eN[f]}Radius`;let x=Jw(i,m),v=Jw(a,m);if(x===void 0&&v===void 0)continue;x||(x=0),v||(v=0),x===0||v===0||Qw(x)===Qw(v)?(t[m]=Math.max(Tt(Ww(x),Ww(v),o),0),(fn.test(v)||fn.test(x))&&(t[m]+="%")):t[m]=v}(i.rotate||a.rotate)&&(t.rotate=Tt(i.rotate||0,a.rotate||0,o))}function Jw(t,i){return t[i]!==void 0?t[i]:t.borderRadius}const tR=tN(0,.5,zj),sR=tN(.5,.95,qs);function tN(t,i,a){return o=>o<t?0:o>i?1:a(ul(t,i,o))}function e1(t,i){t.min=i.min,t.max=i.max}function Ri(t,i){e1(t.x,i.x),e1(t.y,i.y)}function t1(t,i){t.translate=i.translate,t.scale=i.scale,t.originPoint=i.originPoint,t.origin=i.origin}function s1(t,i,a,o,c){return t-=i,t=sf(t,1/a,o),c!==void 0&&(t=sf(t,1/c,o)),t}function iR(t,i=0,a=1,o=.5,c,u=t,f=t){if(fn.test(i)&&(i=parseFloat(i),i=Tt(f.min,f.max,i/100)-f.min),typeof i!="number")return;let m=Tt(u.min,u.max,o);t===u&&(m-=i),t.min=s1(t.min,i,a,m,c),t.max=s1(t.max,i,a,m,c)}function i1(t,i,[a,o,c],u,f){iR(t,i[a],i[o],i[c],i.scale,u,f)}const nR=["x","scaleX","originX"],aR=["y","scaleY","originY"];function n1(t,i,a,o){i1(t.x,i,nR,a?a.x:void 0,o?o.x:void 0),i1(t.y,i,aR,a?a.y:void 0,o?o.y:void 0)}function a1(t){return t.translate===0&&t.scale===1}function sN(t){return a1(t.x)&&a1(t.y)}function r1(t,i){return t.min===i.min&&t.max===i.max}function rR(t,i){return r1(t.x,i.x)&&r1(t.y,i.y)}function o1(t,i){return Math.round(t.min)===Math.round(i.min)&&Math.round(t.max)===Math.round(i.max)}function iN(t,i){return o1(t.x,i.x)&&o1(t.y,i.y)}function l1(t){return Cs(t.x)/Cs(t.y)}function c1(t,i){return t.translate===i.translate&&t.scale===i.scale&&t.originPoint===i.originPoint}class oR{constructor(){this.members=[]}add(i){O0(this.members,i),i.scheduleRender()}remove(i){if(P0(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(i){const a=this.members.findIndex(c=>i===c);if(a===0)return!1;let o;for(let c=a;c>=0;c--){const u=this.members[c];if(u.isPresent!==!1){o=u;break}}return o?(this.promote(o),!0):!1}promote(i,a){const o=this.lead;if(i!==o&&(this.prevLead=o,this.lead=i,i.show(),o)){o.instance&&o.scheduleRender(),i.scheduleRender(),i.resumeFrom=o,a&&(i.resumeFrom.preserveOpacity=!0),o.snapshot&&(i.snapshot=o.snapshot,i.snapshot.latestValues=o.animationValues||o.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:c}=i.options;c===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:a,resumingFrom:o}=i;a.onExitComplete&&a.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lR(t,i,a){let o="";const c=t.x.translate/i.x,u=t.y.translate/i.y,f=a?.z||0;if((c||u||f)&&(o=`translate3d(${c}px, ${u}px, ${f}px) `),(i.x!==1||i.y!==1)&&(o+=`scale(${1/i.x}, ${1/i.y}) `),a){const{transformPerspective:v,rotate:b,rotateX:w,rotateY:j,skewX:E,skewY:A}=a;v&&(o=`perspective(${v}px) ${o}`),b&&(o+=`rotate(${b}deg) `),w&&(o+=`rotateX(${w}deg) `),j&&(o+=`rotateY(${j}deg) `),E&&(o+=`skewX(${E}deg) `),A&&(o+=`skewY(${A}deg) `)}const m=t.x.scale*i.x,x=t.y.scale*i.y;return(m!==1||x!==1)&&(o+=`scale(${m}, ${x})`),o||"none"}const rx=["","X","Y","Z"],cR=1e3;let uR=0;function ox(t,i,a,o){const{latestValues:c}=i;c[t]&&(a[t]=c[t],i.setStaticValue(t,0),o&&(o[t]=0))}function nN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:i}=t.options;if(!i)return;const a=F2(i);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:c,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(a,"transform",ft,!(c||u))}const{parent:o}=t;o&&!o.hasCheckedOptimisedAppear&&nN(o)}function aN({attachResizeListener:t,defaultParent:i,measureScroll:a,checkIsScrollRoot:o,resetTransform:c}){return class{constructor(f={},m=i?.()){this.id=uR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fR),this.nodes.forEach(gR),this.nodes.forEach(vR),this.nodes.forEach(mR)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let x=0;x<this.path.length;x++)this.path[x].shouldResetTransform=!0;this.root===this&&(this.nodes=new WM)}addEventListener(f,m){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new z0),this.eventHandlers.get(f).add(m)}notifyListeners(f,...m){const x=this.eventHandlers.get(f);x&&x.notify(...m)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=sg(f)&&!t6(f),this.instance=f;const{layoutId:m,layout:x,visualElement:v}=this.options;if(v&&!v.current&&v.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(x||m)&&(this.isLayoutDirty=!0),t){let b,w=0;const j=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{w=window.innerWidth}),t(f,()=>{const E=window.innerWidth;E!==w&&(w=E,this.root.updateBlockedByResize=!0,b&&b(),b=QM(j,250),Ph.hasAnimatedSinceResize&&(Ph.hasAnimatedSinceResize=!1,this.nodes.forEach(h1)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&v&&(m||x)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:w,hasRelativeLayoutChanged:j,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||v.getDefaultTransition()||jR,{onLayoutAnimationStart:k,onLayoutAnimationComplete:O}=v.getProps(),M=!this.targetLayout||!iN(this.targetLayout,E),B=!w&&j;if(this.options.layoutRoot||this.resumeFrom||B||w&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...W0(A,"layout"),onPlay:k,onComplete:O};(v.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(b,B)}else w||h1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yR),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const w=this.path[b];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:m,layout:x}=this.options;if(m===void 0&&!x)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(u1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(d1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(xR),this.nodes.forEach(dR),this.nodes.forEach(hR)):this.nodes.forEach(d1),this.clearAllSnapshots();const m=Vs.now();as.delta=xn(0,1e3/60,m-as.timestamp),as.timestamp=m,as.isProcessing=!0,Yp.update.process(as),Yp.preRender.process(as),Yp.render.process(as),as.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pR),this.sharedNodes.forEach(bR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cs(this.snapshot.measuredBox.x)&&!Cs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let x=0;x<this.path.length;x++)this.path[x].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(m=!1),m&&this.instance){const x=o(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:x,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:x}}}resetTransform(){if(!c)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!sN(this.projectionDelta),x=this.getTransformTemplate(),v=x?x(this.latestValues,""):void 0,b=v!==this.prevTransformTemplateValue;f&&this.instance&&(m||Vr(this.latestValues)||b)&&(c(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const m=this.measurePageBox();let x=this.removeElementScroll(m);return f&&(x=this.removeTransform(x)),NR(x),{animationId:this.root.animationId,measuredBox:m,layoutBox:x,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return Qt();const m=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(SR))){const{scroll:v}=this.root;v&&(tl(m.x,v.offset.x),tl(m.y,v.offset.y))}return m}removeElementScroll(f){const m=Qt();if(Ri(m,f),this.scroll?.wasRoot)return m;for(let x=0;x<this.path.length;x++){const v=this.path[x],{scroll:b,options:w}=v;v!==this.root&&b&&w.layoutScroll&&(b.wasRoot&&Ri(m,f),tl(m.x,b.offset.x),tl(m.y,b.offset.y))}return m}applyTransform(f,m=!1){const x=Qt();Ri(x,f);for(let v=0;v<this.path.length;v++){const b=this.path[v];!m&&b.options.layoutScroll&&b.scroll&&b!==b.root&&sl(x,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),Vr(b.latestValues)&&sl(x,b.latestValues)}return Vr(this.latestValues)&&sl(x,this.latestValues),x}removeTransform(f){const m=Qt();Ri(m,f);for(let x=0;x<this.path.length;x++){const v=this.path[x];if(!v.instance||!Vr(v.latestValues))continue;Kx(v.latestValues)&&v.updateSnapshot();const b=Qt(),w=v.measurePageBox();Ri(b,w),n1(m,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,b)}return Vr(this.latestValues)&&n1(m,this.latestValues),m}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==as.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const x=!!this.resumingFrom||this!==m;if(!(f||x&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:w}=this.options;if(!this.layout||!(b||w))return;this.resolvedRelativeTargetAt=as.timestamp;const j=this.getClosestProjectingParent();j&&this.linkedParentVersion!==j.layoutVersion&&!j.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(j&&j.layout?this.createRelativeTarget(j,this.layout.layoutBox,j.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ri(this.target,this.layout.layoutBox),z2(this.target,this.targetDelta)):Ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,j&&!!j.resumingFrom==!!this.resumingFrom&&!j.options.layoutScroll&&j.target&&this.animationProgress!==1?this.createRelativeTarget(j,this.target,j.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Kx(this.parent.latestValues)||D2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(f,m,x){this.relativeParent=f,this.linkedParentVersion=f.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),nf(this.relativeTargetOrigin,m,x),Ri(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const f=this.getLead(),m=!!this.resumingFrom||this!==f;let x=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(x=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(x=!1),this.resolvedRelativeTargetAt===as.timestamp&&(x=!1),x)return;const{layout:v,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||b))return;Ri(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,j=this.treeScale.y;q6(this.layoutCorrected,this.treeScale,this.path,m),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=Qt());const{target:E}=f;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(t1(this.prevProjectionDelta.x,this.projectionDelta.x),t1(this.prevProjectionDelta.y,this.projectionDelta.y)),tu(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==j||!c1(this.projectionDelta.x,this.prevProjectionDelta.x)||!c1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=il(),this.projectionDelta=il(),this.projectionDeltaWithTransform=il()}setAnimationOrigin(f,m=!1){const x=this.snapshot,v=x?x.latestValues:{},b={...this.latestValues},w=il();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const j=Qt(),E=x?x.source:void 0,A=this.layout?this.layout.source:void 0,k=E!==A,O=this.getStack(),M=!O||O.members.length<=1,B=!!(k&&!M&&this.options.crossfade===!0&&!this.path.some(_R));this.animationProgress=0;let T;this.mixTargetDelta=D=>{const V=D/1e3;f1(w.x,f.x,V),f1(w.y,f.y,V),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nf(j,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wR(this.relativeTarget,this.relativeTargetOrigin,j,V),T&&rR(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Qt()),Ri(T,this.relativeTarget)),k&&(this.animationValues=b,eR(b,v,this.latestValues,V,B,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Hi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Ph.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zi(0)),this.currentAnimation=XM(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),f.onUpdate&&f.onUpdate(m)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:m,target:x,layout:v,latestValues:b}=f;if(!(!m||!x||!v)){if(this!==f&&this.layout&&v&&rN(this.options.animationType,this.layout.layoutBox,v.layoutBox)){x=this.target||Qt();const w=Cs(this.layout.layoutBox.x);x.x.min=f.target.x.min,x.x.max=x.x.min+w;const j=Cs(this.layout.layoutBox.y);x.y.min=f.target.y.min,x.y.max=x.y.min+j}Ri(m,x),sl(m,b),tu(this.projectionDeltaWithTransform,this.layoutCorrected,m,b)}}registerSharedNode(f,m){this.sharedNodes.has(f)||this.sharedNodes.set(f,new oR),this.sharedNodes.get(f).add(m);const v=m.options.initialPromotionConfig;m.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(m):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:m,preserveFollowOpacity:x}={}){const v=this.getStack();v&&v.promote(this,x),f&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let m=!1;const{latestValues:x}=f;if((x.z||x.rotate||x.rotateX||x.rotateY||x.rotateZ||x.skewX||x.skewY)&&(m=!0),!m)return;const v={};x.z&&ox("z",f,v,this.animationValues);for(let b=0;b<rx.length;b++)ox(`rotate${rx[b]}`,f,v,this.animationValues),ox(`skew${rx[b]}`,f,v,this.animationValues);f.render();for(const b in v)f.setStaticValue(b,v[b]),this.animationValues&&(this.animationValues[b]=v[b]);f.scheduleRender()}applyProjectionStyles(f,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const x=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=Oh(m?.pointerEvents)||"",f.transform=x?x(this.latestValues,""):"none";return}const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=Oh(m?.pointerEvents)||""),this.hasProjected&&!Vr(this.latestValues)&&(f.transform=x?x({},""):"none",this.hasProjected=!1);return}f.visibility="";const b=v.animationValues||v.latestValues;this.applyTransformsToTarget();let w=lR(this.projectionDeltaWithTransform,this.treeScale,b);x&&(w=x(b,w)),f.transform=w;const{x:j,y:E}=this.projectionDelta;f.transformOrigin=`${j.origin*100}% ${E.origin*100}% 0`,v.animationValues?f.opacity=v===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:f.opacity=v===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const A in Xx){if(b[A]===void 0)continue;const{correct:k,applyTo:O,isCSSVariable:M}=Xx[A],B=w==="none"?b[A]:k(b[A],v);if(O){const T=O.length;for(let D=0;D<T;D++)f[O[D]]=B}else M?this.options.visualElement.renderState.vars[A]=B:f[A]=B}this.options.layoutId&&(f.pointerEvents=v===this?Oh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(u1),this.root.sharedNodes.clear()}}}function dR(t){t.updateLayout()}function hR(t){const i=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&i&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:o}=t.layout,{animationType:c}=t.options,u=i.source!==t.layout.source;c==="size"?xi(b=>{const w=u?i.measuredBox[b]:i.layoutBox[b],j=Cs(w);w.min=a[b].min,w.max=w.min+j}):rN(c,i.layoutBox,a)&&xi(b=>{const w=u?i.measuredBox[b]:i.layoutBox[b],j=Cs(a[b]);w.max=w.min+j,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[b].max=t.relativeTarget[b].min+j)});const f=il();tu(f,a,i.layoutBox);const m=il();u?tu(m,t.applyTransform(o,!0),i.measuredBox):tu(m,a,i.layoutBox);const x=!sN(f);let v=!1;if(!t.resumeFrom){const b=t.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:w,layout:j}=b;if(w&&j){const E=Qt();nf(E,i.layoutBox,w.layoutBox);const A=Qt();nf(A,a,j.layoutBox),iN(E,A)||(v=!0),b.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=E,t.relativeParent=b)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:i,delta:m,layoutDelta:f,hasLayoutChanged:x,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function fR(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function mR(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function pR(t){t.clearSnapshot()}function u1(t){t.clearMeasurements()}function d1(t){t.isLayoutDirty=!1}function xR(t){const{visualElement:i}=t.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),t.resetTransform()}function h1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function gR(t){t.resolveTargetDelta()}function vR(t){t.calcProjection()}function yR(t){t.resetSkewAndRotation()}function bR(t){t.removeLeadSnapshot()}function f1(t,i,a){t.translate=Tt(i.translate,0,a),t.scale=Tt(i.scale,1,a),t.origin=i.origin,t.originPoint=i.originPoint}function m1(t,i,a,o){t.min=Tt(i.min,a.min,o),t.max=Tt(i.max,a.max,o)}function wR(t,i,a,o){m1(t.x,i.x,a.x,o),m1(t.y,i.y,a.y,o)}function _R(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jR={duration:.45,ease:[.4,0,.1,1]},p1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),x1=p1("applewebkit/")&&!p1("chrome/")?Math.round:qs;function g1(t){t.min=x1(t.min),t.max=x1(t.max)}function NR(t){g1(t.x),g1(t.y)}function rN(t,i,a){return t==="position"||t==="preserve-aspect"&&!MM(l1(i),l1(a),.2)}function SR(t){return t!==t.root&&t.scroll?.wasRoot}const CR=aN({attachResizeListener:(t,i)=>hu(t,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lx={current:void 0},oN=aN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!lx.current){const t=new CR({});t.mount(window),t.setOptions({layoutScroll:!0}),lx.current=t}return lx.current},resetTransform:(t,i)=>{t.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),kR={pan:{Feature:$M},drag:{Feature:GM,ProjectionNode:oN,MeasureLayout:J2}};function v1(t,i,a){const{props:o}=t;t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",a==="Start");const c="onHover"+a,u=o[c];u&&ft.postRender(()=>u(i,ju(i)))}class TR extends $a{mount(){const{current:i}=this.node;i&&(this.unmount=VL(i,(a,o)=>(v1(this.node,o,"Start"),c=>v1(this.node,c,"End"))))}unmount(){}}class ER extends $a{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bu(hu(this.node.current,"focus",()=>this.onFocus()),hu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function y1(t,i,a){const{props:o}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&o.whileTap&&t.animationState.setActive("whileTap",a==="Start");const c="onTap"+(a==="End"?"":a),u=o[c];u&&ft.postRender(()=>u(i,ju(i)))}class AR extends $a{mount(){const{current:i}=this.node;i&&(this.unmount=qL(i,(a,o)=>(y1(this.node,o,"Start"),(c,{success:u})=>y1(this.node,c,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const i0=new WeakMap,cx=new WeakMap,LR=t=>{const i=i0.get(t.target);i&&i(t)},MR=t=>{t.forEach(LR)};function RR({root:t,...i}){const a=t||document;cx.has(a)||cx.set(a,{});const o=cx.get(a),c=JSON.stringify(i);return o[c]||(o[c]=new IntersectionObserver(MR,{root:t,...i})),o[c]}function OR(t,i,a){const o=RR(i);return i0.set(t,a),o.observe(t),()=>{i0.delete(t),o.unobserve(t)}}const PR={some:0,all:1};class DR extends $a{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:a,margin:o,amount:c="some",once:u}=i,f={root:a?a.current:void 0,rootMargin:o,threshold:typeof c=="number"?c:PR[c]},m=x=>{const{isIntersecting:v}=x;if(this.isInView===v||(this.isInView=v,u&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:b,onViewportLeave:w}=this.node.getProps(),j=v?b:w;j&&j(x)};return OR(this.node.current,f,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:a}=this.node;["amount","margin","root"].some(zR(i,a))&&this.startObserver()}unmount(){}}function zR({viewport:t={}},{viewport:i={}}={}){return a=>t[a]!==i[a]}const BR={inView:{Feature:DR},tap:{Feature:AR},focus:{Feature:ER},hover:{Feature:TR}},IR={layout:{ProjectionNode:oN,MeasureLayout:J2}},UR={...CM,...BR,...kR,...IR},rs=H6(UR,tM),VR=50,b1=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),HR=()=>({time:0,x:b1(),y:b1()}),FR={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function w1(t,i,a,o){const c=a[i],{length:u,position:f}=FR[i],m=c.current,x=a.time;c.current=t[`scroll${f}`],c.scrollLength=t[`scroll${u}`]-t[`client${u}`],c.offset.length=0,c.offset[0]=0,c.offset[1]=c.scrollLength,c.progress=ul(0,c.scrollLength,c.current);const v=o-x;c.velocity=v>VR?0:B0(c.current-m,v)}function ZR(t,i,a){w1(t,"x",i,a),w1(t,"y",i,a),i.time=a}function qR(t,i){const a={x:0,y:0};let o=t;for(;o&&o!==i;)if(J0(o))a.x+=o.offsetLeft,a.y+=o.offsetTop,o=o.offsetParent;else if(o.tagName==="svg"){const c=o.getBoundingClientRect();o=o.parentElement;const u=o.getBoundingClientRect();a.x+=c.left-u.left,a.y+=c.top-u.top}else if(o instanceof SVGGraphicsElement){const{x:c,y:u}=o.getBBox();a.x+=c,a.y+=u;let f=null,m=o.parentNode;for(;!f;)m.tagName==="svg"&&(f=m),m=o.parentNode;o=f}else break;return a}const n0={start:0,center:.5,end:1};function _1(t,i,a=0){let o=0;if(t in n0&&(t=n0[t]),typeof t=="string"){const c=parseFloat(t);t.endsWith("px")?o=c:t.endsWith("%")?t=c/100:t.endsWith("vw")?o=c/100*document.documentElement.clientWidth:t.endsWith("vh")?o=c/100*document.documentElement.clientHeight:t=c}return typeof t=="number"&&(o=i*t),a+o}const GR=[0,0];function $R(t,i,a,o){let c=Array.isArray(t)?t:GR,u=0,f=0;return typeof t=="number"?c=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?c=t.split(" "):c=[t,n0[t]?t:"0"]),u=_1(c[0],a,o),f=_1(c[1],i),u-f}const YR={All:[[0,0],[1,1]]},XR={x:0,y:0};function KR(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function WR(t,i,a){const{offset:o=YR.All}=a,{target:c=t,axis:u="y"}=a,f=u==="y"?"height":"width",m=c!==t?qR(c,t):XR,x=c===t?{width:t.scrollWidth,height:t.scrollHeight}:KR(c),v={width:t.clientWidth,height:t.clientHeight};i[u].offset.length=0;let b=!i[u].interpolate;const w=o.length;for(let j=0;j<w;j++){const E=$R(o[j],v[f],x[f],m[u]);!b&&E!==i[u].interpolatorOffsets[j]&&(b=!0),i[u].offset[j]=E}b&&(i[u].interpolate=G0(i[u].offset,Jj(o),{clamp:!1}),i[u].interpolatorOffsets=[...i[u].offset]),i[u].progress=xn(0,1,i[u].interpolate(i[u].current))}function QR(t,i=t,a){if(a.x.targetOffset=0,a.y.targetOffset=0,i!==t){let o=i;for(;o&&o!==t;)a.x.targetOffset+=o.offsetLeft,a.y.targetOffset+=o.offsetTop,o=o.offsetParent}a.x.targetLength=i===t?i.scrollWidth:i.clientWidth,a.y.targetLength=i===t?i.scrollHeight:i.clientHeight,a.x.containerLength=t.clientWidth,a.y.containerLength=t.clientHeight}function JR(t,i,a,o={}){return{measure:c=>{QR(t,o.target,a),ZR(t,a,c),(o.offset||o.target)&&WR(t,a,o)},notify:()=>i(a)}}const Bc=new WeakMap,j1=new WeakMap,ux=new WeakMap,N1=t=>t===document.scrollingElement?window:t;function lN(t,{container:i=document.scrollingElement,...a}={}){if(!i)return qs;let o=ux.get(i);o||(o=new Set,ux.set(i,o));const c=HR(),u=JR(i,t,c,a);if(o.add(u),!Bc.has(i)){const m=()=>{for(const w of o)w.measure(as.timestamp);ft.preUpdate(x)},x=()=>{for(const w of o)w.notify()},v=()=>ft.read(m);Bc.set(i,v);const b=N1(i);window.addEventListener("resize",v,{passive:!0}),i!==document.documentElement&&j1.set(i,e6(i,v)),b.addEventListener("scroll",v,{passive:!0}),v()}const f=Bc.get(i);return ft.read(f,!1,!0),()=>{Hi(f);const m=ux.get(i);if(!m||(m.delete(u),m.size))return;const x=Bc.get(i);Bc.delete(i),x&&(N1(i).removeEventListener("scroll",x),j1.get(i)?.(),window.removeEventListener("resize",x))}}const S1=new Map;function eO(t){const i={value:0},a=lN(o=>{i.value=o[t.axis].progress*100},t);return{currentTime:i,cancel:a}}function cN({source:t,container:i,...a}){const{axis:o}=a;t&&(i=t);const c=S1.get(i)??new Map;S1.set(i,c);const u=a.target??"self",f=c.get(u)??{},m=o+(a.offset??[]).join(",");return f[m]||(f[m]=!a.target&&i2()?new ScrollTimeline({source:i,axis:o}):eO({container:i,...a})),f[m]}function tO(t,i){const a=cN(i);return t.attachTimeline({timeline:i.target?void 0:a,observe:o=>(o.pause(),b2(c=>{o.time=o.iterationDuration*c},a))})}function sO(t){return t.length===2}function iO(t,i){return sO(t)?lN(a=>{t(a[i.axis].progress,a)},i):b2(t,cN(i))}function nO(t,{axis:i="y",container:a=document.scrollingElement,...o}={}){if(!a)return qs;const c={axis:i,container:a,...o};return typeof t=="function"?iO(t,c):tO(t,c)}const aO=()=>({scrollX:zi(0),scrollY:zi(0),scrollXProgress:zi(0),scrollYProgress:zi(0)}),lh=t=>t?!t.current:!1;function Dh({container:t,target:i,...a}={}){const o=bl(aO),c=N.useRef(null),u=N.useRef(!1),f=N.useCallback(()=>(c.current=nO((m,{x,y:v})=>{o.scrollX.set(x.current),o.scrollXProgress.set(x.progress),o.scrollY.set(v.current),o.scrollYProgress.set(v.progress)},{...a,container:t?.current||void 0,target:i?.current||void 0}),()=>{c.current?.()}),[t,i,JSON.stringify(a.offset)]);return jf(()=>{if(u.current=!1,lh(t)||lh(i)){u.current=!0;return}else return f()},[f]),N.useEffect(()=>{if(u.current)return lu(!lh(t)),lu(!lh(i)),f()},[f]),o}function rO(t){const i=bl(()=>zi(t)),{isStatic:a}=N.useContext(Sf);if(a){const[,o]=N.useState(t);N.useEffect(()=>i.on("change",o),[])}return i}function uN(t,i){const a=rO(i()),o=()=>a.set(i());return o(),jf(()=>{const c=()=>ft.preRender(o,!1,!0),u=t.map(f=>f.on("change",c));return()=>{u.forEach(f=>f()),Hi(o)}}),a}function oO(t){Jc.current=[],t();const i=uN(Jc.current,t);return Jc.current=void 0,i}function nl(t,i,a,o){if(typeof t=="function")return oO(t);const c=typeof i=="function"?i:s6(i,a,o);return Array.isArray(t)?C1(t,c):C1([t],([u])=>c(u))}function C1(t,i){const a=bl(()=>[]);return uN(t,()=>{a.length=0;const o=t.length;for(let c=0;c<o;c++)a[c]=t[c].get();return i(a)})}function lO(){const t=N.useRef(null),{scrollYProgress:i}=Dh({target:t,offset:["start end","end start"]}),a=[{id:1,title:"One-Tap Reporting",date:"Step 01",content:"Snap a photo, and GPS automatically captures your location. Report civic issues in under 2 minutes with zero friction.",category:"Reporting",icon:Kr,relatedIds:[2],status:"completed",energy:100},{id:2,title:"AI Auto-Routing",date:"Step 02",content:"Gemini AI instantly categorizes your issue and routes it to the correct municipal department. 85%+ accuracy guaranteed.",category:"AI",icon:E0,relatedIds:[1,3],status:"completed",energy:90},{id:3,title:"Public Heat Map",date:"Step 03",content:"See all reported issues on an interactive map. Track status, resolution times, and identify problem hotspots in your area.",category:"Visualization",icon:Je,relatedIds:[2,4],status:"in-progress",energy:75},{id:4,title:"Municipal Dashboard",date:"Step 04",content:"Officials get a powerful dashboard to track assigned issues, monitor team performance, and analyze resolution metrics.",category:"Dashboard",icon:gf,relatedIds:[3,5],status:"in-progress",energy:60},{id:5,title:"Community Verification",date:"Step 05",content:"Citizens verify resolutions with before/after photos. Crowdsourced accountability ensures issues are truly fixed.",category:"Verification",icon:Be,relatedIds:[4,6],status:"pending",energy:40},{id:6,title:"Real-Time Updates",date:"Step 06",content:"Get instant notifications when your issue is acknowledged, assigned, or resolved. Never be left in the dark again.",category:"Notifications",icon:Ii,relatedIds:[5],status:"pending",energy:25}],o=[{number:"01",icon:vs,title:"Report Issues",description:"Spot a problem? Report it instantly with photos and location details.",features:["Photo upload","GPS location","Category selection"]},{number:"02",icon:Je,title:"Track Progress",description:"Monitor your report in real-time as officials take action.",features:["Live updates","Status tracking","Official responses"]},{number:"03",icon:os,title:"Community Engagement",description:"Upvote issues, collaborate with neighbors, and strengthen your community.",features:["Upvote system","Community validation","Collaborative action"]},{number:"04",icon:Be,title:"Resolution & Impact",description:"See your impact as issues get resolved and communities improve.",features:["Resolution tracking","Community stats","Impact metrics"]}],c=[{icon:Ii,title:"Real-time Notifications",description:"Stay updated on issue progress"},{icon:si,title:"Analytics Dashboard",description:"Track community engagement metrics"},{icon:qa,title:"Verified Officials",description:"Connect with authenticated authorities"},{icon:Wn,title:"Instant Response",description:"Fast-track urgent community issues"}],u={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},f={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},m={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut"}}};return e.jsxs("section",{ref:t,className:"relative py-24 overflow-hidden bg-gradient-to-b from-black via-black to-black",children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff08_1px,transparent_1px),linear-gradient(to_bottom,#ffffff08_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_50%,#000_70%,transparent_110%)]"}),e.jsx("div",{className:"absolute top-1/4 -left-48 w-96 h-96 bg-rose-500/20 rounded-full blur-[120px]"}),e.jsx("div",{className:"absolute bottom-1/4 -right-48 w-96 h-96 bg-violet-500/20 rounded-full blur-[120px]"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(rs.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-20",children:[e.jsx("div",{className:"inline-block mb-4 px-4 py-2 rounded-full bg-gradient-to-r from-rose-500/10 via-pink-500/10 to-violet-500/10 border border-white/10",children:e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-rose-400 via-pink-400 to-violet-400 font-semibold text-sm tracking-wider",children:"HOW IT WORKS"})}),e.jsxs("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:[e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-white to-white/80",children:"Simple Steps to"}),e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-rose-400 via-pink-400 to-violet-400",children:"Transform Your Community"})]}),e.jsx("p",{className:"text-white/60 text-lg md:text-xl max-w-3xl mx-auto",children:"From reporting issues to seeing real changeyour voice drives community improvement"})]}),e.jsx(rs.div,{variants:u,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-20",children:o.map((x,v)=>{const b=N.useRef(null),{scrollYProgress:w}=Dh({target:b,offset:["start end","end start"]}),j=nl(w,[0,.5,1],[.85,1.05,.85]),E=nl(w,[0,.3,.7,1],[.5,1,1,.5]);return e.jsxs(rs.div,{ref:b,variants:f,style:{scale:j,opacity:E},whileHover:{y:-8,transition:{duration:.3}},className:"group relative",children:[v<o.length-1&&e.jsx("div",{className:"hidden lg:block absolute top-20 left-full w-full h-[2px] bg-gradient-to-r from-white/20 to-transparent"}),e.jsxs("div",{className:"relative h-full p-8 rounded-2xl bg-white/5 backdrop-blur-xl border border-white/10 overflow-hidden group-hover:border-white/20 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-500/5 via-pink-500/5 to-violet-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-br from-rose-500/30 via-pink-500/30 to-violet-500/30 mb-4",children:x.number}),e.jsx("div",{className:"mb-6 inline-flex p-4 rounded-xl bg-gradient-to-br from-rose-500/10 via-pink-500/10 to-violet-500/10 border border-white/10 group-hover:scale-110 transition-transform duration-300",children:e.jsx(x.icon,{className:"w-8 h-8 text-rose-400"})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-3 group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-rose-400 group-hover:via-pink-400 group-hover:to-violet-400 transition-all duration-300",children:x.title}),e.jsx("p",{className:"text-white/60 mb-6 leading-relaxed",children:x.description}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x.features.map((A,k)=>e.jsx("span",{className:"px-3 py-1 text-xs rounded-full bg-white/5 border border-white/10 text-white/70",children:A},k))})]})]})]},v)})}),e.jsxs(rs.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"mb-16",children:[e.jsx("h3",{className:"text-3xl font-bold text-center mb-4",children:e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-white to-white/80",children:"Powerful Features"})}),e.jsx("p",{className:"text-white/60 text-center max-w-2xl mx-auto mb-12",children:"Click on each node to explore our interconnected feature ecosystem"})]}),e.jsx(cO,{children:e.jsx(sA,{timelineData:a})}),e.jsx(rs.div,{variants:u,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map((x,v)=>{const b=N.useRef(null),{scrollYProgress:w}=Dh({target:b,offset:["start end","end start"]}),j=nl(w,[0,.5,1],[.9,1.08,.9]),E=nl(w,[0,.3,.7,1],[.4,1,1,.4]);return e.jsxs(rs.div,{ref:b,variants:m,style:{scale:j,opacity:E},whileHover:{scale:1.12,transition:{duration:.2}},className:"group relative p-6 rounded-xl bg-white/5 backdrop-blur-xl border border-white/10 hover:border-white/20 transition-all duration-300 cursor-pointer",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-500/10 via-pink-500/10 to-violet-500/10 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"mb-4 inline-flex p-3 rounded-lg bg-gradient-to-br from-rose-500/10 via-pink-500/10 to-violet-500/10 border border-white/10 group-hover:scale-110 transition-transform duration-300",children:e.jsx(x.icon,{className:"w-6 h-6 text-rose-400"})}),e.jsx("h4",{className:"text-lg font-semibold text-white mb-2 group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-rose-400 group-hover:to-violet-400 transition-all duration-300",children:x.title}),e.jsx("p",{className:"text-white/60 text-sm",children:x.description})]})]},v)})}),e.jsx(rs.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.3},className:"mt-20 text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 rounded-full bg-white/5 border border-white/10 backdrop-blur-xl",children:[e.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(x=>e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-rose-400 to-violet-400 border-2 border-black"},x))}),e.jsxs("span",{className:"text-white/80 text-sm font-medium",children:["Join ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-rose-400 to-violet-400 font-bold",children:"10,000+"})," active community members"]})]})})]})]})}function cO({children:t}){const i=N.useRef(null),{scrollYProgress:a}=Dh({target:i,offset:["start end","end start"]}),o=nl(a,[0,.4,.6,1],[.8,1.1,1.1,.8]),c=nl(a,[0,.2,.8,1],[.3,1,1,.3]);return e.jsx(rs.div,{ref:i,style:{scale:o,opacity:c},className:"mb-20",transition:{type:"spring",stiffness:100,damping:30},children:t})}const uO=[{id:1,title:"For Citizens",subtitle:"Report Issues Instantly",description:"Snap a photo, describe the issue, and let AI do the rest. Track your reports in real-time and see real change happen.",image:"https://images.unsplash.com/photo-1573497620053-ea5300f94f21?w=600&q=80",icon:os,features:["One-tap reporting","Real-time tracking","Community updates"],color:"from-rose-500 to-pink-500",bgGlow:"bg-rose-500/20"},{id:2,title:"For Officials",subtitle:"Manage Efficiently",description:"Get a powerful dashboard to track, assign, and resolve issues. Monitor team performance with detailed analytics.",image:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=600&q=80",icon:xf,features:["Smart dashboard","Team management","Performance metrics"],color:"from-violet-500 to-indigo-500",bgGlow:"bg-violet-500/20"},{id:3,title:"For Communities",subtitle:"Build Together",description:"See all issues on a public map. Upvote critical problems, verify resolutions, and hold authorities accountable.",image:"https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?w=600&q=80",icon:xT,features:["Public transparency","Community voting","Resolution verification"],color:"from-pink-500 to-violet-500",bgGlow:"bg-pink-500/20"}];function dO({card:t}){const[i,a]=N.useState({x:0,y:0}),[o,c]=N.useState(!1),u=m=>{const x=m.currentTarget.getBoundingClientRect(),v=(m.clientX-x.left-x.width/2)/25,b=(m.clientY-x.top-x.height/2)/25;a({x:v,y:b})},f=()=>{a({x:0,y:0}),c(!1)};return e.jsx("div",{className:"group relative h-full perspective-1000",onMouseMove:u,onMouseEnter:()=>c(!0),onMouseLeave:f,children:e.jsxs("div",{className:"relative h-full rounded-2xl bg-white/5 backdrop-blur-sm border border-white/10 overflow-hidden transition-all duration-300 ease-out hover:border-white/20",style:{transform:o?`rotateY(${i.x}deg) rotateX(${-i.y}deg) scale(1.02)`:"rotateY(0deg) rotateX(0deg) scale(1)",transformStyle:"preserve-3d"},children:[e.jsx("div",{className:`absolute -inset-px rounded-2xl ${t.bgGlow} opacity-0 blur-xl transition-opacity duration-500 group-hover:opacity-100`}),e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:t.image,alt:t.title,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"}),e.jsx("div",{className:`absolute bottom-4 left-4 flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br ${t.color} shadow-lg`,children:e.jsx(t.icon,{className:"h-6 w-6 text-white"})})]}),e.jsxs("div",{className:"relative p-6",children:[e.jsx("span",{className:`text-sm font-medium bg-gradient-to-r ${t.color} bg-clip-text text-transparent`,children:t.subtitle}),e.jsx("h3",{className:"mt-2 text-xl font-display font-bold text-white",children:t.title}),e.jsx("p",{className:"mt-3 text-sm text-white/60 leading-relaxed",children:t.description}),e.jsx("ul",{className:"mt-4 space-y-2",children:t.features.map(m=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-white/70",children:[e.jsx("div",{className:`h-1.5 w-1.5 rounded-full bg-gradient-to-r ${t.color}`}),m]},m))}),e.jsxs("a",{href:"#learn-more",className:"mt-6 inline-flex items-center gap-2 text-sm font-medium text-white hover:text-rose-500 transition-colors",children:["Learn More",e.jsx(ll,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})]}),e.jsx("div",{className:"absolute inset-0 opacity-0 transition-opacity duration-500 group-hover:opacity-100 pointer-events-none",style:{background:"linear-gradient(105deg, transparent 40%, rgba(255,255,255,0.05) 45%, rgba(255,255,255,0.1) 50%, rgba(255,255,255,0.05) 55%, transparent 60%)",transform:`translateX(${o?"100%":"-100%"})`,transition:"transform 0.6s ease-out"}})]})})}function hO(){return e.jsxs("section",{id:"for-officials",className:"relative py-24 bg-[#0a0a0a] overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(244,63,94,0.05),transparent_60%)]"}),e.jsxs("div",{className:"relative mx-auto max-w-7xl px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-violet-500/10 px-4 py-1.5 text-xs uppercase tracking-wider text-violet-500 ring-1 ring-violet-500/20 mb-6",children:[e.jsx(os,{className:"h-3 w-3"}),"For Everyone"]}),e.jsxs("h2",{className:"text-3xl font-display font-bold tracking-tight text-white sm:text-4xl lg:text-5xl",children:["Built for"," ",e.jsx("span",{className:"bg-gradient-to-r from-rose-500 to-violet-500 bg-clip-text text-transparent",children:"Every Stakeholder"})]}),e.jsx("p",{className:"mt-4 text-lg text-white/60 max-w-2xl mx-auto",children:"Whether you're a citizen, official, or community leader, CitizenVoice has tools designed for you."})]}),e.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:uO.map(t=>e.jsx(dO,{card:t},t.id))})]})]})}function fO(){return e.jsxs("section",{className:"relative py-24 bg-[#0a0a0a] overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-0 left-1/4 h-96 w-96 rounded-full bg-rose-500/10 blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 right-1/4 h-96 w-96 rounded-full bg-violet-500/10 blur-3xl"})]}),e.jsxs("div",{className:"relative mx-auto max-w-5xl px-6 lg:px-8",children:[e.jsxs("div",{className:"relative rounded-3xl bg-gradient-to-br from-rose-500/20 via-pink-500/20 to-violet-500/20 border border-white/10 p-8 md:p-12 lg:p-16 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0wIDBoNDB2NDBIMHoiLz48cGF0aCBkPSJNNDAgMEgwdjQwaDQwVjB6TTEgMWgzOHYzOEgxVjF6IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuMDMpIi8+PC9nPjwvc3ZnPg==')] opacity-50"}),e.jsx("div",{className:"absolute top-8 right-8 h-16 w-16 rounded-2xl bg-gradient-to-br from-rose-500/30 to-pink-500/30 backdrop-blur-sm border border-white/10 flex items-center justify-center animate-pulse",children:e.jsx(Kr,{className:"h-8 w-8 text-rose-500"})}),e.jsx("div",{className:"absolute bottom-8 left-8 h-12 w-12 rounded-xl bg-gradient-to-br from-violet-500/30 to-indigo-500/30 backdrop-blur-sm border border-white/10 flex items-center justify-center animate-pulse",style:{animationDelay:"1s"},children:e.jsx(E0,{className:"h-6 w-6 text-violet-500"})}),e.jsxs("div",{className:"relative text-center max-w-3xl mx-auto",children:[e.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-display font-bold text-white mb-6",children:["Ready to Transform"," ",e.jsx("span",{className:"bg-gradient-to-r from-rose-500 via-pink-500 to-violet-500 bg-clip-text text-transparent",children:"Your Community?"})]}),e.jsx("p",{className:"text-lg text-white/70 mb-8 max-w-2xl mx-auto",children:"Join thousands of citizens and officials already making their cities better. Start reporting issues today and see real change happen."}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-10",children:["Free for citizens","No app download required","2-minute setup"].map(t=>e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/70",children:[e.jsx(nu,{className:"h-4 w-4 text-rose-500"}),t]},t))}),e.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:e.jsxs(St,{to:"/signup",className:"inline-flex items-center gap-2 rounded-full bg-white px-6 py-3 text-sm font-semibold text-black shadow-lg shadow-white/20 transition-all hover:scale-105 hover:shadow-white/30",children:["Start Reporting Now",e.jsx(Bi,{className:"h-5 w-5 transition-transform group-hover:translate-x-1"})]})}),e.jsxs("p",{className:"mt-8 text-sm text-white/50",children:["Trusted by"," ",e.jsx("span",{className:"text-white/70 font-medium",children:"75+ municipal bodies"})," ","across India"]})]})]}),e.jsxs("div",{className:"mt-12 text-center",children:[e.jsx("p",{className:"text-white/60 mb-4",children:"Are you a municipal official?"}),e.jsxs("a",{href:"#officials",className:"inline-flex items-center gap-2 text-rose-500 hover:text-pink-500 transition-colors font-medium",children:["Learn about our Municipal Dashboard",e.jsx(Bi,{className:"h-4 w-4"})]})]})]})]})}const mO={product:{title:"Product",links:[{label:"Features",href:"#features"},{label:"How It Works",href:"#how-it-works"},{label:"Pricing",href:"#pricing"},{label:"Municipal Dashboard",href:"#dashboard"},{label:"API Access",href:"#api"}]},resources:{title:"Resources",links:[{label:"Documentation",href:"#docs"},{label:"Help Center",href:"#help"},{label:"Community",href:"#community"},{label:"Blog",href:"#blog"},{label:"Case Studies",href:"#cases"}]},company:{title:"Company",links:[{label:"About Us",href:"#about"},{label:"Careers",href:"#careers"},{label:"Press Kit",href:"#press"},{label:"Partners",href:"#partners"},{label:"Contact",href:"#contact"}]},legal:{title:"Legal",links:[{label:"Privacy Policy",href:"#privacy"},{label:"Terms of Service",href:"#terms"},{label:"Cookie Policy",href:"#cookies"},{label:"Data Security",href:"#security"}]}},pO=[{icon:IT,href:"#twitter",label:"Twitter"},{icon:Uk,href:"#linkedin",label:"LinkedIn"},{icon:vk,href:"#github",label:"GitHub"},{icon:Pk,href:"#instagram",label:"Instagram"}];function xO(){return e.jsxs("footer",{className:"relative bg-[#0a0a0a] border-t border-white/10",children:[e.jsxs("div",{className:"mx-auto max-w-7xl px-6 py-16 lg:px-8",children:[e.jsxs("div",{className:"grid gap-12 lg:grid-cols-5",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsx("div",{className:"mb-6",children:e.jsx(pn,{size:"default"})}),e.jsx("p",{className:"text-sm text-white/60 mb-6 leading-relaxed",children:"Empowering citizens to build better communities through transparent civic engagement."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("a",{href:"mailto:hello@citizenvoice.in",className:"flex items-center gap-3 text-sm text-white/60 hover:text-rose-500 transition-colors",children:[e.jsx(gl,{className:"h-4 w-4"}),"hello@citizenvoice.in"]}),e.jsxs("a",{href:"tel:+911234567890",className:"flex items-center gap-3 text-sm text-white/60 hover:text-rose-500 transition-colors",children:[e.jsx(bf,{className:"h-4 w-4"}),"+91 123 456 7890"]})]}),e.jsx("div",{className:"flex gap-3 mt-6",children:pO.map(t=>e.jsx("a",{href:t.href,"aria-label":t.label,className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/5 text-white/60 transition-all hover:bg-rose-500/20 hover:text-rose-500",children:e.jsx(t.icon,{className:"h-5 w-5"})},t.label))})]}),e.jsx("div",{className:"lg:col-span-4 grid gap-8 sm:grid-cols-2 md:grid-cols-4",children:Object.values(mO).map(t=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:t.title}),e.jsx("ul",{className:"space-y-3",children:t.links.map(i=>e.jsx("li",{children:e.jsx("a",{href:i.href,className:"text-sm text-white/60 hover:text-rose-500 transition-colors",children:i.label})},i.label))})]},t.title))})]}),e.jsx("div",{className:"mt-16 pt-8 border-t border-white/10",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-2",children:"Stay Updated"}),e.jsx("p",{className:"text-sm text-white/60",children:"Get the latest updates on civic tech and community impact."})]}),e.jsxs("form",{className:"flex gap-3 max-w-md w-full md:w-auto",children:[e.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 md:w-64 rounded-full bg-white/5 border border-white/10 px-4 py-2.5 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-rose-500/50 focus:border-rose-500/50"}),e.jsx("button",{type:"submit",className:"rounded-full bg-white px-5 py-2.5 text-sm font-semibold text-black shadow-lg shadow-white/20 transition-all hover:scale-105",children:"Subscribe"})]})]})})]}),e.jsx("div",{className:"border-t border-white/10",children:e.jsx("div",{className:"mx-auto max-w-7xl px-6 py-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("p",{className:"text-sm text-white/50",children:[" ",new Date().getFullYear()," CitizenVoice. All rights reserved."]}),e.jsxs("p",{className:"text-sm text-white/50 flex items-center gap-1",children:["Made with"," ",e.jsx(Ck,{className:"h-4 w-4 text-rose-500 fill-rose-500"})," for Indian Cities"]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/50",children:[e.jsx("span",{children:" India"}),e.jsx("span",{className:"h-1 w-1 rounded-full bg-white/30"}),e.jsx("span",{children:"English"})]})]})})})]})}const gO=A0(["gradient-button","inline-flex items-center justify-center gap-2","rounded-[11px] min-w-[132px] px-8 py-4","text-base leading-[19px] font-medium text-white","font-sans font-bold","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/50","disabled:pointer-events-none disabled:opacity-50","transition-all duration-300"],{variants:{variant:{default:"",secondary:"gradient-button-variant",outline:"gradient-button-outline"},size:{default:"px-8 py-4",sm:"px-6 py-3 text-sm min-w-[100px]",lg:"px-10 py-5 text-lg min-w-[160px]"}},defaultVariants:{variant:"default",size:"default"}}),vO=N.forwardRef(({className:t,variant:i,size:a,asChild:o=!1,...c},u)=>{const f=o?jj:"button";return e.jsx(f,{className:_e(gO({variant:i,size:a,className:t})),ref:u,...c})});vO.displayName="GradientButton";const yO=()=>e.jsx("svg",{style:{display:"none"},children:e.jsxs("filter",{id:"glass-distortion",x:"0%",y:"0%",width:"100%",height:"100%",filterUnits:"objectBoundingBox",children:[e.jsx("feTurbulence",{type:"fractalNoise",baseFrequency:"0.001 0.005",numOctaves:"1",seed:"17",result:"turbulence"}),e.jsxs("feComponentTransfer",{in:"turbulence",result:"mapped",children:[e.jsx("feFuncR",{type:"gamma",amplitude:"1",exponent:"10",offset:"0.5"}),e.jsx("feFuncG",{type:"gamma",amplitude:"0",exponent:"1",offset:"0"}),e.jsx("feFuncB",{type:"gamma",amplitude:"0",exponent:"1",offset:"0.5"})]}),e.jsx("feGaussianBlur",{in:"turbulence",stdDeviation:"3",result:"softMap"}),e.jsx("feSpecularLighting",{in:"softMap",surfaceScale:"5",specularConstant:"1",specularExponent:"100",lightingColor:"white",result:"specLight",children:e.jsx("fePointLight",{x:"-200",y:"-200",z:"300"})}),e.jsx("feComposite",{in:"specLight",operator:"arithmetic",k1:"0",k2:"1",k3:"1",k4:"0",result:"litImage"}),e.jsx("feDisplacementMap",{in:"SourceGraphic",in2:"softMap",scale:"50",xChannelSelector:"R",yChannelSelector:"G"})]})});function bO(){const[t,i]=N.useState(!1),[a,o]=N.useState(!1);N.useEffect(()=>{const u=()=>{i(window.scrollY>100)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]);const c=["Features","How It Works","For Officials","About"];return e.jsxs(e.Fragment,{children:[e.jsx(yO,{}),e.jsxs("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-500 ${t?"py-3":"py-6"}`,children:[e.jsx("div",{className:"mx-auto max-w-7xl px-6 md:px-8 transition-all duration-500 ",children:e.jsxs("div",{className:`relative flex items-center justify-between transition-all duration-500 ${t?"rounded-2xl px-6 py-3":"px-0 py-0"}`,style:t?{boxShadow:"0 6px 20px rgba(0, 0, 0, 0.3), 0 0 40px rgba(0, 0, 0, 0.1)"}:{},children:[t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden rounded-2xl",style:{backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"}}),e.jsx("div",{className:"absolute inset-0 z-10 rounded-2xl",style:{background:"rgba(0, 0, 0, 0.4)"}}),e.jsx("div",{className:"absolute inset-0 z-20 rounded-2xl overflow-hidden",style:{boxShadow:"inset 1px 1px 1px 0 rgba(255, 255, 255, 0.1), inset -1px -1px 1px 1px rgba(255, 255, 255, 0.05)"}})]}),e.jsxs("div",{className:"relative z-30 flex items-center justify-between w-full",children:[e.jsx(St,{to:"/",children:e.jsx(pn,{size:t?"small":"default"})}),e.jsx("nav",{className:"hidden md:flex items-center gap-8",children:c.map(u=>e.jsx("a",{href:`#${u.toLowerCase().replace(/\s+/g,"-")}`,className:"text-sm text-white/70 hover:text-white transition-colors font-medium",style:{fontFamily:"'Inter', sans-serif"},children:u},u))}),e.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[e.jsx(St,{to:"/login",className:"px-4 py-2 text-sm text-white/70 hover:text-white transition-colors font-medium",children:"Sign In"}),e.jsx(St,{to:"/signup",className:"px-5 py-2 text-sm font-semibold text-white bg-gradient-to-r from-rose-500 via-pink-500 to-violet-500 rounded-full shadow-lg shadow-rose-500/25 hover:shadow-rose-500/40 hover:scale-105 transition-all",children:"Sign up"})]}),e.jsx("button",{className:"md:hidden relative z-30 p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",onClick:()=>o(!a),children:a?e.jsx(ls,{className:"h-5 w-5 text-white"}):e.jsx(nj,{className:"h-5 w-5 text-white"})})]})]})}),a&&e.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 mt-2 mx-6",style:{boxShadow:"0 6px 20px rgba(0, 0, 0, 0.3)"},children:e.jsx("div",{className:"relative rounded-2xl overflow-hidden",style:{backdropFilter:"blur(12px)",background:"rgba(0, 0, 0, 0.8)"},children:e.jsxs("nav",{className:"flex flex-col p-6 gap-4",children:[c.map(u=>e.jsx("a",{href:`#${u.toLowerCase().replace(/\s+/g,"-")}`,className:"text-white/70 hover:text-white transition-colors py-2 font-medium",onClick:()=>o(!1),children:u},u)),e.jsxs("div",{className:"pt-4 border-t border-white/10 space-y-3",children:[e.jsx(St,{to:"/login",className:"block w-full px-5 py-2.5 text-sm font-semibold text-white border border-white/20 rounded-full text-center hover:bg-white/10 transition-colors",onClick:()=>o(!1),children:"Sign In"}),e.jsx(St,{to:"/signup",className:"block w-full px-5 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-rose-500 via-pink-500 to-violet-500 rounded-full shadow-lg shadow-rose-500/25 text-center",onClick:()=>o(!1),children:"Report Issue"})]})]})})})]})]})}function wO(){return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a]",children:[e.jsx(bO,{}),e.jsx(JT,{}),e.jsx(lO,{}),e.jsx(hO,{}),e.jsx(fO,{}),e.jsx(xO,{})]})}const _O=[{id:"citizen",title:"Citizen",description:"Report issues & track resolutions in your community",icon:Vi,color:"from-rose-500 to-pink-500"},{id:"official",title:"Official",description:"Manage & resolve issues as a municipal representative",icon:xf,color:"from-violet-500 to-indigo-500"},{id:"community",title:"Community",description:"Represent your neighborhood or organization",icon:bk,color:"from-pink-500 to-violet-500"}];function jO(){const t=Gt(),{signup:i,googleAuth:a}=$t(),[o,c]=N.useState(null),[u,f]=N.useState(!1),[m,x]=N.useState(!1),[v,b]=N.useState(""),[w,j]=N.useState({username:"",email:"",password:""}),E=M=>{const{name:B,value:T}=M.target;j(D=>({...D,[B]:T})),b("")},A=async M=>{if(M.preventDefault(),console.log(" [SignUp Page] Form submitted:",{username:w.username,email:w.email,role:o}),!o){console.log(" [SignUp Page] No role selected"),b("Please select a role");return}x(!0),b("");const B=await i(w.username,w.email,w.password,o);if(console.log(" [SignUp Page] Signup result:",B),B.success){const T=`/dashboard/${B.user.role}`;console.log(" [SignUp Page] Redirecting to:",T),t(T,{replace:!0})}else console.log(" [SignUp Page] Signup failed:",B.error),b(B.error||"Signup failed. Please try again.");x(!1)},k=async M=>{if(console.log(" [SignUp Page] Google signup success, credential received"),!o){console.log(" [SignUp Page] No role selected for Google signup"),b("Please select a role first");return}x(!0),b("");const B=await a(M.credential,o);if(console.log(" [SignUp Page] Google auth result:",B),B.success){const T=`/dashboard/${B.user.role}`;console.log(" [SignUp Page] Redirecting to:",T),t(T,{replace:!0})}else console.log(" [SignUp Page] Google signup failed:",B.error),b(B.error||"Google signup failed. Please try again.");x(!1)},O=()=>{console.log(" [SignUp Page] Google sign-in error/cancelled"),b("Google sign-in was cancelled or failed. Please try again.")};return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] flex",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:["radial-gradient(80% 55% at 50% 52%, rgba(244,63,94,0.35) 0%, rgba(236,72,153,0.36) 27%, rgba(139,92,246,0.28) 47%, rgba(99,102,241,0.35) 60%, rgba(8,12,12,0.92) 78%, rgba(10,10,10,1) 88%)","radial-gradient(85% 60% at 14% 0%, rgba(251,113,133,0.45) 0%, rgba(244,63,94,0.38) 30%, rgba(48,28,24,0.0) 64%)","radial-gradient(70% 50% at 86% 22%, rgba(139,92,246,0.30) 0%, rgba(16,28,28,0.0) 55%)"].join(","),backgroundColor:"#0a0a0a"}}),e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:["repeating-linear-gradient(90deg, rgba(244,63,94,0.09) 0 1px, transparent 1px 96px)","repeating-linear-gradient(0deg, rgba(139,92,246,0.06) 0 1px, transparent 1px 96px)"].join(",")}}),e.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-12 xl:px-20",children:[e.jsx(St,{to:"/",className:"absolute top-8 left-8",children:e.jsx(pn,{size:"default"})}),e.jsxs("div",{className:"mt-20",children:[e.jsxs("h1",{className:"text-4xl xl:text-5xl font-display font-bold text-white mb-6",children:["Join the Movement for"," ",e.jsx("span",{className:"bg-gradient-to-r from-rose-500 via-pink-500 to-violet-500 bg-clip-text text-transparent",children:"Better Cities"})]}),e.jsx("p",{className:"text-lg text-white/70 mb-12 max-w-md",children:"Empower your community. Report issues. Track progress. Make a real difference."}),e.jsx("div",{className:"flex gap-12",children:[{value:"10K+",label:"Issues Resolved"},{value:"50+",label:"Cities Active"},{value:"85%",label:"Resolution Rate"}].map(M=>e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-rose-500 to-violet-500 bg-clip-text text-transparent",children:M.value}),e.jsx("div",{className:"text-sm text-white/50",children:M.label})]},M.label))})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-[#0a0a0a] to-transparent"})]}),e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6 md:p-12",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"lg:hidden mb-8 flex justify-center",children:e.jsx(pn,{size:"large"})}),e.jsxs(St,{to:"/",className:"inline-flex items-center gap-2 text-white/60 hover:text-white transition-colors mb-8",children:[e.jsx(Yn,{className:"h-4 w-4"}),"Back to Home"]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-8 backdrop-blur-sm",children:[e.jsx("h2",{className:"text-2xl font-display font-bold text-white mb-2",children:"Create Account"}),e.jsx("p",{className:"text-white/60 mb-8",children:"Choose your role and get started"}),v&&e.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-red-500/10 border border-red-500/50 flex items-start gap-3",children:[e.jsx(bs,{className:"h-5 w-5 text-red-500 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-200",children:v})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-3",children:"Select Your Role"}),e.jsx("div",{className:"grid gap-3",children:_O.map(M=>e.jsxs("button",{type:"button",onClick:()=>c(M.id),disabled:m,className:`relative flex items-center gap-4 p-4 rounded-xl border transition-all text-left ${o===M.id?"border-rose-500/50 bg-rose-500/10":"border-white/10 bg-white/5 hover:border-white/20 hover:bg-white/10"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br ${M.color}`,children:e.jsx(M.icon,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-white",children:M.title}),e.jsx("div",{className:"text-sm text-white/50",children:M.description})]}),o===M.id&&e.jsx(nu,{className:"h-5 w-5 text-rose-500"})]},M.id))})]}),e.jsxs("form",{onSubmit:A,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(Vi,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-white/40"}),e.jsx("input",{type:"text",name:"username",value:w.username,onChange:E,placeholder:"Enter your username",className:"w-full bg-white/5 border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-rose-500/50 focus:border-rose-500/50 transition-all",required:!0,disabled:m})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(gl,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-white/40"}),e.jsx("input",{type:"email",name:"email",value:w.email,onChange:E,placeholder:"Enter your email",className:"w-full bg-white/5 border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-rose-500/50 focus:border-rose-500/50 transition-all",required:!0,disabled:m})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Gh,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-white/40"}),e.jsx("input",{type:u?"text":"password",name:"password",value:w.password,onChange:E,placeholder:"Create a password",className:"w-full bg-white/5 border border-white/10 rounded-xl py-3 pl-12 pr-12 text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-rose-500/50 focus:border-rose-500/50 transition-all",required:!0,disabled:m}),e.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/40 hover:text-white/60 transition-colors",children:u?e.jsx(au,{className:"h-5 w-5"}):e.jsx(Fa,{className:"h-5 w-5"})})]})]}),e.jsx("button",{type:"submit",disabled:!o||m,className:"w-full bg-white text-black font-semibold py-3 rounded-xl shadow-lg shadow-white/20 hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:m?"Creating Account...":"Create Account"})]}),e.jsxs("div",{className:"flex items-center gap-4 my-6",children:[e.jsx("div",{className:"flex-1 h-px bg-white/10"}),e.jsx("span",{className:"text-sm text-white/40",children:"or continue with"}),e.jsx("div",{className:"flex-1 h-px bg-white/10"})]}),e.jsx("div",{className:"flex justify-center",children:o?e.jsx(i_,{onSuccess:k,onError:O,theme:"filled_black",size:"large",width:350,text:"signup_with",shape:"rectangular",logo_alignment:"left"}):e.jsxs("button",{type:"button",disabled:!0,className:"w-full flex items-center justify-center gap-3 bg-white/5 border border-white/10 rounded-xl py-3 text-white font-medium opacity-50 cursor-not-allowed",children:[e.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Select a role first to sign up with Google"]})}),e.jsxs("p",{className:"mt-8 text-center text-white/60",children:["Already have an account?"," ",e.jsx(St,{to:"/login",className:"text-rose-500 hover:text-pink-500 font-medium transition-colors",children:"Sign In"})]})]}),e.jsxs("p",{className:"mt-6 text-center text-sm text-white/40",children:["By signing up, you agree to our"," ",e.jsx("a",{href:"#terms",className:"text-white/60 hover:text-white underline",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"#privacy",className:"text-white/60 hover:text-white underline",children:"Privacy Policy"})]})]})})]})}function NO(){const t=Gt(),{login:i,googleAuth:a}=$t(),[o,c]=N.useState(!1),[u,f]=N.useState(!1),[m,x]=N.useState(""),[v,b]=N.useState({email:"",password:""}),w=k=>{const{name:O,value:M}=k.target;b(B=>({...B,[O]:M})),x("")},j=async k=>{k.preventDefault(),console.log(" [Login Page] Form submitted:",{email:v.email}),f(!0),x("");const O=await i(v.email,v.password);if(console.log(" [Login Page] Login result:",O),O.success){const M=`/dashboard/${O.user.role}`;console.log(" [Login Page] Redirecting to:",M),t(M,{replace:!0})}else console.log(" [Login Page] Login failed:",O.error),x(O.error||"Login failed. Please try again.");f(!1)},E=async k=>{console.log(" [Login Page] Google login success, credential received"),f(!0),x("");const O=await a(k.credential,"citizen");if(console.log(" [Login Page] Google auth result:",O),O.success){const M=`/dashboard/${O.user.role}`;console.log(" [Login Page] Redirecting to:",M),t(M,{replace:!0})}else console.log(" [Login Page] Google login failed:",O.error),x(O.error||"Google login failed. Please try again.");f(!1)},A=()=>{console.log(" [Login Page] Google sign-in error/cancelled"),x("Google sign-in was cancelled or failed. Please try again.")};return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] flex",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:["radial-gradient(80% 55% at 50% 52%, rgba(244,63,94,0.35) 0%, rgba(236,72,153,0.36) 27%, rgba(139,92,246,0.28) 47%, rgba(99,102,241,0.35) 60%, rgba(8,12,12,0.92) 78%, rgba(10,10,10,1) 88%)","radial-gradient(85% 60% at 14% 0%, rgba(251,113,133,0.45) 0%, rgba(244,63,94,0.38) 30%, rgba(48,28,24,0.0) 64%)","radial-gradient(70% 50% at 86% 22%, rgba(139,92,246,0.30) 0%, rgba(16,28,28,0.0) 55%)"].join(","),backgroundColor:"#0a0a0a"}}),e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:["repeating-linear-gradient(90deg, rgba(244,63,94,0.09) 0 1px, transparent 1px 96px)","repeating-linear-gradient(0deg, rgba(139,92,246,0.06) 0 1px, transparent 1px 96px)"].join(",")}}),e.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-12 xl:px-20",children:[e.jsx(St,{to:"/",className:"absolute top-8 left-8",children:e.jsx(pn,{size:"default"})}),e.jsxs("div",{className:"max-w-lg",children:[e.jsx("h1",{className:"font-playfair text-5xl xl:text-6xl font-bold mb-6 bg-gradient-to-r from-white via-rose-100 to-violet-200 bg-clip-text text-transparent",style:{lineHeight:"1.2"},children:"Welcome Back to CitizenVoice"}),e.jsx("p",{className:"text-lg text-white/70 mb-12",children:"Sign in to continue making a difference in your community."}),e.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-rose-400 to-pink-400 bg-clip-text text-transparent mb-2",children:"12K+"}),e.jsx("div",{className:"text-sm text-white/60",children:"Issues Resolved"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-violet-400 to-indigo-400 bg-clip-text text-transparent mb-2",children:"98%"}),e.jsx("div",{className:"text-sm text-white/60",children:"Response Rate"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-pink-400 to-violet-400 bg-clip-text text-transparent mb-2",children:"24h"}),e.jsx("div",{className:"text-sm text-white/60",children:"Avg Response"})]})]})]})]})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs(St,{to:"/",className:"lg:hidden inline-flex items-center gap-2 text-white/60 hover:text-white transition-colors mb-8",children:[e.jsx(Yn,{className:"w-4 h-4"}),e.jsx("span",{children:"Back to Home"})]}),e.jsx("div",{className:"lg:hidden mb-8",children:e.jsx(pn,{size:"default"})}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative rounded-2xl p-8 backdrop-blur-xl border",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%)",borderColor:"rgba(255,255,255,0.08)",boxShadow:["0 8px 32px rgba(0,0,0,0.4)","inset 0 1px 0 rgba(255,255,255,0.1)"].join(",")},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"font-playfair text-3xl font-bold text-white mb-2",children:"Sign In"}),e.jsx("p",{className:"text-white/60",children:"Access your CitizenVoice account"})]}),m&&e.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-red-500/10 border border-red-500/50 flex items-start gap-3",children:[e.jsx(bs,{className:"h-5 w-5 text-red-500 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-200",children:m})]}),e.jsxs("form",{onSubmit:j,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white/80 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(gl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"email",id:"email",name:"email",value:v.email,onChange:w,className:"w-full pl-12 pr-4 py-3 rounded-lg bg-white/5 border border-white/10 text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-rose-500/50 focus:border-rose-500/50 transition-all",placeholder:"you@example.com",required:!0,disabled:u})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white/80",children:"Password"}),e.jsx(St,{to:"/forgot-password",className:"text-sm text-rose-400 hover:text-rose-300 transition-colors",children:"Forgot?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Gh,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:o?"text":"password",id:"password",name:"password",value:v.password,onChange:w,className:"w-full pl-12 pr-12 py-3 rounded-lg bg-white/5 border border-white/10 text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-rose-500/50 focus:border-rose-500/50 transition-all",placeholder:"",required:!0,disabled:u}),e.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/40 hover:text-white/60 transition-colors",children:o?e.jsx(au,{size:20}):e.jsx(Fa,{size:20})})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"remember",className:"w-4 h-4 rounded border-white/20 bg-white/5 text-rose-500 focus:ring-2 focus:ring-rose-500/50"}),e.jsx("label",{htmlFor:"remember",className:"ml-2 text-sm text-white/60",children:"Remember me for 30 days"})]}),e.jsx("button",{type:"submit",disabled:u,className:"w-full py-3 rounded-lg font-semibold text-white bg-gradient-to-r from-rose-500 via-pink-500 to-violet-500 hover:from-rose-600 hover:via-pink-600 hover:to-violet-600 transition-all duration-300 shadow-lg shadow-rose-500/25 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Signing in...":"Sign In"})]}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-white/10"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-[#0a0a0a]/80 text-white/40",children:"Or continue with"})})]}),e.jsx("div",{className:"flex justify-center w-full",children:e.jsx(i_,{onSuccess:E,onError:A,theme:"filled_black",size:"large",width:350,text:"signin_with",shape:"rectangular",logo_alignment:"left"})}),e.jsxs("p",{className:"text-center text-sm text-white/60 mt-6",children:["Don't have an account?"," ",e.jsx(St,{to:"/signup",className:"text-rose-400 hover:text-rose-300 font-medium transition-colors",children:"Sign up"})]})]}),e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-rose-500/20 via-pink-500/20 to-violet-500/20 rounded-2xl blur-xl -z-10",style:{opacity:.5}})]})]})})]})}function SO(){const[t,i]=N.useState(""),[a,o]=N.useState(!1),[c,u]=N.useState(""),[f,m]=N.useState(!1),x=async v=>{if(v.preventDefault(),console.log(" [ForgotPassword] Form submitted for:",t),!t){u("Please enter your email address");return}o(!0),u("");try{await Ia.forgotPassword(t),console.log(" [ForgotPassword] Request successful"),m(!0)}catch(b){console.error(" [ForgotPassword] Error:",b.message),m(!0)}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] flex",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:["radial-gradient(80% 55% at 50% 52%, rgba(244,63,94,0.35) 0%, rgba(236,72,153,0.36) 27%, rgba(139,92,246,0.28) 47%, rgba(99,102,241,0.35) 60%, rgba(8,12,12,0.92) 78%, rgba(10,10,10,1) 88%)","radial-gradient(85% 60% at 14% 0%, rgba(251,113,133,0.45) 0%, rgba(244,63,94,0.38) 30%, rgba(48,28,24,0.0) 64%)","radial-gradient(70% 50% at 86% 22%, rgba(139,92,246,0.30) 0%, rgba(16,28,28,0.0) 55%)"].join(","),backgroundColor:"#0a0a0a"}}),e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:["repeating-linear-gradient(90deg, rgba(244,63,94,0.09) 0 1px, transparent 1px 96px)","repeating-linear-gradient(0deg, rgba(139,92,246,0.06) 0 1px, transparent 1px 96px)"].join(",")}}),e.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-12 xl:px-20",children:[e.jsx(St,{to:"/",className:"absolute top-8 left-8",children:e.jsx(pn,{size:"default"})}),e.jsxs("div",{className:"mt-20",children:[e.jsxs("h1",{className:"text-4xl xl:text-5xl font-display font-bold text-white mb-6",children:["Forgot Your"," ",e.jsx("span",{className:"bg-gradient-to-r from-rose-500 via-pink-500 to-violet-500 bg-clip-text text-transparent",children:"Password?"})]}),e.jsx("p",{className:"text-lg text-white/70 mb-12 max-w-md",children:"No worries! Enter your email and we'll send you a link to reset your password."})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-[#0a0a0a] to-transparent"})]}),e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6 md:p-12",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"lg:hidden mb-8 flex justify-center",children:e.jsx(pn,{size:"large"})}),e.jsxs(St,{to:"/login",className:"inline-flex items-center gap-2 text-white/60 hover:text-white mb-8 transition-colors",children:[e.jsx(Yn,{className:"h-4 w-4"}),"Back to Sign In"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8",children:f?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-6",children:e.jsx(nu,{className:"h-8 w-8 text-green-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Check Your Email"}),e.jsxs("p",{className:"text-white/60 mb-6",children:["If an account exists for ",e.jsx("span",{className:"text-rose-400",children:t}),", you will receive a password reset link shortly."]}),e.jsx("p",{className:"text-white/40 text-sm mb-6",children:"Didn't receive the email? Check your spam folder or try again."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>{m(!1),i("")},className:"w-full py-3 rounded-lg font-semibold text-white bg-white/10 hover:bg-white/20 transition-all",children:"Try Another Email"}),e.jsx(St,{to:"/login",className:"block w-full py-3 rounded-lg font-semibold text-white bg-gradient-to-r from-rose-500 via-pink-500 to-violet-500 hover:from-rose-600 hover:via-pink-600 hover:to-violet-600 transition-all text-center",children:"Back to Sign In"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Reset Password"}),e.jsx("p",{className:"text-white/60 mb-8",children:"Enter your email address and we'll send you instructions to reset your password."}),c&&e.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-red-500/10 border border-red-500/20 flex items-start gap-3",children:[e.jsx(bs,{className:"h-5 w-5 text-red-400 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-200",children:c})]}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white/80 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(gl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"email",id:"email",value:t,onChange:v=>{i(v.target.value),u("")},className:"w-full pl-12 pr-4 py-3 rounded-lg bg-white/5 border border-white/10 text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-rose-500/50 focus:border-rose-500/50 transition-all",placeholder:"you@example.com",required:!0,disabled:a})]})]}),e.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 rounded-lg font-semibold text-white bg-gradient-to-r from-rose-500 via-pink-500 to-violet-500 hover:from-rose-600 hover:via-pink-600 hover:to-violet-600 transition-all duration-300 shadow-lg shadow-rose-500/25 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Sending...":"Send Reset Link"})]})]})}),e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-rose-500/20 via-pink-500/20 to-violet-500/20 rounded-2xl blur-xl -z-10",style:{opacity:.5}})]}),e.jsxs("p",{className:"mt-8 text-center text-white/60",children:["Remember your password?"," ",e.jsx(St,{to:"/login",className:"text-rose-400 hover:text-rose-300 font-medium transition-colors",children:"Sign In"})]})]})})]})}function CO(){const t=Gt(),[i]=zS(),a=i.get("token"),[o,c]=N.useState(!1),[u,f]=N.useState(!1),[m,x]=N.useState(!1),[v,b]=N.useState(""),[w,j]=N.useState(!1),[E,A]=N.useState({newPassword:"",confirmPassword:""}),[k,O]=N.useState({length:!1,hasLetter:!1,hasNumber:!1,match:!1});N.useEffect(()=>{const{newPassword:D,confirmPassword:V}=E;O({length:D.length>=8,hasLetter:/[a-zA-Z]/.test(D),hasNumber:/[0-9]/.test(D),match:D===V&&D.length>0})},[E]),N.useEffect(()=>{a||b("Invalid reset link. Please request a new password reset.")},[a]);const M=D=>{const{name:V,value:R}=D.target;A(Z=>({...Z,[V]:R})),b("")},B=async D=>{D.preventDefault(),console.log(" [ResetPassword] Form submitted");const{newPassword:V,confirmPassword:R}=E;if(!V||!R){b("Please fill in all fields");return}if(V!==R){b("Passwords do not match");return}if(V.length<8){b("Password must be at least 8 characters long");return}if(!k.hasLetter||!k.hasNumber){b("Password must contain at least one letter and one number");return}x(!0),b("");try{await Ia.resetPassword(a,V),console.log(" [ResetPassword] Password reset successful"),j(!0),setTimeout(()=>{t("/login?reset=success")},3e3)}catch(Z){console.error(" [ResetPassword] Error:",Z.message),b(Z.message||"Failed to reset password. Please try again.")}finally{x(!1)}},T=({passed:D,text:V})=>e.jsxs("div",{className:`flex items-center gap-2 text-sm ${D?"text-green-400":"text-white/40"}`,children:[D?e.jsx(nu,{className:"h-4 w-4"}):e.jsx(Zs,{className:"h-4 w-4"}),V]});return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] flex",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:["radial-gradient(80% 55% at 50% 52%, rgba(244,63,94,0.35) 0%, rgba(236,72,153,0.36) 27%, rgba(139,92,246,0.28) 47%, rgba(99,102,241,0.35) 60%, rgba(8,12,12,0.92) 78%, rgba(10,10,10,1) 88%)","radial-gradient(85% 60% at 14% 0%, rgba(251,113,133,0.45) 0%, rgba(244,63,94,0.38) 30%, rgba(48,28,24,0.0) 64%)","radial-gradient(70% 50% at 86% 22%, rgba(139,92,246,0.30) 0%, rgba(16,28,28,0.0) 55%)"].join(","),backgroundColor:"#0a0a0a"}}),e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:["repeating-linear-gradient(90deg, rgba(244,63,94,0.09) 0 1px, transparent 1px 96px)","repeating-linear-gradient(0deg, rgba(139,92,246,0.06) 0 1px, transparent 1px 96px)"].join(",")}}),e.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-12 xl:px-20",children:[e.jsx(St,{to:"/",className:"absolute top-8 left-8",children:e.jsx(pn,{size:"default"})}),e.jsxs("div",{className:"mt-20",children:[e.jsxs("h1",{className:"text-4xl xl:text-5xl font-display font-bold text-white mb-6",children:["Create Your"," ",e.jsx("span",{className:"bg-gradient-to-r from-rose-500 via-pink-500 to-violet-500 bg-clip-text text-transparent",children:"New Password"})]}),e.jsx("p",{className:"text-lg text-white/70 mb-12 max-w-md",children:"Choose a strong password to keep your account secure."})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-[#0a0a0a] to-transparent"})]}),e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6 md:p-12",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"lg:hidden mb-8 flex justify-center",children:e.jsx(pn,{size:"large"})}),e.jsxs(St,{to:"/login",className:"inline-flex items-center gap-2 text-white/60 hover:text-white mb-8 transition-colors",children:[e.jsx(Yn,{className:"h-4 w-4"}),"Back to Sign In"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8",children:w?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-6",children:e.jsx(nu,{className:"h-8 w-8 text-green-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Password Reset Successful!"}),e.jsx("p",{className:"text-white/60 mb-6",children:"Your password has been changed successfully. You can now sign in with your new password."}),e.jsx("p",{className:"text-white/40 text-sm mb-6",children:"Redirecting to sign in page..."}),e.jsx(St,{to:"/login",className:"block w-full py-3 rounded-lg font-semibold text-white bg-gradient-to-r from-rose-500 via-pink-500 to-violet-500 hover:from-rose-600 hover:via-pink-600 hover:to-violet-600 transition-all text-center",children:"Sign In Now"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Set New Password"}),e.jsx("p",{className:"text-white/60 mb-8",children:"Your new password must be different from previously used passwords."}),v&&e.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-red-500/10 border border-red-500/20 flex items-start gap-3",children:[e.jsx(bs,{className:"h-5 w-5 text-red-400 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-200",children:v})]}),a?e.jsxs("form",{onSubmit:B,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-white/80 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Gh,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:o?"text":"password",id:"newPassword",name:"newPassword",value:E.newPassword,onChange:M,className:"w-full pl-12 pr-12 py-3 rounded-lg bg-white/5 border border-white/10 text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-rose-500/50 focus:border-rose-500/50 transition-all",placeholder:"Enter new password",required:!0,disabled:m}),e.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/40 hover:text-white/60 transition-colors",children:o?e.jsx(au,{size:20}):e.jsx(Fa,{size:20})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-white/80 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Gh,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:u?"text":"password",id:"confirmPassword",name:"confirmPassword",value:E.confirmPassword,onChange:M,className:"w-full pl-12 pr-12 py-3 rounded-lg bg-white/5 border border-white/10 text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-rose-500/50 focus:border-rose-500/50 transition-all",placeholder:"Confirm new password",required:!0,disabled:m}),e.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/40 hover:text-white/60 transition-colors",children:u?e.jsx(au,{size:20}):e.jsx(Fa,{size:20})})]})]}),e.jsxs("div",{className:"space-y-2 p-4 rounded-lg bg-white/5 border border-white/10",children:[e.jsx("p",{className:"text-sm font-medium text-white/80 mb-3",children:"Password Requirements:"}),e.jsx(T,{passed:k.length,text:"At least 8 characters"}),e.jsx(T,{passed:k.hasLetter,text:"Contains a letter"}),e.jsx(T,{passed:k.hasNumber,text:"Contains a number"}),e.jsx(T,{passed:k.match,text:"Passwords match"})]}),e.jsx("button",{type:"submit",disabled:m||!Object.values(k).every(Boolean),className:"w-full py-3 rounded-lg font-semibold text-white bg-gradient-to-r from-rose-500 via-pink-500 to-violet-500 hover:from-rose-600 hover:via-pink-600 hover:to-violet-600 transition-all duration-300 shadow-lg shadow-rose-500/25 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Resetting...":"Reset Password"})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-6",children:e.jsx(Zs,{className:"h-8 w-8 text-red-400"})}),e.jsx("p",{className:"text-white/60 mb-6",children:"Invalid or missing reset token."}),e.jsx(St,{to:"/forgot-password",className:"block w-full py-3 rounded-lg font-semibold text-white bg-gradient-to-r from-rose-500 via-pink-500 to-violet-500 hover:from-rose-600 hover:via-pink-600 hover:to-violet-600 transition-all text-center",children:"Request New Reset Link"})]})]})}),e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-rose-500/20 via-pink-500/20 to-violet-500/20 rounded-2xl blur-xl -z-10",style:{opacity:.5}})]})]})})]})}const kO=15e3;async function Ye(t,i={},a=kO){const o=new AbortController,c=setTimeout(()=>o.abort(),a);try{return await fetch(t,{...i,signal:o.signal})}catch(u){throw u?.name==="AbortError"?new Error("Request timed out"):u}finally{clearTimeout(c)}}const ch="http://localhost:3000/api";class TO{async getProfile(){const i=await Ye(`${ch}/users/profile`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!i.ok){const a=await i.json();throw new Error(a.message||"Failed to fetch profile")}return i.json()}async updateProfile(i){const a=await Ye(`${ch}/users/profile`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!a.ok){const o=await a.json();throw new Error(o.message||"Failed to update profile")}return a.json()}async checkProfileCompletion(){const i=await Ye(`${ch}/users/profile/completion`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!i.ok){const a=await i.json();throw new Error(a.message||"Failed to check profile completion")}return i.json()}async uploadProfilePhoto(i){const a=new FormData;a.append("photo",i);const o=await Ye(`${ch}/users/profile/photo`,{method:"POST",credentials:"include",body:a});if(!o.ok){const c=await o.json();throw new Error(c.message||"Failed to upload photo")}return o.json()}}const Yr=new TO,EO=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Delhi","Jammu and Kashmir","Ladakh","Puducherry","Chandigarh","Andaman and Nicobar Islands","Dadra and Nagar Haveli and Daman and Diu","Lakshadweep"];function AO(){const t=Gt(),{user:i,refreshUser:a}=$t(),[o,c]=N.useState(!0),[u,f]=N.useState(!1),[m,x]=N.useState(null),[v,b]=N.useState(null),[w,j]=N.useState(null),[E,A]=N.useState(null),[k,O]=N.useState({fullAddress:{houseNo:"",area:"",city:"",district:"",state:"",pincode:""},aadhaarNumber:"",mobileNumber:"",communityDetails:{organizationName:"",area:""}});N.useEffect(()=>{M()},[]);const M=async()=>{try{c(!0),x(null);const[R,Z]=await Promise.all([Yr.getProfile(),Yr.checkProfileCompletion()]),H=R.data?.user;j(H),A(Z.data),O({fullAddress:{houseNo:H?.fullAddress?.houseNo||"",area:H?.fullAddress?.area||"",city:H?.fullAddress?.city||"",district:H?.fullAddress?.district||"",state:H?.fullAddress?.state||"",pincode:H?.fullAddress?.pincode||""},aadhaarNumber:H?.aadhaarNumber||"",mobileNumber:H?.mobileNumber||"",communityDetails:{organizationName:H?.communityDetails?.organizationName||"",area:H?.communityDetails?.area||""}})}catch(R){console.error("Error loading profile:",R),x(R.message||"Failed to load profile")}finally{c(!1)}},B=(R,Z)=>{if(R.includes(".")){const[H,G]=R.split(".");O(ee=>({...ee,[H]:{...ee[H],[G]:Z}}))}else O(H=>({...H,[R]:Z}))},T=()=>{const R=[];return k.aadhaarNumber&&!/^\d{12}$/.test(k.aadhaarNumber)&&R.push("Aadhaar number must be exactly 12 digits"),k.mobileNumber&&!/^[6-9]\d{9}$/.test(k.mobileNumber)&&R.push("Mobile number must be a valid 10-digit Indian number"),k.fullAddress.pincode&&!/^\d{6}$/.test(k.fullAddress.pincode)&&R.push("Pincode must be exactly 6 digits"),R},D=async R=>{R.preventDefault();const Z=T();if(Z.length>0){x(Z.join(", "));return}try{f(!0),x(null),b(null);const H=await Yr.updateProfile(k);await M(),a&&await a(),H.data?.isProfileComplete||H.data?.user?.isProfileComplete?(b("Profile completed successfully! Redirecting to dashboard..."),setTimeout(()=>{const ee=i?.role;t(ee==="official"?"/dashboard/official":ee==="community"?"/dashboard/community":"/dashboard/citizen")},1500)):(b("Profile updated successfully!"),setTimeout(()=>b(null),3e3))}catch(H){console.error("Error saving profile:",H),x(H.message||"Failed to save profile")}finally{f(!1)}},V=()=>{const R=i?.role;t(R==="official"?"/dashboard/official":R==="community"?"/dashboard/community":"/dashboard/citizen")};return o?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Pe,{className:"mx-auto h-12 w-12 animate-spin text-rose-500"}),e.jsx("p",{className:"mt-4 text-white/60",children:"Loading profile..."})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 py-8 px-4",children:e.jsxs("div",{className:"mx-auto max-w-4xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:V,className:"flex items-center gap-2 text-white/60 hover:text-white transition-colors mb-4",children:[e.jsx(Yn,{className:"h-5 w-5"}),e.jsx("span",{children:"Back to Dashboard"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Profile Settings"}),e.jsx("p",{className:"mt-1 text-white/60",children:"Complete your profile to access all features"})]}),E&&e.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full ${E.isProfileComplete?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-amber-500/20 text-amber-400 border border-amber-500/30"}`,children:[E.isProfileComplete?e.jsx(Be,{className:"h-5 w-5"}):e.jsx(bs,{className:"h-5 w-5"}),e.jsxs("span",{className:"font-medium",children:[E.completionPercentage,"% Complete"]})]})]})]}),m&&e.jsxs("div",{className:"mb-6 flex items-center gap-3 rounded-xl border border-rose-500/30 bg-rose-500/10 p-4",children:[e.jsx(bs,{className:"h-5 w-5 text-rose-400 flex-shrink-0"}),e.jsx("p",{className:"text-rose-400",children:m})]}),v&&e.jsxs("div",{className:"mb-6 flex items-center gap-3 rounded-xl border border-emerald-500/30 bg-emerald-500/10 p-4",children:[e.jsx(Be,{className:"h-5 w-5 text-emerald-400 flex-shrink-0"}),e.jsx("p",{className:"text-emerald-400",children:v})]}),E&&!E.isProfileComplete&&e.jsx("div",{className:"mb-6 rounded-xl border border-amber-500/30 bg-amber-500/10 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(bs,{className:"h-5 w-5 text-amber-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-amber-400",children:"Profile Incomplete"}),e.jsxs("p",{className:"mt-1 text-sm text-amber-300/70",children:["Missing fields: ",E.missingFields?.join(", ")]})]})]})}),e.jsxs("form",{onSubmit:D,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 border-b border-white/10 bg-white/5 px-6 py-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-rose-500/20",children:e.jsx(Vi,{className:"h-5 w-5 text-rose-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-white",children:"Basic Information"}),e.jsx("p",{className:"text-sm text-white/50",children:"Your account details"})]})]}),e.jsxs("div",{className:"p-6 grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Username"}),e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-white/10 bg-white/5 px-4 py-3",children:[e.jsx(Vi,{className:"h-5 w-5 text-white/40"}),e.jsx("span",{className:"text-white",children:w?.username||"N/A"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-white/10 bg-white/5 px-4 py-3",children:[e.jsx(gl,{className:"h-5 w-5 text-white/40"}),e.jsx("span",{className:"text-white",children:w?.email||"N/A"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Role"}),e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-white/10 bg-white/5 px-4 py-3",children:[e.jsx(qa,{className:"h-5 w-5 text-white/40"}),e.jsx("span",{className:"text-white capitalize",children:w?.role||"N/A"})]})]})]})]}),e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 border-b border-white/10 bg-white/5 px-6 py-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/20",children:e.jsx(C0,{className:"h-5 w-5 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-white",children:"Full Address"}),e.jsx("p",{className:"text-sm text-white/50",children:"Your residential address"})]})]}),e.jsxs("div",{className:"p-6 grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"House No / Flat No *"}),e.jsx("input",{type:"text",value:k.fullAddress.houseNo,onChange:R=>B("fullAddress.houseNo",R.target.value),placeholder:"e.g., 123, Flat 4B",className:"w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-white placeholder-white/30 focus:border-rose-500/50 focus:outline-none focus:ring-1 focus:ring-rose-500/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Area / Locality *"}),e.jsx("input",{type:"text",value:k.fullAddress.area,onChange:R=>B("fullAddress.area",R.target.value),placeholder:"e.g., Koramangala",className:"w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-white placeholder-white/30 focus:border-rose-500/50 focus:outline-none focus:ring-1 focus:ring-rose-500/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"City *"}),e.jsx("input",{type:"text",value:k.fullAddress.city,onChange:R=>B("fullAddress.city",R.target.value),placeholder:"e.g., Bangalore",className:"w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-white placeholder-white/30 focus:border-rose-500/50 focus:outline-none focus:ring-1 focus:ring-rose-500/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"District *"}),e.jsx("input",{type:"text",value:k.fullAddress.district,onChange:R=>B("fullAddress.district",R.target.value),placeholder:"e.g., Bangalore Urban",className:"w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-white placeholder-white/30 focus:border-rose-500/50 focus:outline-none focus:ring-1 focus:ring-rose-500/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"State *"}),e.jsxs("select",{value:k.fullAddress.state,onChange:R=>B("fullAddress.state",R.target.value),className:"w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-white focus:border-rose-500/50 focus:outline-none focus:ring-1 focus:ring-rose-500/50",children:[e.jsx("option",{value:"",className:"bg-slate-900",children:"Select State"}),EO.map(R=>e.jsx("option",{value:R,className:"bg-slate-900",children:R},R))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Pincode *"}),e.jsx("input",{type:"text",value:k.fullAddress.pincode,onChange:R=>B("fullAddress.pincode",R.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"e.g., 560034",maxLength:6,className:"w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-white placeholder-white/30 focus:border-rose-500/50 focus:outline-none focus:ring-1 focus:ring-rose-500/50"})]})]})]}),e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 border-b border-white/10 bg-white/5 px-6 py-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/20",children:e.jsx(Wb,{className:"h-5 w-5 text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-white",children:"Identity & Contact"}),e.jsx("p",{className:"text-sm text-white/50",children:"Verification details"})]})]}),e.jsxs("div",{className:"p-6 grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Aadhaar Number *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Wb,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-white/40"}),e.jsx("input",{type:"text",value:k.aadhaarNumber,onChange:R=>B("aadhaarNumber",R.target.value.replace(/\D/g,"").slice(0,12)),placeholder:"12-digit Aadhaar number",maxLength:12,className:"w-full rounded-xl border border-white/10 bg-white/5 pl-12 pr-4 py-3 text-white placeholder-white/30 focus:border-rose-500/50 focus:outline-none focus:ring-1 focus:ring-rose-500/50"})]}),e.jsxs("p",{className:"mt-1 text-xs text-white/40",children:[k.aadhaarNumber.length,"/12 digits"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Mobile Number *"}),e.jsxs("div",{className:"relative",children:[e.jsx(bf,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-white/40"}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"flex items-center rounded-l-xl border border-r-0 border-white/10 bg-white/5 px-3 text-white/60",children:"+91"}),e.jsx("input",{type:"text",value:k.mobileNumber,onChange:R=>B("mobileNumber",R.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"10-digit mobile number",maxLength:10,className:"w-full rounded-r-xl border border-white/10 bg-white/5 px-4 py-3 text-white placeholder-white/30 focus:border-rose-500/50 focus:outline-none focus:ring-1 focus:ring-rose-500/50"})]})]}),e.jsxs("p",{className:"mt-1 text-xs text-white/40",children:[k.mobileNumber.length,"/10 digits"]})]})]})]}),i?.role==="community"&&e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 border-b border-white/10 bg-white/5 px-6 py-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-violet-500/20",children:e.jsx(Je,{className:"h-5 w-5 text-violet-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-white",children:"Community Details"}),e.jsx("p",{className:"text-sm text-white/50",children:"Your community organization info"})]})]}),e.jsxs("div",{className:"p-6 grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Organization Name"}),e.jsx("input",{type:"text",value:k.communityDetails.organizationName,onChange:R=>B("communityDetails.organizationName",R.target.value),placeholder:"e.g., Koramangala Residents Association",className:"w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-white placeholder-white/30 focus:border-rose-500/50 focus:outline-none focus:ring-1 focus:ring-rose-500/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Area of Operation"}),e.jsx("input",{type:"text",value:k.communityDetails.area,onChange:R=>B("communityDetails.area",R.target.value),placeholder:"e.g., Koramangala, HSR Layout",className:"w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-white placeholder-white/30 focus:border-rose-500/50 focus:outline-none focus:ring-1 focus:ring-rose-500/50"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:V,className:"px-6 py-3 rounded-xl border border-white/10 text-white/70 hover:bg-white/5 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:u,className:"flex items-center gap-2 px-8 py-3 rounded-xl bg-gradient-to-r from-rose-500 to-pink-500 text-white font-semibold shadow-lg shadow-rose-500/20 hover:shadow-xl hover:shadow-rose-500/30 transition-all disabled:opacity-50",children:u?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"h-5 w-5 animate-spin"}),e.jsx("span",{children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(cT,{className:"h-5 w-5"}),e.jsx("span",{children:"Save Profile"})]})})]})]})]})})}const un="http://localhost:3000/api",Ic=()=>{const t=localStorage.getItem("activeDistrictId");return t?{"x-active-district":t}:{}};class LO{async getStatesDistricts(){const i=await Ye(`${un}/districts/states-districts`,{credentials:"include"});if(!i.ok)throw new Error("Failed to fetch states and districts");return i.json()}async joinDistrict(i,a,o={}){const c=await Ye(`${un}/districts/join`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({state:i,district:a,setAsHome:o.setAsHome||!1,setAsActive:o.setAsActive||!0})});if(!c.ok){const f=await c.json();throw new Error(f.message||"Failed to join district")}const u=await c.json();return u.data?.membership?.isActive&&localStorage.setItem("activeDistrictId",u.data.membership.districtId),u}async getMemberships(){const i=await Ye(`${un}/districts/memberships`,{credentials:"include"});if(!i.ok)throw new Error("Failed to fetch memberships");const a=await i.json();return a.data?.activeDistrict?.districtId&&localStorage.setItem("activeDistrictId",a.data.activeDistrict.districtId),a}async setActiveDistrict(i){const a=await Ye(`${un}/districts/active`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({districtId:i})});if(!a.ok){const c=await a.json();throw new Error(c.message||"Failed to set active district")}const o=await a.json();return localStorage.setItem("activeDistrictId",i),o}async leaveDistrict(i){const a=await Ye(`${un}/districts/leave`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({districtId:i})});if(!a.ok){const o=await a.json();throw new Error(o.message||"Failed to leave district")}return a.json()}async getDistrictStats(i=30){const a=await Ye(`${un}/districts/stats?days=${i}`,{headers:Ic(),credentials:"include"});if(!a.ok)throw new Error("Failed to fetch district stats");return a.json()}async getDistrictHeatmap(i={}){const a=new URLSearchParams;i.category&&a.append("category",i.category),i.status&&a.append("status",i.status),i.days&&a.append("days",i.days);const o=await Ye(`${un}/districts/heatmap?${a}`,{headers:Ic(),credentials:"include"});if(!o.ok)throw new Error("Failed to fetch heatmap data");return o.json()}async getDistrictIssues(i={}){const a=new URLSearchParams;Object.entries(i).forEach(([c,u])=>{u&&a.append(c,u)});const o=await Ye(`${un}/districts/issues?${a}`,{headers:Ic(),credentials:"include"});if(!o.ok)throw new Error("Failed to fetch district issues");return o.json()}async getVerificationQueue(i=1,a=20){const o=await Ye(`${un}/districts/verification-queue?page=${i}&limit=${a}`,{headers:Ic(),credentials:"include"});if(!o.ok)throw new Error("Failed to fetch verification queue");return o.json()}async getDistrictLeaderboard(i=10){const a=await Ye(`${un}/districts/leaderboard?limit=${i}`,{headers:Ic(),credentials:"include"});if(!a.ok)throw new Error("Failed to fetch leaderboard");return a.json()}}const Di=new LO,dN=N.createContext(null),Uc="activeDistrictId",MO=({children:t})=>{const[i,a]=N.useState(!0),[o,c]=N.useState(null),[u,f]=N.useState([]),[m,x]=N.useState(null),[v,b]=N.useState(!1),[w,j]=N.useState({raw:{},formatted:[]}),[E,A]=N.useState(!1),[k,O]=N.useState(!1),M=N.useRef(!1),B=N.useCallback(async()=>{try{const Y=await Di.getStatesDistricts();Y.success&&j(Y.data)}catch(Y){console.error("Failed to load states/districts:",Y)}},[]),T=N.useCallback(async()=>{try{a(!0),c(null);const Y=await Di.getMemberships();if(Y.success){const K=Y.data.memberships||[],le=Y.data.activeDistrict,F=Y.data.hasJoinedAny||K.length>0;if(f(K),b(F),!F)O(!0),A(!0),x(null),localStorage.removeItem(Uc);else if(le)x(le),localStorage.setItem(Uc,le.districtId),O(!1);else if(K.length>0){const ve=localStorage.getItem(Uc),U=ve?K.find(ne=>ne.districtId===ve):null;if(U)x({districtId:U.districtId,state:U.state,district:U.district,role:U.role,permissions:U.permissions});else{const ne=K[0];x({districtId:ne.districtId,state:ne.state,district:ne.district,role:ne.role,permissions:ne.permissions}),localStorage.setItem(Uc,ne.districtId)}O(!1)}}}catch(Y){console.error("Failed to load memberships:",Y),c(Y.message),localStorage.getItem(Uc)||(O(!0),A(!0))}finally{a(!1)}},[]),D=N.useCallback(async(Y,K,le={})=>{try{const F=await Di.joinDistrict(Y,K,le);return F.success?(await T(),A(!1),O(!1),{success:!0,membership:F.data.membership}):{success:!1,error:"Failed to join district"}}catch(F){return console.error("Join district error:",F),{success:!1,error:F.message}}},[T]),V=N.useCallback(async Y=>{try{const K=await Di.setActiveDistrict(Y);return K.success?(x(K.data.activeDistrict),{success:!0,activeDistrict:K.data.activeDistrict}):{success:!1,error:"Failed to switch district"}}catch(K){return console.error("Switch district error:",K),{success:!1,error:K.message}}},[]),R=N.useCallback(async Y=>{try{return(await Di.leaveDistrict(Y)).success?(await T(),{success:!0}):{success:!1,error:"Failed to leave district"}}catch(K){return console.error("Leave district error:",K),{success:!1,error:K.message}}},[T]),Z=N.useCallback(()=>m?`${m.district}, ${m.state}`:"Select District",[m]),H=N.useCallback(Y=>u.some(K=>K.districtId===Y&&K.status==="active"),[u]);N.useEffect(()=>{M.current||(M.current=!0,B(),T())},[B,T]);const G=N.useCallback(Y=>{if(k&&!Y){console.warn("Cannot close onboarding - user must select an area first");return}A(Y)},[k]),ee={loading:i,error:o,memberships:u,activeDistrict:m,hasJoinedAny:v,statesDistricts:w,showOnboarding:E,onboardingRequired:k,setShowOnboarding:G,joinDistrict:D,switchDistrict:V,leaveDistrict:R,loadMemberships:T,getActiveDistrictDisplay:Z,isMemberOf:H};return e.jsx(dN.Provider,{value:ee,children:t})},vn=()=>{const t=N.useContext(dN);if(!t)throw new Error("useDistrict must be used within a DistrictProvider");return t};function RO({compact:t=!1}){const{memberships:i,activeDistrict:a,switchDistrict:o,setShowOnboarding:c,getActiveDistrictDisplay:u}=vn(),[f,m]=N.useState(!1),[x,v]=N.useState(null),b=N.useRef(null);N.useEffect(()=>{const j=E=>{b.current&&!b.current.contains(E.target)&&m(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const w=async j=>{if(a?.districtId===j){m(!1);return}v(j);const E=await o(j);v(null),m(!1),E.success&&window.location.reload()};return t?e.jsxs("div",{className:"relative",ref:b,children:[e.jsxs("button",{onClick:()=>m(!f),className:"flex items-center gap-2 rounded-lg bg-rose-500/20 px-3 py-2 text-rose-400 hover:bg-rose-500/30",title:u(),children:[e.jsx(Je,{className:"h-4 w-4"}),e.jsx(ol,{className:`h-4 w-4 transition-transform ${f?"rotate-180":""}`})]}),f&&e.jsxs("div",{className:"absolute right-0 top-full z-50 mt-2 w-64 rounded-xl border border-white/10 bg-[#1a1a1a] shadow-xl",children:[e.jsx("div",{className:"border-b border-white/10 p-3",children:e.jsx("p",{className:"text-xs font-medium uppercase text-white/40",children:"Switch District"})}),e.jsx("div",{className:"max-h-64 overflow-y-auto p-2",children:i.map(j=>e.jsxs("button",{onClick:()=>w(j.districtId),className:`flex w-full items-center justify-between rounded-lg px-3 py-2 text-left text-sm transition-colors ${a?.districtId===j.districtId?"bg-rose-500/20 text-rose-400":"text-white/80 hover:bg-white/10"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"h-4 w-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:j.district}),e.jsx("p",{className:"text-xs text-white/40",children:j.state})]}),j.isHome&&e.jsx(C0,{className:"h-3 w-3 text-amber-400"})]}),x===j.districtId?e.jsx(Pe,{className:"h-4 w-4 animate-spin"}):a?.districtId===j.districtId?e.jsx(Va,{className:"h-4 w-4"}):null]},j.districtId))}),e.jsx("div",{className:"border-t border-white/10 p-2",children:e.jsxs("button",{onClick:()=>{c(!0),m(!1)},className:"flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm text-emerald-400 hover:bg-emerald-500/10",children:[e.jsx(cl,{className:"h-4 w-4"}),"Join Another District"]})})]})]}):e.jsxs("div",{className:"relative",ref:b,children:[e.jsxs("button",{onClick:()=>m(!f),className:"flex w-full items-center gap-3 rounded-xl border border-white/10 bg-white/5 p-3 text-left transition-colors hover:bg-white/10",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-rose-500/20",children:e.jsx(Je,{className:"h-5 w-5 text-rose-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium uppercase text-white/40",children:"Active District"}),a?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"truncate font-medium text-white",children:a.district}),e.jsx("p",{className:"truncate text-xs text-white/60",children:a.state})]}):e.jsx("p",{className:"text-white/60",children:"Select a district"})]}),e.jsx(ol,{className:`h-5 w-5 text-white/40 transition-transform ${f?"rotate-180":""}`})]}),f&&e.jsxs("div",{className:"absolute left-0 right-0 top-full z-50 mt-2 rounded-xl border border-white/10 bg-[#1a1a1a] shadow-xl",children:[e.jsx("div",{className:"border-b border-white/10 p-3",children:e.jsx("p",{className:"text-xs font-medium uppercase text-white/40",children:"Your Communities"})}),e.jsx("div",{className:"max-h-64 overflow-y-auto p-2",children:i.length>0?i.map(j=>e.jsxs("button",{onClick:()=>w(j.districtId),disabled:x===j.districtId,className:`flex w-full items-center justify-between rounded-lg px-3 py-2.5 text-left transition-colors ${a?.districtId===j.districtId?"bg-rose-500/20 text-rose-400":"text-white/80 hover:bg-white/10"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-lg ${a?.districtId===j.districtId?"bg-rose-500/30":"bg-white/10"}`,children:e.jsx(Je,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium",children:j.district}),j.isHome&&e.jsx("span",{className:"rounded bg-amber-500/20 px-1.5 py-0.5 text-[10px] font-medium text-amber-400",children:"HOME"})]}),e.jsx("p",{className:"text-xs text-white/40",children:j.state})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[j.role!=="member"&&e.jsx("span",{className:"rounded bg-violet-500/20 px-1.5 py-0.5 text-[10px] font-medium text-violet-400",children:j.role.toUpperCase()}),x===j.districtId?e.jsx(Pe,{className:"h-4 w-4 animate-spin"}):a?.districtId===j.districtId?e.jsx(Va,{className:"h-4 w-4"}):null]})]},j.districtId)):e.jsx("div",{className:"p-4 text-center text-sm text-white/40",children:"No communities joined yet"})}),e.jsx("div",{className:"border-t border-white/10 p-2",children:e.jsxs("button",{onClick:()=>{c(!0),m(!1)},className:"flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm text-emerald-400 hover:bg-emerald-500/10",children:[e.jsx(cl,{className:"h-4 w-4"}),"Join Another District"]})})]})]})}const k1={citizen:[{icon:qp,label:"Dashboard",path:"/dashboard/citizen"},{icon:mk,label:"Report Issue",path:"/dashboard/citizen/report"},{icon:W_,label:"My Issues",path:"/dashboard/citizen/issues"},{icon:Xc,label:"Community Map",path:"/dashboard/citizen/map"},{icon:Ii,label:"Notifications",path:"/dashboard/citizen/notifications"},{icon:Th,label:"Settings",path:"/dashboard/citizen/settings"}],official:[{icon:qp,label:"Dashboard",path:"/dashboard/official"},{icon:ej,label:"Assigned Issues",path:"/dashboard/official/assigned"},{icon:Ha,label:"Review Queue",path:"/dashboard/official/review-queue",adminOnly:!0},{icon:os,label:"Team Management",path:"/dashboard/official/team",adminOnly:!0},{icon:vs,label:"Messages",path:"/dashboard/official/chat"},{icon:gf,label:"Analytics",path:"/dashboard/official/analytics"},{icon:Xc,label:"Area Map",path:"/dashboard/official/map"},{icon:Th,label:"Settings",path:"/dashboard/official/settings"}],community:[{icon:qp,label:"Dashboard",path:"/dashboard/community"},{icon:C0,label:"Area Issues",path:"/dashboard/community/area"},{icon:Be,label:"Verification Queue",path:"/dashboard/community/verify"},{icon:Tk,label:"My Verifications",path:"/dashboard/community/my-verifications"},{icon:bi,label:"Public Meets",path:"/dashboard/community/meets"},{icon:vs,label:"Community Chat",path:"/dashboard/community/chat"},{icon:si,label:"Community Stats",path:"/dashboard/community/stats"},{icon:Xc,label:"Public Map",path:"/dashboard/community/map"},{icon:Th,label:"Settings",path:"/dashboard/community/settings"}]};function OO({isOpen:t,onClose:i,role:a="citizen"}){const o=Zi(),{user:c}=$t();let u=null;try{u=vn()}catch{}const f=!!c?.isOfficialAdmin,m=k1[a]||k1.citizen,x=a==="official"&&!f?m.filter(b=>!b.adminOnly):m,v=b=>b===`/dashboard/${a}`?o.pathname===b:o.pathname.startsWith(b);return e.jsxs(e.Fragment,{children:[t&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/60 backdrop-blur-sm lg:hidden",onClick:i}),e.jsxs("aside",{className:_e("fixed left-0 top-0 z-50 flex h-full w-64 flex-col border-r border-white/10 bg-black/95 backdrop-blur-xl transition-transform duration-300 lg:static lg:translate-x-0",t?"translate-x-0":"-translate-x-full"),children:[e.jsxs("div",{className:"flex h-16 items-center justify-between border-b border-white/10 px-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"relative h-8 w-8",children:e.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-full w-auto",children:[e.jsx("polygon",{points:"30,5 70,5 95,30 95,70 70,95 30,95 5,70 5,30",fill:"none",stroke:"white",strokeWidth:"4"}),e.jsx("polygon",{points:"35,18 65,18 82,35 82,65 65,82 35,82 18,65 18,35",fill:"none",stroke:"white",strokeWidth:"3"})]})}),e.jsx("span",{className:"text-sm font-bold tracking-widest text-white uppercase",style:{letterSpacing:"0.1em"},children:"CITIZEN VOICE"})]}),e.jsx("button",{onClick:i,className:"rounded-lg p-1 text-white/60 hover:bg-white/10 hover:text-white lg:hidden",children:e.jsx(ls,{className:"h-5 w-5"})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4",children:[a==="community"&&e.jsx("div",{className:"mb-4",children:u?.activeDistrict?e.jsx(RO,{compact:!0}):e.jsxs("div",{className:"rounded-lg border border-amber-500/30 bg-amber-500/10 p-3",children:[e.jsx("p",{className:"text-xs text-amber-400 font-medium",children:" No area selected"}),e.jsx("p",{className:"text-xs text-amber-300/60 mt-1",children:"Select a community area to continue"})]})}),a==="community"&&!u?.activeDistrict?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-white/40 text-sm",children:"Join a community to access features"})}):e.jsx("div",{className:"space-y-1",children:x.map(b=>{const w=b.icon,j=v(b.path);return e.jsxs(Nx,{to:b.path,onClick:i,className:_e("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all",j?"bg-gradient-to-r from-rose-500/20 to-violet-500/20 text-white":"text-white/60 hover:bg-white/10 hover:text-white"),children:[e.jsx(w,{className:_e("h-5 w-5",j?"text-rose-400":"text-white/60")}),b.label,j&&e.jsx("div",{className:"ml-auto h-1.5 w-1.5 rounded-full bg-rose-500"})]},b.path)})})]}),e.jsxs("div",{className:"border-t border-white/10 p-4",children:[e.jsxs(Nx,{to:"/profile",onClick:i,className:_e("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all mb-3",o.pathname==="/profile"?"bg-gradient-to-r from-rose-500/20 to-violet-500/20 text-white":"text-white/60 hover:bg-white/10 hover:text-white"),children:[e.jsx(Vi,{className:"h-5 w-5"}),e.jsx("span",{children:"Profile"}),!c?.isProfileComplete&&e.jsx("span",{className:"ml-auto flex h-2 w-2 rounded-full bg-amber-500"})]}),e.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-white/5 p-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-rose-500 to-violet-500",children:e.jsx("span",{className:"text-sm font-semibold text-white",children:c?.username?.charAt(0).toUpperCase()||"U"})}),e.jsxs("div",{className:"flex-1 overflow-hidden",children:[e.jsx("p",{className:"truncate text-sm font-medium text-white",children:c?.username||"User"}),e.jsx("p",{className:"truncate text-xs text-white/60",children:a.charAt(0).toUpperCase()+a.slice(1)})]})]})]})]})]})}const Vc="http://localhost:3000/api";class PO{async getNotifications(i=1,a=20,o=!1){const c=new URLSearchParams({page:i.toString(),limit:a.toString(),unreadOnly:o.toString()}),u=await fetch(`${Vc}/notifications?${c}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!u.ok){const f=await u.json();throw new Error(f.message||"Failed to fetch notifications")}return u.json()}async getUnreadCount(){const i=await fetch(`${Vc}/notifications/unread-count`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!i.ok){const a=await i.json();throw new Error(a.message||"Failed to fetch unread count")}return i.json()}async markAsRead(i){const a=await fetch(`${Vc}/notifications/${i}/read`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"}});if(!a.ok){const o=await a.json();throw new Error(o.message||"Failed to mark notification as read")}return a.json()}async markAllAsRead(){const i=await fetch(`${Vc}/notifications/mark-all-read`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"}});if(!i.ok){const a=await i.json();throw new Error(a.message||"Failed to mark all as read")}return i.json()}async deleteNotification(i){const a=await fetch(`${Vc}/notifications/${i}`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}});if(!a.ok){const o=await a.json();throw new Error(o.message||"Failed to delete notification")}return a.json()}}const uh=new PO;function DO(){const t=Gt(),{user:i}=$t(),[a,o]=N.useState(!1),[c,u]=N.useState([]),[f,m]=N.useState(0),[x,v]=N.useState(!1),b=N.useRef(null);N.useEffect(()=>{i&&w()},[i]),N.useEffect(()=>{const T=D=>{b.current&&!b.current.contains(D.target)&&o(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const w=async()=>{try{const T=await uh.getUnreadCount();m(T.data?.unreadCount||0)}catch(T){console.error("Error loading unread count:",T)}},j=async()=>{try{v(!0);const T=await uh.getNotifications(1,10);u(T.data?.notifications||[]),m(T.data?.unreadCount||0)}catch(T){console.error("Error loading notifications:",T)}finally{v(!1)}},E=()=>{a||j(),o(!a)},A=async T=>{try{await uh.markAsRead(T),u(D=>D.map(V=>V._id===T?{...V,isRead:!0}:V)),m(D=>Math.max(0,D-1))}catch(D){console.error("Error marking as read:",D)}},k=async()=>{try{await uh.markAllAsRead(),u(T=>T.map(D=>({...D,isRead:!0}))),m(0)}catch(T){console.error("Error marking all as read:",T)}},O=T=>{if(A(T._id),T.relatedIssue){const D=i?.role;t(D==="official"?`/dashboard/official/issue/${T.relatedIssue._id}`:D==="community"?"/dashboard/community/area":"/dashboard/citizen/issues")}o(!1)},M=T=>{switch(T){case"issue_verification":return e.jsx(Va,{className:"h-4 w-4 text-emerald-400"});case"issue_status_update":return e.jsx(bs,{className:"h-4 w-4 text-amber-400"});case"issue_resolved":return e.jsx(Ex,{className:"h-4 w-4 text-emerald-400"});default:return e.jsx(Ii,{className:"h-4 w-4 text-white/60"})}},B=T=>{const D=new Date,V=new Date(T),R=Math.floor((D-V)/1e3);return R<60?"Just now":R<3600?`${Math.floor(R/60)}m ago`:R<86400?`${Math.floor(R/3600)}h ago`:V.toLocaleDateString()};return e.jsxs("div",{className:"relative",ref:b,children:[e.jsxs("button",{onClick:E,className:"relative rounded-lg p-2 text-white/70 hover:bg-white/10 hover:text-white transition-colors",children:[f>0?e.jsx(R3,{className:"h-5 w-5"}):e.jsx(Ii,{className:"h-5 w-5"}),f>0&&e.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-rose-500 text-xs font-bold text-white",children:f>9?"9+":f})]}),a&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 max-h-96 overflow-hidden rounded-xl border border-white/10 bg-slate-900/95 backdrop-blur-xl shadow-2xl z-50",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 px-4 py-3",children:[e.jsx("h3",{className:"font-semibold text-white",children:"Notifications"}),f>0&&e.jsx("button",{onClick:k,className:"text-xs text-rose-400 hover:text-rose-300 transition-colors",children:"Mark all as read"})]}),e.jsx("div",{className:"overflow-y-auto max-h-72",children:x?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(Pe,{className:"h-6 w-6 animate-spin text-rose-500"})}):c.length===0?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(Ii,{className:"mx-auto h-8 w-8 text-white/20 mb-2"}),e.jsx("p",{className:"text-sm text-white/50",children:"No notifications yet"})]}):e.jsx("div",{className:"divide-y divide-white/5",children:c.map(T=>e.jsxs("button",{onClick:()=>O(T),className:`w-full flex items-start gap-3 px-4 py-3 text-left transition-colors hover:bg-white/5 ${T.isRead?"":"bg-rose-500/5"}`,children:[e.jsx("div",{className:`mt-1 flex h-8 w-8 items-center justify-center rounded-lg ${T.isRead?"bg-white/10":"bg-rose-500/20"}`,children:M(T.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm ${T.isRead?"text-white/70":"text-white font-medium"}`,children:T.title}),e.jsx("p",{className:"text-xs text-white/50 line-clamp-2 mt-0.5",children:T.message}),e.jsx("p",{className:"text-xs text-white/30 mt-1",children:B(T.createdAt)})]}),!T.isRead&&e.jsx("div",{className:"h-2 w-2 rounded-full bg-rose-500 mt-2"})]},T._id))})}),c.length>0&&e.jsx("div",{className:"border-t border-white/10 px-4 py-2",children:e.jsx("button",{onClick:()=>{o(!1)},className:"w-full text-center text-sm text-rose-400 hover:text-rose-300 py-1",children:"View all notifications"})})]})]})}function zO({onMenuClick:t,showMenuButton:i=!1,role:a="citizen"}){const{user:o,logout:c}=$t(),u=Gt(),[f,m]=N.useState(!1),[x,v]=N.useState(""),[b,w]=N.useState(()=>localStorage.getItem("dashboardTheme")==="dark");N.useEffect(()=>{b?(document.documentElement.classList.add("dark"),localStorage.setItem("dashboardTheme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("dashboardTheme","light"))},[b]);const j=A=>{A.preventDefault(),console.log("Searching for:",x)},E=async()=>{await c(),m(!1)};return e.jsxs("header",{className:"sticky top-0 z-40 flex h-16 items-center justify-between border-b border-white/10 bg-black/80 px-4 backdrop-blur-xl lg:px-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[i&&e.jsx("button",{onClick:t,className:"rounded-lg p-2 text-white/60 transition-colors hover:bg-white/10 hover:text-white lg:hidden",children:e.jsx(nj,{className:"h-6 w-6"})}),e.jsx("form",{onSubmit:j,className:"hidden md:block",children:e.jsxs("div",{className:"relative",children:[e.jsx(Za,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",placeholder:"Search issues...",value:x,onChange:A=>v(A.target.value),className:"h-10 w-64 rounded-lg border border-white/10 bg-white/5 pl-10 pr-4 text-sm text-white placeholder-white/40 outline-none transition-all focus:border-rose-500/50 focus:ring-2 focus:ring-rose-500/20 lg:w-80"})]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"rounded-lg p-2 text-white/60 transition-colors hover:bg-white/10 hover:text-white md:hidden",children:e.jsx(Za,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>w(!b),className:"rounded-lg p-2 text-white/60 transition-colors hover:bg-white/10 hover:text-white",title:b?"Switch to Light Mode":"Switch to Dark Mode",children:b?e.jsx(oj,{className:"h-5 w-5"}):e.jsx(aj,{className:"h-5 w-5"})}),e.jsx(DO,{}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>m(!f),className:"flex items-center gap-2 rounded-lg p-2 text-white/60 transition-colors hover:bg-white/10 hover:text-white",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-rose-500 to-violet-500",children:e.jsx("span",{className:"text-sm font-semibold text-white",children:o?.username?.charAt(0).toUpperCase()||"U"})}),e.jsx("span",{className:"hidden text-sm font-medium text-white md:block",children:o?.username||"User"}),e.jsx(ol,{className:"hidden h-4 w-4 md:block"})]}),f&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl border border-white/10 bg-black/95 p-2 shadow-2xl backdrop-blur-xl",children:[e.jsxs("div",{className:"border-b border-white/10 px-3 py-2",children:[e.jsx("p",{className:"text-sm font-medium text-white",children:o?.username||"User"}),e.jsx("p",{className:"text-xs text-white/60",children:o?.email}),e.jsx("span",{className:"mt-1 inline-block rounded-full bg-rose-500/20 px-2 py-0.5 text-xs text-rose-400",children:o?.role||"citizen"})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs("button",{onClick:()=>{m(!1),u("/profile")},className:"flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm text-white/60 transition-colors hover:bg-white/10 hover:text-white",children:[e.jsx(Vi,{className:"h-4 w-4"}),"Profile"]}),e.jsxs("button",{onClick:()=>{m(!1),u(`/dashboard/${a}/settings`)},className:"flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm text-white/60 transition-colors hover:bg-white/10 hover:text-white",children:[e.jsx(Th,{className:"h-4 w-4"}),"Settings"]})]}),e.jsx("div",{className:"border-t border-white/10 pt-2",children:e.jsxs("button",{onClick:E,className:"flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm text-rose-400 transition-colors hover:bg-rose-500/10",children:[e.jsx($k,{className:"h-4 w-4"}),"Logout"]})})]})]})]}),f&&e.jsx("div",{className:"fixed inset-0 z-[-1]",onClick:()=>m(!1)})]})}function hg({children:t,role:i="citizen"}){const[a,o]=N.useState(!1);return e.jsxs("div",{className:"flex min-h-screen bg-[#0a0a0a]",children:[e.jsx(OO,{isOpen:a,onClose:()=>o(!1),role:i}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(zO,{onMenuClick:()=>o(!0),showMenuButton:!0,role:i}),e.jsx("main",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"mx-auto max-w-7xl p-4 lg:p-6",children:t})})]})]})}const T1={rose:{bg:"bg-gradient-to-br from-rose-500/20 to-rose-600/10",icon:"text-rose-400",border:"border-rose-500/20"},violet:{bg:"bg-gradient-to-br from-violet-500/20 to-violet-600/10",icon:"text-violet-400",border:"border-violet-500/20"},indigo:{bg:"bg-gradient-to-br from-indigo-500/20 to-indigo-600/10",icon:"text-indigo-400",border:"border-indigo-500/20"},emerald:{bg:"bg-gradient-to-br from-emerald-500/20 to-emerald-600/10",icon:"text-emerald-400",border:"border-emerald-500/20"},amber:{bg:"bg-gradient-to-br from-amber-500/20 to-amber-600/10",icon:"text-amber-400",border:"border-amber-500/20"},cyan:{bg:"bg-gradient-to-br from-cyan-500/20 to-cyan-600/10",icon:"text-cyan-400",border:"border-cyan-500/20"}};function yi({title:t,value:i,icon:a,trend:o,trendValue:c,color:u="rose",className:f}){const m=T1[u]||T1.rose;return e.jsxs("div",{className:_e("relative overflow-hidden rounded-xl border p-6 backdrop-blur-sm transition-all hover:scale-[1.02] hover:shadow-lg",m.bg,m.border,f),children:[e.jsx("div",{className:"absolute -right-4 -top-4 h-24 w-24 rounded-full bg-white/5 blur-2xl"}),e.jsxs("div",{className:"relative flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-white/60",children:t}),e.jsx("p",{className:"text-3xl font-bold text-white",children:i}),o!==void 0&&e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[o==="up"?e.jsx(si,{className:"h-4 w-4 text-emerald-400"}):e.jsx(ou,{className:"h-4 w-4 text-rose-400"}),e.jsxs("span",{className:o==="up"?"text-emerald-400":"text-rose-400",children:[c,"%"]}),e.jsx("span",{className:"text-white/40",children:"vs last period"})]})]}),a&&e.jsx("div",{className:_e("flex h-12 w-12 items-center justify-center rounded-lg bg-white/10",m.icon),children:e.jsx(a,{className:"h-6 w-6"})})]})]})}const E1={reported:{label:"Reported",color:"bg-gray-500/20 text-gray-400 border-gray-500/30",icon:Fa},acknowledged:{label:"Acknowledged",color:"bg-blue-500/20 text-blue-400 border-blue-500/30",icon:Be},"in-progress":{label:"In Progress",color:"bg-amber-500/20 text-amber-400 border-amber-500/30",icon:_f},resolved:{label:"Resolved",color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",icon:Be},rejected:{label:"Rejected",color:"bg-rose-500/20 text-rose-400 border-rose-500/30",icon:Zs}},A1={high:{label:"High",color:"text-rose-400",icon:vt},medium:{label:"Medium",color:"text-amber-400",icon:vt},low:{label:"Low",color:"text-emerald-400",icon:vt}},L1={pothole:"",streetlight:"",garbage:"",water:"",traffic:"",noise:"",safety:"",other:""};function hN({issue:t,variant:i="default",onView:a,onUpvote:o,onDelete:c,onUpdate:u,showActions:f=!1,className:m}){const[x,v]=Jt.useState(!1),b=E1[t.status]||E1.reported,w=A1[t.priority]||A1.medium;b.icon;const j=w.icon,E=L1[t.category]||L1.other,A=O=>new Date(O).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),k=O=>{const B=new Date-new Date(O),T=Math.floor(B/6e4),D=Math.floor(T/60),V=Math.floor(D/24);return V>0?`${V}d ago`:D>0?`${D}h ago`:T>0?`${T}m ago`:"Just now"};return i==="compact"?e.jsx("div",{onClick:()=>a?.(t),className:_e("group cursor-pointer rounded-lg border border-white/10 bg-white/5 p-4 transition-all hover:border-rose-500/30 hover:bg-white/10",m),children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:E}),e.jsx("h4",{className:"font-medium text-white line-clamp-1",children:t.title})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/60",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"h-3 w-3"}),k(t.updatedAt)]}),e.jsx("span",{className:_e("rounded-full border px-2 py-0.5",b.color),children:b.label})]})]}),e.jsx(ll,{className:"h-5 w-5 text-white/40 transition-transform group-hover:translate-x-1 group-hover:text-rose-400"})]})}):e.jsxs("div",{className:_e("group overflow-hidden rounded-xl border border-white/10 bg-black/50 transition-all hover:border-rose-500/30",m),children:[t.images?.[0]&&e.jsxs("div",{className:"relative h-40 overflow-hidden",children:[e.jsx("img",{src:t.images[0],alt:t.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),e.jsx("div",{className:"absolute bottom-3 left-3",children:e.jsx("span",{className:_e("rounded-full border px-2 py-1 text-xs",b.color),children:b.label})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:E}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white line-clamp-1",children:t.title}),e.jsxs("p",{className:"text-xs text-white/40",children:["#",t._id||t.id]})]})]}),e.jsxs("div",{className:_e("flex items-center gap-1 text-sm",w.color),children:[e.jsx(j,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:w.label})]})]}),e.jsx("p",{className:"mb-3 text-sm text-white/60 line-clamp-2",children:t.description}),e.jsxs("div",{className:"mb-4 flex flex-wrap gap-3 text-xs text-white/40",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"h-3 w-3"}),t.location?.address||"Location"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(bi,{className:"h-3 w-3"}),A(t.createdAt)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"h-3 w-3"}),k(t.updatedAt)]})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-white/10 pt-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:O=>{O.stopPropagation(),o?.(t._id||t.id)},className:"flex items-center gap-1 text-sm text-white/60 transition-colors hover:text-rose-400",title:"Upvote this issue",children:[e.jsx(Kn,{className:"h-4 w-4"}),e.jsx("span",{children:t.upvoteCount||t.upvotes?.length||0})]}),e.jsxs("span",{className:"flex items-center gap-1 text-sm text-white/60",children:[e.jsx($h,{className:"h-4 w-4"}),e.jsx("span",{children:t.comments?.length||0})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>a?.(t),className:"flex items-center gap-1 text-sm text-rose-400 transition-colors hover:text-rose-300",children:["View Details",e.jsx(ll,{className:"h-4 w-4"})]}),f&&(c||u)&&e.jsxs("div",{className:"flex items-center gap-1",children:[u&&e.jsx("button",{onClick:O=>{O.stopPropagation(),u(t)},className:"group relative rounded-lg border border-amber-500/30 bg-amber-500/10 px-3 py-1.5 text-sm text-amber-400 transition-all hover:border-amber-500/50 hover:bg-amber-500/20 hover:shadow-lg hover:shadow-amber-500/20",title:"Edit issue",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(_T,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"font-medium",children:"Edit"})]})}),c&&e.jsx("button",{onClick:O=>{O.stopPropagation(),c(t._id||t.id)},className:"group relative rounded-lg border border-rose-500/30 bg-rose-500/10 px-3 py-1.5 text-sm text-rose-400 transition-all hover:border-rose-500/50 hover:bg-rose-500/20 hover:shadow-lg hover:shadow-rose-500/20",title:"Delete issue",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(wf,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"font-medium",children:"Delete"})]})})]})]})]})]})]})}const ct="http://localhost:3000/api";class BO{async createIssue(i){const a=await fetch(`${ct}/issues/create`,{method:"POST",credentials:"include",body:i});if(!a.ok){const c=await a.json().catch(()=>({message:"Failed to create issue"}));throw new Error(c.message||"Failed to create issue")}const o=await a.json();return o.data||o}async getIssues(i={}){const a=new URLSearchParams(i),o=await fetch(`${ct}/issues/recent?${a}`,{credentials:"include"});if(!o.ok)throw new Error("Failed to fetch issues");return o.json()}async getMyIssues(i={}){const a=new URLSearchParams(i),o=await fetch(`${ct}/issues/my-issues?${a}`,{credentials:"include"});if(!o.ok)throw new Error("Failed to fetch your issues");return o.json()}async getIssue(i){const a=await fetch(`${ct}/issues/${i}`,{credentials:"include"});if(!a.ok)throw new Error("Failed to fetch issue");return a.json()}async updateIssue(i,a){const o=a instanceof FormData,c={method:"PUT",credentials:"include"};o?c.body=a:(c.headers={"Content-Type":"application/json"},c.body=JSON.stringify(a));const u=await fetch(`${ct}/issues/${i}`,c);if(!u.ok)throw new Error("Failed to update issue");return u.json()}async deleteIssue(i){const a=await fetch(`${ct}/issues/${i}`,{method:"DELETE",credentials:"include"});if(!a.ok)throw new Error("Failed to delete issue");return a.json()}async upvoteIssue(i){const a=await fetch(`${ct}/issues/${i}/upvote`,{method:"POST",credentials:"include"});if(!a.ok)throw new Error("Failed to upvote issue");return a.json()}async addComment(i,a){const o=await fetch(`${ct}/issues/${i}/comments`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:a})});if(!o.ok)throw new Error("Failed to add comment");return o.json()}async getComments(i){const a=await fetch(`${ct}/issues/${i}/comments`,{credentials:"include"});if(!a.ok)throw new Error("Failed to fetch comments");return a.json()}async getCitizenStats(){const i=await fetch(`${ct}/issues/stats/citizen`,{credentials:"include"});if(!i.ok)throw new Error("Failed to fetch statistics");return i.json()}async getOfficialStats(){const i=await fetch(`${ct}/officials/stats`,{credentials:"include"});if(!i.ok)throw new Error("Failed to fetch statistics");return i.json()}async getAssignedIssues(i={}){const a=new URLSearchParams(i),o=await fetch(`${ct}/officials/assigned?${a}`,{credentials:"include"});if(!o.ok)throw new Error("Failed to fetch assigned issues");return o.json()}async assignIssue(i,a){const o=await fetch(`${ct}/officials/assign/${i}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({memberId:a})});if(!o.ok)throw new Error("Failed to assign issue");return o.json()}async getTeamMembers(){const i=await fetch(`${ct}/officials/team`,{credentials:"include"});if(!i.ok){const a=await i.json().catch(()=>({}));throw new Error(a.message||"Failed to fetch team members")}return i.json()}async addTeamMember(i){const a=await fetch(`${ct}/officials/team`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!a.ok){const o=await a.json().catch(()=>({}));throw new Error(o.message||"Failed to add team member")}return a.json()}async removeTeamMember(i){const a=await fetch(`${ct}/officials/team/${i}`,{method:"DELETE",credentials:"include"});if(!a.ok){const o=await a.json().catch(()=>({}));throw new Error(o.message||"Failed to remove team member")}return a.json()}async getAnalytics(i={}){const a=new URLSearchParams(i),o=await fetch(`${ct}/officials/analytics?${a}`,{credentials:"include"});if(!o.ok){const c=await o.json().catch(()=>({}));throw new Error(c.message||"Failed to fetch analytics")}return o.json()}async getAreaIssues(i,a={}){const o=new URLSearchParams(a),c=await fetch(`${ct}/community/area/${i}?${o}`,{credentials:"include"});if(!c.ok)throw new Error("Failed to fetch area issues");return c.json()}async getVerificationQueue(){const i=await fetch(`${ct}/community/verification-queue`,{credentials:"include"});if(!i.ok)throw new Error("Failed to fetch verification queue");return i.json()}async verifyResolution(i,a){const o=await fetch(`${ct}/community/verify/${i}`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok)throw new Error("Failed to verify resolution");return o.json()}async getCommunityStats(){const i=await fetch(`${ct}/community/stats`,{credentials:"include"});if(!i.ok)throw new Error("Failed to fetch community statistics");return i.json()}async getCommunityLeaderboard(i=10){const a=await fetch(`${ct}/community/leaderboard?limit=${i}`,{credentials:"include"});if(!a.ok)throw new Error("Failed to fetch community leaderboard");return a.json()}async getAllIssues(i={}){const a=new URLSearchParams(i),o=await fetch(`${ct}/issues/all?${a}`,{credentials:"include"});if(!o.ok)throw new Error("Failed to fetch all issues");return o.json()}async sendMessageToMember(i,a){const o=await fetch(`${ct}/officials/message`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipientId:i,message:a})});if(!o.ok)throw new Error("Failed to send message");return o.json()}async getMessages(i){const a=await fetch(`${ct}/officials/messages/${i}`,{credentials:"include"});if(!a.ok)throw new Error("Failed to fetch messages");return a.json()}async markMessagesRead(i){const a=await fetch(`${ct}/officials/messages/${i}/mark-read`,{method:"PATCH",credentials:"include"});if(!a.ok)throw new Error("Failed to mark messages as read");return a.json()}async submitReport(i,a){const o=await fetch(`${ct}/issues/${i}/reports`,{method:"POST",credentials:"include",body:a});if(!o.ok){const c=await o.json().catch(()=>({}));throw new Error(c.message||"Failed to submit report")}return o.json()}async getPendingReports(i="verification"){const a=await fetch(`${ct}/officials/reports/pending?type=${i}`,{credentials:"include"});if(!a.ok){const o=await a.json().catch(()=>({}));throw new Error(o.message||"Failed to fetch pending reports")}return a.json()}async reviewReport(i,a){const o=await fetch(`${ct}/officials/reports/${i}/review`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok){const c=await o.json().catch(()=>({}));throw new Error(c.message||"Failed to submit review")}return o.json()}async getReportDetails(i){const a=await fetch(`${ct}/officials/reports/${i}`,{credentials:"include"});if(!a.ok){const o=await a.json().catch(()=>({}));throw new Error(o.message||"Failed to fetch report details")}return a.json()}async getIssueReports(i){const a=await fetch(`${ct}/issues/${i}/reports`,{credentials:"include"});if(!a.ok){const o=await a.json().catch(()=>({}));throw new Error(o.message||"Failed to fetch issue reports")}return a.json()}}const $e=new BO,$o="http://localhost:3000/api",dx=()=>{const t=localStorage.getItem("token");return t?{Authorization:`Bearer ${t}`}:{}};class IO{async classifyImage(i){const a=new FormData;a.append("image",i);const o=await fetch(`${$o}/classification/classify`,{method:"POST",credentials:"include",headers:dx(),body:a});if(!o.ok){const u=await o.json().catch(()=>({message:"Classification failed"}));throw new Error(u.message||"Failed to classify image")}const c=await o.json();return this.formatClassificationResult(c.data||c)}async classifyMultipleImages(i){const a=new FormData;i.forEach((f,m)=>{a.append("images",f)});const o=await fetch(`${$o}/classification/classify`,{method:"POST",credentials:"include",headers:dx(),body:a});if(!o.ok){const f=await o.json().catch(()=>({message:"Classification failed"}));throw new Error(f.message||"Failed to classify images")}const c=await o.json(),u=c.data||c;return Array.isArray(u)?u.map(f=>this.formatClassificationResult(f)):[this.formatClassificationResult(u)]}async getDepartment(i){const a=await fetch(`${$o}/classification/department/${i}`,{method:"GET",credentials:"include"});if(!a.ok)throw new Error("Failed to get department");const o=await a.json();return o.data||o}async getCategories(){const i=await fetch(`${$o}/classification/categories`,{method:"GET",credentials:"include"});if(!i.ok)throw new Error("Failed to get categories");const a=await i.json();return a.data||a}async checkHealth(){try{const i=await fetch(`${$o}/classification/health`,{method:"GET",credentials:"include"});if(!i.ok)return{status:"unhealthy",message:"ML service unavailable"};const a=await i.json();return a.data||a}catch(i){return{status:"error",message:i.message}}}async generateIssueDetails(i){const a=await fetch(`${$o}/classification/generate-details`,{method:"POST",credentials:"include",headers:{...dx(),"Content-Type":"application/json"},body:JSON.stringify({category:i.category,confidence:i.confidence,department:i.department,priority:i.priority})});if(!a.ok){const c=await a.json().catch(()=>({message:"Failed to generate details"}));throw new Error(c.message||"Failed to generate issue details")}const o=await a.json();return o.data||o}formatClassificationResult(i){const a=i.classification||i;return{category:a.category||a.predicted_category,confidence:this.normalizeConfidence(a.confidence),department:a.department,priority:a.priority||this.inferPriority(a.confidence),all_predictions:a.all_predictions?.map(o=>({category:o.category,confidence:this.normalizeConfidence(o.confidence),department:o.department,priority:o.priority})),source:"ML Model",raw:a}}normalizeConfidence(i){return i==null?0:i>1?i:i*100}inferPriority(i){const a=this.normalizeConfidence(i);return a>=80?"high":a>=50?"medium":"low"}}const M1=new IO;function UO({classification:t,onAccept:i,onReject:a,isGenerating:o=!1}){const[c,u]=N.useState(!1);if(!t)return null;const{category:f,confidence:m,priority:x,description:v,alternativeCategories:b,department:w,all_predictions:j,source:E="ML Model"}=t,A=m>1?m:m*100,k=T=>{const D=T>1?T:T*100;return D>=80?"text-green-600 bg-green-50 border-green-200":D>=60?"text-yellow-600 bg-yellow-50 border-yellow-200":"text-red-600 bg-red-50 border-red-200"},O=T=>T==="high"?e.jsx(vt,{className:"text-red-500",size:20}):T==="medium"?e.jsx(si,{className:"text-yellow-500",size:20}):e.jsx(Rk,{className:"text-blue-500",size:20}),M={pothole:"Pothole / Road Damage",streetlight:"Streetlight / Electrical",garbage:"Garbage / Waste",water:"Water / Waterlogging",traffic:"Traffic Signal",noise:"Noise Pollution",safety:"Public Safety",other:"Other Issue",INFRASTRUCTURE:"Infrastructure Issue",STREETLIGHT:"Streetlight Issue",ROAD_SIGNS:"Road Signs Issue",POLLUTION:"Pollution",FALLEN_TREES:"Fallen Trees",GARBAGE:"Garbage / Waste",GRAFFITI:"Graffiti",ILLEGAL_PARKING:"Illegal Parking",ROAD_POTHOLE:"Road Pothole"},B=T=>M[T]?M[T]:T.replace(/_/g," ").replace(/\b\w/g,D=>D.toUpperCase()).toLowerCase().replace(/\b\w/g,D=>D.toUpperCase());return e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border-2 border-blue-200 p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E0,{className:"text-blue-600",size:24}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"AI Classification Results"})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 bg-white px-2 py-1 rounded-full border",children:[e.jsx(ak,{size:12}),e.jsx("span",{children:E})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Detected Category"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:B(f)})]}),e.jsxs("div",{className:`px-4 py-2 rounded-lg border-2 ${k(m)}`,children:[e.jsx("p",{className:"text-xs font-medium",children:"Confidence"}),e.jsxs("p",{className:"text-2xl font-bold",children:[A.toFixed(1),"%"]})]})]}),w&&e.jsxs("div",{className:"flex items-center gap-2 mb-3 p-3 bg-indigo-50 rounded-lg border border-indigo-100",children:[e.jsx(xf,{className:"text-indigo-600",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Assigned Department"}),e.jsx("p",{className:"font-semibold text-indigo-900",children:w})]})]}),x&&e.jsxs("div",{className:"flex items-center gap-2 mb-3 p-3 bg-gray-50 rounded-lg",children:[O(x),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Suggested Priority"}),e.jsx("p",{className:"font-semibold capitalize text-gray-900",children:x})]})]}),v&&e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-100",children:e.jsxs("p",{className:"text-sm text-gray-700 italic",children:['"',v,'"']})})]}),j&&j.length>0&&e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[e.jsxs("button",{onClick:()=>u(!c),className:"text-sm text-blue-600 hover:text-blue-800 font-medium mb-2 flex items-center gap-1",children:[e.jsx("span",{children:c?"":""}),e.jsxs("span",{children:["All Classification Results (",j.length,")"]})]}),c&&e.jsx("div",{className:"space-y-2 mt-2",children:j.map((T,D)=>{const V=T.confidence>1?T.confidence:T.confidence*100;return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:B(T.category)}),T.department&&e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:[" ",T.department]})]}),e.jsxs("span",{className:`text-sm font-semibold px-2 py-0.5 rounded ${V>=50?"text-green-700 bg-green-100":V>=20?"text-yellow-700 bg-yellow-100":"text-gray-600 bg-gray-200"}`,children:[V.toFixed(1),"%"]})]},D)})})]}),b&&b.length>0&&!j&&e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[e.jsxs("button",{onClick:()=>u(!c),className:"text-sm text-blue-600 hover:text-blue-800 font-medium mb-2",children:[c?"":""," Alternative Classifications"]}),c&&e.jsx("div",{className:"space-y-2 mt-2",children:b.map((T,D)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-sm capitalize",children:M[T.category]||T.category}),e.jsxs("span",{className:"text-sm text-gray-600",children:[T.probability,"%"]})]},D))})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:i,disabled:o,className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:o?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{size:18,className:"animate-spin"}),"Generating Details..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{size:18}),"Accept AI Suggestion"]})}),e.jsx("button",{onClick:a,disabled:o,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Choose Manually"})]}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:o?"Using AI to generate title and description...":"AI classification uses advanced image analysis to categorize civic issues"})]})}const VO=[{value:"pothole",label:"Pothole",icon:""},{value:"streetlight",label:"Street Light",icon:""},{value:"garbage",label:"Garbage/Waste",icon:""},{value:"water",label:"Water/Drainage",icon:""},{value:"traffic",label:"Traffic Issue",icon:""},{value:"noise",label:"Noise Complaint",icon:""},{value:"safety",label:"Public Safety",icon:""},{value:"other",label:"Other",icon:""},{value:"INFRASTRUCTURE",label:"Infrastructure",icon:""},{value:"STREETLIGHT",label:"Streetlight",icon:""},{value:"ROAD_SIGNS",label:"Road Signs",icon:""},{value:"POLLUTION",label:"Pollution",icon:""},{value:"FALLEN_TREES",label:"Fallen Trees",icon:""},{value:"GARBAGE",label:"Garbage",icon:""},{value:"GRAFFITI",label:"Graffiti",icon:""},{value:"ILLEGAL_PARKING",label:"Illegal Parking",icon:""},{value:"ROAD_POTHOLE",label:"Road Pothole",icon:""}],HO=[{value:"low",label:"Low",color:"text-emerald-400"},{value:"medium",label:"Medium",color:"text-amber-400"},{value:"high",label:"High",color:"text-rose-400"}];function fg({isOpen:t,onClose:i,onSuccess:a,editMode:o=!1,initialData:c=null}){const[u,f]=N.useState({title:"",description:"",category:"",priority:"medium",location:{address:"",lat:null,lng:null,city:"",state:""}}),[m,x]=N.useState([]),[v,b]=N.useState([]),[w,j]=N.useState(!1),[E,A]=N.useState(!1),[k,O]=N.useState(null),[M,B]=N.useState(!1),[T,D]=N.useState(0),V=N.useRef(null),[R,Z]=N.useState(null),[H,G]=N.useState(!1),[ee,Y]=N.useState(null);N.useEffect(()=>{o&&c&&t?(f({title:c.title||"",description:c.description||"",category:c.category||"",priority:c.priority||"medium",location:c.location||{address:"",lat:null,lng:null,city:"",state:""}}),c.images&&c.images.length>0&&b(c.images)):!o&&t&&!u.location.lat&&te()},[t,o,c]),N.useEffect(()=>{t&&!o&&!u.location.lat&&te()},[t,o]);const K=$=>{const{name:W,value:fe}=$.target;if(W.startsWith("location.")){const be=W.split(".")[1];f(we=>({...we,location:{...we.location,[be]:fe}}))}else f(be=>({...be,[W]:fe}))},le=async $=>{const W=Array.from($.target.files);if(W.length+m.length>5){O("Maximum 5 images allowed"),setTimeout(()=>O(null),3e3);return}const fe=["image/jpeg","image/jpg","image/png","image/webp","image/gif"];if(W.filter(Fe=>!fe.includes(Fe.type)).length>0){O("Only JPEG, PNG, WebP, and GIF images are allowed"),setTimeout(()=>O(null),3e3);return}const we=5*1024*1024;if(W.filter(Fe=>Fe.size>we).length>0){O("Each image must be less than 5MB"),setTimeout(()=>O(null),3e3);return}const it=[];W.forEach(Fe=>{const es=new FileReader;es.onloadend=()=>{it.push(es.result),it.length===W.length&&b(ks=>[...ks,...it])},es.readAsDataURL(Fe)}),x(Fe=>[...Fe,...W]),W.length>0&&!R&&await F(W[0])},F=async $=>{G(!0),Y(null);try{const W=await M1.classifyImage($);Z(W),console.log(" AI Classification result:",W)}catch(W){console.error(" Classification error:",W),Y(W.message||"Failed to classify image")}finally{G(!1)}},[ve,U]=N.useState(!1),ne=async()=>{if(R){U(!0);try{const $=await M1.generateIssueDetails(R);console.log(" Generated issue details:",$),f(W=>({...W,title:$.title||W.title,description:$.description||W.description,category:$.category||R.category||W.category,priority:$.priority||R.priority||W.priority}))}catch($){console.error(" Failed to generate details:",$),f(W=>({...W,category:R.category,priority:R.priority||W.priority}))}finally{U(!1)}}},J=()=>{Z(null)},ae=$=>{x(W=>W.filter((fe,be)=>be!==$)),b(W=>W.filter((fe,be)=>be!==$))},te=()=>{if(!navigator.geolocation){O("Geolocation is not supported by your browser"),setTimeout(()=>O(null),3e3);return}A(!0),O(null),navigator.geolocation.getCurrentPosition(async $=>{const{latitude:W,longitude:fe,accuracy:be}=$.coords;console.log(` Location acquired: ${W}, ${fe} (accuracy: ${be.toFixed(0)}m)`),f(we=>({...we,location:{...we.location,lat:W,lng:fe}}));try{const we=`${W.toFixed(6)}N, ${fe.toFixed(6)}E`,Ne="Your City",it="Your State";f(Fe=>({...Fe,location:{...Fe.location,address:we,city:Ne,state:it}}))}catch(we){console.error(" Reverse geocoding failed:",we),f(Ne=>({...Ne,location:{...Ne.location,address:`${W.toFixed(6)}N, ${fe.toFixed(6)}E`}}))}A(!1)},$=>{console.error(" Geolocation error:",$);let W="Unable to get your location. ";switch($.code){case $.PERMISSION_DENIED:W="Location permission denied. Please enable location access in your browser settings or enter location manually.";break;case $.POSITION_UNAVAILABLE:W="Location information is unavailable. Please enter location manually.";break;case $.TIMEOUT:W="Location request timed out. Please try again or enter manually.";break;default:W="An error occurred while getting location. Please enter manually."}console.warn(" "+W),A(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},I=async $=>{if($.preventDefault(),O(null),!u.title.trim()){O("Please enter a title");return}if(!u.category){O("Please select a category");return}if(!u.description.trim()){O("Please describe the issue");return}if(!u.location.lat||!u.location.lng){O("Please provide a location using GPS or enter manually");return}j(!0),D(0);try{const W=new FormData;W.append("title",u.title),W.append("description",u.description),W.append("category",u.category),W.append("priority",u.priority),W.append("location",JSON.stringify(u.location)),m.forEach((we,Ne)=>{W.append("images",we)});const fe=setInterval(()=>{D(we=>we>=90?(clearInterval(fe),90):we+10)},200);let be;if(o&&c)be=await $e.updateIssue(c._id,W);else{be=await $e.createIssue(W);try{localStorage.removeItem("userIssues")}catch(Ne){console.warn("Could not clean localStorage:",Ne)}const we=be.issue||be.data?.issue||{id:`ISS-${Date.now()}`};window.dispatchEvent(new CustomEvent("issueCreated",{detail:{id:we._id||we.id}})),console.log(" Issue created in database:",we._id||we.id)}clearInterval(fe),D(100),B(!0),setTimeout(()=>{f({title:"",description:"",category:"",priority:"medium",location:{address:"",lat:null,lng:null,city:"",state:""}}),x([]),b([]),B(!1),D(0),a?.(o?W:be),i?.()},2e3)}catch(W){console.error(o?"Issue update error:":"Issue creation error:",W),O(W.message||`Failed to ${o?"update":"submit"} issue. Please try again.`),D(0)}finally{j(!1)}};return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"relative flex max-h-[90vh] w-full max-w-2xl flex-col overflow-hidden rounded-2xl border border-white/10 bg-[#0a0a0a]",children:[e.jsxs("div",{className:"flex shrink-0 items-center justify-between border-b border-white/10 p-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:o?"Edit Issue":"Report an Issue"}),e.jsx("button",{onClick:i,className:"rounded-lg p-2 text-white/60 transition-colors hover:bg-white/10 hover:text-white",children:e.jsx(ls,{className:"h-5 w-5"})})]}),M?e.jsxs("div",{className:"flex flex-col items-center justify-center p-12",children:[e.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-emerald-500/20",children:e.jsx(Be,{className:"h-8 w-8 text-emerald-400"})}),e.jsx("h3",{className:"mb-2 text-xl font-semibold text-white",children:o?"Issue Updated Successfully!":"Issue Reported Successfully!"}),e.jsx("p",{className:"text-center text-white/60",children:"Thank you for your report. We'll notify you when there's an update."})]}):e.jsxs("form",{onSubmit:I,className:"flex-1 overflow-y-auto p-6",style:{maxHeight:"calc(90vh - 80px)"},children:[k&&e.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-rose-500/20 p-3 text-sm text-rose-400",children:[e.jsx(vt,{className:"h-4 w-4"}),k]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-white",children:"Photos (Optional, max 5)"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[v.map(($,W)=>e.jsxs("div",{className:"group relative h-24 w-24 overflow-hidden rounded-lg border border-white/10",children:[e.jsx("img",{src:$,alt:`Upload ${W+1}`,className:"h-full w-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>ae(W),className:"absolute right-1 top-1 rounded-full bg-rose-500/90 p-1.5 opacity-0 transition-opacity hover:bg-rose-600 group-hover:opacity-100",children:e.jsx(wf,{className:"h-3 w-3 text-white"})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-1",children:e.jsxs("span",{className:"text-[10px] text-white/80",children:[(m[W]?.size/1024).toFixed(0)," KB"]})})]},W)),m.length<5&&e.jsxs("button",{type:"button",onClick:()=>V.current?.click(),className:"flex h-24 w-24 flex-col items-center justify-center rounded-lg border border-dashed border-white/20 text-white/40 transition-colors hover:border-rose-500/50 hover:bg-rose-500/5 hover:text-rose-400",children:[e.jsx(Kr,{className:"mb-1 h-6 w-6"}),e.jsx("span",{className:"text-xs",children:"Add Photo"})]})]}),e.jsx("p",{className:"mt-2 text-xs text-white/40",children:"Supports: JPEG, PNG, WebP, GIF  Max 5MB each"}),e.jsx("input",{ref:V,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",multiple:!0,onChange:le,className:"hidden"}),H&&e.jsxs("div",{className:"mt-4 flex items-center gap-2 rounded-lg bg-blue-500/20 p-3 text-sm text-blue-400",children:[e.jsx(Pe,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Analyzing image with AI..."})]}),ee&&e.jsxs("div",{className:"mt-4 flex items-center gap-2 rounded-lg bg-amber-500/20 p-3 text-sm text-amber-400",children:[e.jsx(vt,{className:"h-4 w-4"}),e.jsxs("span",{children:["AI classification unavailable: ",ee]})]}),R&&!H&&e.jsx("div",{className:"mt-4",children:e.jsx(UO,{classification:R,onAccept:ne,onReject:J,isGenerating:ve})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-white",children:"Issue Title *"}),e.jsx("input",{type:"text",name:"title",value:u.title,onChange:K,placeholder:"e.g., Large pothole on Main Street",className:"w-full rounded-lg border border-white/10 bg-white/5 px-4 py-3 text-white placeholder-white/40 outline-none transition-colors focus:border-rose-500/50"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-white",children:"Category *"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:VO.map($=>e.jsxs("button",{type:"button",onClick:()=>f(W=>({...W,category:$.value})),className:_e("flex flex-col items-center rounded-lg border p-3 transition-all",u.category===$.value?"border-rose-500 bg-rose-500/20 text-rose-400":"border-white/10 bg-white/5 text-white/60 hover:border-white/20"),children:[e.jsx("span",{className:"mb-1 text-xl",children:$.icon}),e.jsx("span",{className:"text-xs",children:$.label})]},$.value))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-white",children:"Priority Level"}),e.jsx("div",{className:"flex gap-2",children:HO.map($=>e.jsx("button",{type:"button",onClick:()=>f(W=>({...W,priority:$.value})),className:_e("flex-1 rounded-lg border py-2 text-sm transition-all",u.priority===$.value?"border-rose-500 bg-rose-500/20 text-rose-400":"border-white/10 bg-white/5 text-white/60 hover:border-white/20"),children:$.label},$.value))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-white",children:"Location *"}),e.jsxs("div",{className:"mb-3 flex gap-2",children:[e.jsx("input",{type:"text",name:"location.address",value:u.location.address,onChange:K,placeholder:"Enter address or use GPS",className:"flex-1 rounded-lg border border-white/10 bg-white/5 px-4 py-3 text-white placeholder-white/40 outline-none transition-colors focus:border-rose-500/50",readOnly:E}),e.jsx(Kc,{type:"button",variant:"outline",onClick:te,disabled:E,className:"shrink-0 px-4",title:"Get current location",children:E?e.jsx(Pe,{className:"h-4 w-4 animate-spin"}):e.jsx(Je,{className:"h-4 w-4"})})]}),u.location.lat&&u.location.lng?e.jsxs("div",{className:"rounded-lg border border-emerald-500/30 bg-emerald-500/10 p-4",children:[e.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm font-medium text-emerald-400",children:[e.jsx(Be,{className:"h-4 w-4"}),"GPS Location Captured"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Latitude"}),e.jsx("input",{type:"number",step:"0.000001",value:u.location.lat,onChange:$=>f(W=>({...W,location:{...W.location,lat:parseFloat($.target.value)}})),className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-white outline-none transition-colors focus:border-emerald-500/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Longitude"}),e.jsx("input",{type:"number",step:"0.000001",value:u.location.lng,onChange:$=>f(W=>({...W,location:{...W.location,lng:parseFloat($.target.value)}})),className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-white outline-none transition-colors focus:border-emerald-500/50"})]})]}),e.jsx("div",{className:"mt-3 overflow-hidden rounded-lg border border-white/10 bg-white/5",children:e.jsx("div",{className:"relative aspect-video w-full bg-gradient-to-br from-emerald-500/20 to-violet-500/20",children:e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx(Je,{className:"mb-2 h-8 w-8 text-emerald-400"}),e.jsx("p",{className:"text-xs text-white/60",children:"Map Preview"}),e.jsxs("p",{className:"text-xs text-white/40",children:[u.location.lat.toFixed(6),","," ",u.location.lng.toFixed(6)]})]})})})]}):e.jsxs("div",{className:"rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-center",children:[e.jsx(Je,{className:"mx-auto mb-2 h-6 w-6 text-white/40"}),e.jsx("p",{className:"text-sm text-white/60",children:"Click the GPS button to capture your location"}),e.jsx("p",{className:"mt-1 text-xs text-white/40",children:"Or enter coordinates manually below"}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[e.jsx("div",{children:e.jsx("input",{type:"number",step:"0.000001",placeholder:"Latitude",onChange:$=>{const W=parseFloat($.target.value);isNaN(W)||f(fe=>({...fe,location:{...fe.location,lat:W}}))},className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-white placeholder-white/40 outline-none transition-colors focus:border-rose-500/50"})}),e.jsx("div",{children:e.jsx("input",{type:"number",step:"0.000001",placeholder:"Longitude",onChange:$=>{const W=parseFloat($.target.value);isNaN(W)||f(fe=>({...fe,location:{...fe.location,lng:W}}))},className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-white placeholder-white/40 outline-none transition-colors focus:border-rose-500/50"})})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-white",children:"Description *"}),e.jsx("textarea",{name:"description",value:u.description,onChange:K,rows:4,placeholder:"Please describe the issue in detail...",className:"w-full resize-none rounded-lg border border-white/10 bg-white/5 px-4 py-3 text-white placeholder-white/40 outline-none transition-colors focus:border-rose-500/50"})]}),w&&T>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs text-white/60",children:[e.jsx("span",{children:"Uploading..."}),e.jsxs("span",{children:[T,"%"]})]}),e.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-white/10",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-rose-500 to-violet-500 transition-all duration-300",style:{width:`${T}%`}})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Kc,{type:"button",variant:"outline",onClick:i,className:"flex-1",disabled:w,children:"Cancel"}),e.jsx(Kc,{type:"submit",disabled:w||E,className:"flex-1 bg-gradient-to-r from-rose-500 to-violet-500 text-white hover:from-rose-600 hover:to-violet-600 disabled:opacity-50",children:w?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Yh,{className:"mr-2 h-4 w-4"}),"Submit Report"]})})]})]})]})}):null}const FO=[{value:"all",label:"All"},{value:"reported",label:"Reported"},{value:"acknowledged",label:"Acknowledged"},{value:"in-progress",label:"In Progress"},{value:"resolved",label:"Resolved"},{value:"rejected",label:"Rejected"}],ZO=[{value:"all",label:"All Categories"},{value:"pothole",label:"Pothole"},{value:"streetlight",label:"Street Light"},{value:"garbage",label:"Garbage"},{value:"water",label:"Water/Drainage"},{value:"traffic",label:"Traffic"},{value:"noise",label:"Noise"},{value:"safety",label:"Safety"},{value:"other",label:"Other"}];function qO({onViewIssue:t}){const[i,a]=N.useState([]),[o,c]=N.useState(!0),[u,f]=N.useState(null),[m,x]=N.useState("grid"),[v,b]=N.useState(""),[w,j]=N.useState("all"),[E,A]=N.useState("all"),[k,O]=N.useState(!1),[M,B]=N.useState(0),[T,D]=N.useState(null),V=N.useCallback(async()=>{c(!0),f(null);try{const Y={};w!=="all"&&(Y.status=w),E!=="all"&&(Y.category=E);const K=await $e.getMyIssues(Y);a(K.data.issues||[])}catch(Y){console.error("Error fetching my issues:",Y),f(Y.message||"Failed to fetch issues"),a([])}finally{c(!1)}},[w,E]);N.useEffect(()=>{V()},[V,M]),N.useEffect(()=>{const Y=()=>{console.log("New issue created, refreshing..."),B(K=>K+1)};return window.addEventListener("issueCreated",Y),()=>{window.removeEventListener("issueCreated",Y)}},[]);const R=async Y=>{try{const K=await $e.upvoteIssue(Y);a(le=>le.map(F=>F._id===Y?{...F,upvotes:Array.isArray(F.upvotes)?[...F.upvotes]:[],upvoteCount:K.data.upvotes}:F)),console.log(" Issue upvoted:",Y)}catch(K){console.error("Failed to upvote:",K),f("Failed to upvote issue. Please try again."),setTimeout(()=>f(null),3e3)}},Z=async Y=>{if(confirm("Are you sure you want to delete this issue?"))try{await $e.deleteIssue(Y),a(K=>K.filter(le=>le._id!==Y)),window.dispatchEvent(new CustomEvent("issueDeleted",{detail:{issueId:Y}})),console.log(" Issue deleted and event dispatched:",Y)}catch(K){console.error("Failed to delete issue:",K),f("Failed to delete issue. Please try again.")}},H=Y=>{D(Y)},G=async Y=>{try{const K=await $e.updateIssue(T._id,Y);a(le=>le.map(F=>F._id===T._id?K.data:F)),D(null),window.dispatchEvent(new CustomEvent("issueUpdated",{detail:{issue:K.data}})),console.log(" Issue updated and event dispatched:",K.data._id),B(le=>le+1)}catch(K){console.error("Failed to update issue:",K),f("Failed to update issue. Please try again.")}},ee=i.filter(Y=>v?Y.title.toLowerCase().includes(v.toLowerCase())||Y.description.toLowerCase().includes(v.toLowerCase()):!0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"My Issues"}),e.jsxs("p",{className:"text-sm text-white/60",children:[ee.length," issue",ee.length!==1?"s":""," found"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Za,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",placeholder:"Search issues...",value:v,onChange:Y=>b(Y.target.value),className:"h-10 w-48 rounded-lg border border-white/10 bg-white/5 pl-10 pr-4 text-sm text-white placeholder-white/40 outline-none focus:border-rose-500/50"})]}),e.jsxs("button",{onClick:()=>O(!k),className:_e("flex h-10 items-center gap-2 rounded-lg border px-3 text-sm transition-colors",k?"border-rose-500 bg-rose-500/20 text-rose-400":"border-white/10 bg-white/5 text-white/60 hover:border-white/20"),children:[e.jsx(yf,{className:"h-4 w-4"}),"Filters"]}),e.jsxs("div",{className:"flex overflow-hidden rounded-lg border border-white/10",children:[e.jsx("button",{onClick:()=>x("grid"),className:_e("p-2 transition-colors",m==="grid"?"bg-white/10 text-white":"text-white/40 hover:text-white"),children:e.jsx(J_,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>x("list"),className:_e("p-2 transition-colors",m==="list"?"bg-white/10 text-white":"text-white/40 hover:text-white"),children:e.jsx(sj,{className:"h-4 w-4"})})]}),e.jsx("button",{onClick:V,disabled:o,className:"rounded-lg border border-white/10 bg-white/5 p-2 text-white/60 transition-colors hover:border-white/20 hover:text-white disabled:opacity-50",children:e.jsx(Ui,{className:_e("h-4 w-4",o&&"animate-spin")})})]})]}),k&&e.jsxs("div",{className:"flex flex-wrap gap-4 rounded-lg border border-white/10 bg-white/5 p-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium text-white/60",children:"Status"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:FO.map(Y=>e.jsx("button",{onClick:()=>j(Y.value),className:_e("rounded-full px-3 py-1 text-xs transition-colors",w===Y.value?"bg-rose-500/20 text-rose-400":"bg-white/10 text-white/60 hover:text-white"),children:Y.label},Y.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium text-white/60",children:"Category"}),e.jsx("select",{value:E,onChange:Y=>A(Y.target.value),className:"rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-sm text-white outline-none focus:border-rose-500/50",children:ZO.map(Y=>e.jsx("option",{value:Y.value,className:"bg-black",children:Y.label},Y.value))})]})]}),o&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Pe,{className:"h-8 w-8 animate-spin text-rose-400"})}),u&&e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-rose-500/20 bg-rose-500/10 py-12",children:[e.jsx(vt,{className:"mb-2 h-8 w-8 text-rose-400"}),e.jsx("p",{className:"text-rose-400",children:u}),e.jsx("button",{onClick:V,className:"mt-4 rounded-lg bg-rose-500/20 px-4 py-2 text-sm text-rose-400 hover:bg-rose-500/30",children:"Try Again"})]}),!o&&!u&&ee.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-white/10 bg-white/5 py-12",children:[e.jsx("div",{className:"mb-4 text-4xl",children:""}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"No issues found"}),e.jsx("p",{className:"text-sm text-white/60",children:v||w!=="all"||E!=="all"?"Try adjusting your filters":"You haven't reported any issues yet"})]}),!o&&!u&&ee.length>0&&e.jsx("div",{className:_e(m==="grid"?"grid gap-4 sm:grid-cols-2 lg:grid-cols-3":"space-y-3"),children:ee.map(Y=>e.jsx(hN,{issue:Y,variant:m==="list"?"compact":"default",onView:t,onUpvote:R,onDelete:Z,onUpdate:H,showActions:!0},Y._id||Y.id))}),T&&e.jsx(fg,{isOpen:!0,onClose:()=>D(null),onSuccess:G,editMode:!0,initialData:T})]})}function fN(t,i){const a=N.useRef(i);N.useEffect(function(){i!==a.current&&t.attributionControl!=null&&(a.current!=null&&t.attributionControl.removeAttribution(a.current),i!=null&&t.attributionControl.addAttribution(i)),a.current=i},[t,i])}function GO(t,i,a){i.center!==a.center&&t.setLatLng(i.center),i.radius!=null&&i.radius!==a.radius&&t.setRadius(i.radius)}const $O=1;function YO(t){return Object.freeze({__version:$O,map:t})}function mg(t,i){return Object.freeze({...t,...i})}const pg=N.createContext(null);function Ef(){const t=N.use(pg);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function mN(t){function i(a,o){const{instance:c,context:u}=t(a).current;N.useImperativeHandle(o,()=>c);const{children:f}=a;return f==null?null:Jt.createElement(pg,{value:u},f)}return N.forwardRef(i)}function XO(t){function i(a,o){const[c,u]=N.useState(!1),{instance:f}=t(a,u).current;N.useImperativeHandle(o,()=>f),N.useEffect(function(){c&&f.update()},[f,c,a.children]);const m=f._contentNode;return m?FS.createPortal(a.children,m):null}return N.forwardRef(i)}function KO(t){function i(a,o){const{instance:c}=t(a).current;return N.useImperativeHandle(o,()=>c),null}return N.forwardRef(i)}function xg(t,i){const a=N.useRef(void 0);N.useEffect(function(){return i!=null&&t.instance.on(i),a.current=i,function(){a.current!=null&&t.instance.off(a.current),a.current=null}},[t,i])}function Af(t,i){const a=t.pane??i.pane;return a?{...t,pane:a}:t}function WO(t,i){return function(o,c){const u=Ef(),f=t(Af(o,u),u);return fN(u.map,o.attribution),xg(f.current,o.eventHandlers),i(f.current,u,o,c),f}}var Gc={exports:{}};var QO=Gc.exports,R1;function JO(){return R1||(R1=1,(function(t,i){(function(a,o){o(i)})(QO,(function(a){var o="1.9.4";function c(r){var d,p,_,S;for(p=1,_=arguments.length;p<_;p++){S=arguments[p];for(d in S)r[d]=S[d]}return r}var u=Object.create||(function(){function r(){}return function(d){return r.prototype=d,new r}})();function f(r,d){var p=Array.prototype.slice;if(r.bind)return r.bind.apply(r,p.call(arguments,1));var _=p.call(arguments,2);return function(){return r.apply(d,_.length?_.concat(p.call(arguments)):arguments)}}var m=0;function x(r){return"_leaflet_id"in r||(r._leaflet_id=++m),r._leaflet_id}function v(r,d,p){var _,S,P,q;return q=function(){_=!1,S&&(P.apply(p,S),S=!1)},P=function(){_?S=arguments:(r.apply(p,arguments),setTimeout(q,d),_=!0)},P}function b(r,d,p){var _=d[1],S=d[0],P=_-S;return r===_&&p?r:((r-S)%P+P)%P+S}function w(){return!1}function j(r,d){if(d===!1)return r;var p=Math.pow(10,d===void 0?6:d);return Math.round(r*p)/p}function E(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function A(r){return E(r).split(/\s+/)}function k(r,d){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?u(r.options):{});for(var p in d)r.options[p]=d[p];return r.options}function O(r,d,p){var _=[];for(var S in r)_.push(encodeURIComponent(p?S.toUpperCase():S)+"="+encodeURIComponent(r[S]));return(!d||d.indexOf("?")===-1?"?":"&")+_.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function B(r,d){return r.replace(M,function(p,_){var S=d[_];if(S===void 0)throw new Error("No value provided for variable "+p);return typeof S=="function"&&(S=S(d)),S})}var T=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function D(r,d){for(var p=0;p<r.length;p++)if(r[p]===d)return p;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var Z=0;function H(r){var d=+new Date,p=Math.max(0,16-(d-Z));return Z=d+p,window.setTimeout(r,p)}var G=window.requestAnimationFrame||R("RequestAnimationFrame")||H,ee=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function Y(r,d,p){if(p&&G===H)r.call(d);else return G.call(window,f(r,d))}function K(r){r&&ee.call(window,r)}var le={__proto__:null,extend:c,create:u,bind:f,get lastId(){return m},stamp:x,throttle:v,wrapNum:b,falseFn:w,formatNum:j,trim:E,splitWords:A,setOptions:k,getParamString:O,template:B,isArray:T,indexOf:D,emptyImageUrl:V,requestFn:G,cancelFn:ee,requestAnimFrame:Y,cancelAnimFrame:K};function F(){}F.extend=function(r){var d=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=d.__super__=this.prototype,_=u(p);_.constructor=d,d.prototype=_;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(d[S]=this[S]);return r.statics&&c(d,r.statics),r.includes&&(ve(r.includes),c.apply(null,[_].concat(r.includes))),c(_,r),delete _.statics,delete _.includes,_.options&&(_.options=p.options?u(p.options):{},c(_.options,r.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,q=_._initHooks.length;P<q;P++)_._initHooks[P].call(this)}},d},F.include=function(r){var d=this.prototype.options;return c(this.prototype,r),r.options&&(this.prototype.options=d,this.mergeOptions(r.options)),this},F.mergeOptions=function(r){return c(this.prototype.options,r),this},F.addInitHook=function(r){var d=Array.prototype.slice.call(arguments,1),p=typeof r=="function"?r:function(){this[r].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function ve(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=T(r)?r:[r];for(var d=0;d<r.length;d++)r[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var U={on:function(r,d,p){if(typeof r=="object")for(var _ in r)this._on(_,r[_],d);else{r=A(r);for(var S=0,P=r.length;S<P;S++)this._on(r[S],d,p)}return this},off:function(r,d,p){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var _ in r)this._off(_,r[_],d);else{r=A(r);for(var S=arguments.length===1,P=0,q=r.length;P<q;P++)S?this._off(r[P]):this._off(r[P],d,p)}return this},_on:function(r,d,p,_){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(r,d,p)===!1){p===this&&(p=void 0);var S={fn:d,ctx:p};_&&(S.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(S)}},_off:function(r,d,p){var _,S,P;if(this._events&&(_=this._events[r],!!_)){if(arguments.length===1){if(this._firingCount)for(S=0,P=_.length;S<P;S++)_[S].fn=w;delete this._events[r];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var q=this._listens(r,d,p);if(q!==!1){var ie=_[q];this._firingCount&&(ie.fn=w,this._events[r]=_=_.slice()),_.splice(q,1)}}},fire:function(r,d,p){if(!this.listens(r,p))return this;var _=c({},d,{type:r,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var S=this._events[r];if(S){this._firingCount=this._firingCount+1||1;for(var P=0,q=S.length;P<q;P++){var ie=S[P],ce=ie.fn;ie.once&&this.off(r,ce,ie.ctx),ce.call(ie.ctx||this,_)}this._firingCount--}}return p&&this._propagateEvent(_),this},listens:function(r,d,p,_){typeof r!="string"&&console.warn('"string" type argument expected');var S=d;typeof d!="function"&&(_=!!d,S=void 0,p=void 0);var P=this._events&&this._events[r];if(P&&P.length&&this._listens(r,S,p)!==!1)return!0;if(_){for(var q in this._eventParents)if(this._eventParents[q].listens(r,d,p,_))return!0}return!1},_listens:function(r,d,p){if(!this._events)return!1;var _=this._events[r]||[];if(!d)return!!_.length;p===this&&(p=void 0);for(var S=0,P=_.length;S<P;S++)if(_[S].fn===d&&_[S].ctx===p)return S;return!1},once:function(r,d,p){if(typeof r=="object")for(var _ in r)this._on(_,r[_],d,!0);else{r=A(r);for(var S=0,P=r.length;S<P;S++)this._on(r[S],d,p,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[x(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[x(r)],this},_propagateEvent:function(r){for(var d in this._eventParents)this._eventParents[d].fire(r.type,c({layer:r.target,propagatedFrom:r.target},r),!0)}};U.addEventListener=U.on,U.removeEventListener=U.clearAllEventListeners=U.off,U.addOneTimeEventListener=U.once,U.fireEvent=U.fire,U.hasEventListeners=U.listens;var ne=F.extend(U);function J(r,d,p){this.x=p?Math.round(r):r,this.y=p?Math.round(d):d}var ae=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};J.prototype={clone:function(){return new J(this.x,this.y)},add:function(r){return this.clone()._add(te(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(te(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new J(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new J(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ae(this.x),this.y=ae(this.y),this},distanceTo:function(r){r=te(r);var d=r.x-this.x,p=r.y-this.y;return Math.sqrt(d*d+p*p)},equals:function(r){return r=te(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=te(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+j(this.x)+", "+j(this.y)+")"}};function te(r,d,p){return r instanceof J?r:T(r)?new J(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new J(r.x,r.y):new J(r,d,p)}function I(r,d){if(r)for(var p=d?[r,d]:r,_=0,S=p.length;_<S;_++)this.extend(p[_])}I.prototype={extend:function(r){var d,p;if(!r)return this;if(r instanceof J||typeof r[0]=="number"||"x"in r)d=p=te(r);else if(r=$(r),d=r.min,p=r.max,!d||!p)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=p.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(r){return te((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return te(this.min.x,this.max.y)},getTopRight:function(){return te(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var d,p;return typeof r[0]=="number"||r instanceof J?r=te(r):r=$(r),r instanceof I?(d=r.min,p=r.max):d=p=r,d.x>=this.min.x&&p.x<=this.max.x&&d.y>=this.min.y&&p.y<=this.max.y},intersects:function(r){r=$(r);var d=this.min,p=this.max,_=r.min,S=r.max,P=S.x>=d.x&&_.x<=p.x,q=S.y>=d.y&&_.y<=p.y;return P&&q},overlaps:function(r){r=$(r);var d=this.min,p=this.max,_=r.min,S=r.max,P=S.x>d.x&&_.x<p.x,q=S.y>d.y&&_.y<p.y;return P&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var d=this.min,p=this.max,_=Math.abs(d.x-p.x)*r,S=Math.abs(d.y-p.y)*r;return $(te(d.x-_,d.y-S),te(p.x+_,p.y+S))},equals:function(r){return r?(r=$(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function $(r,d){return!r||r instanceof I?r:new I(r,d)}function W(r,d){if(r)for(var p=d?[r,d]:r,_=0,S=p.length;_<S;_++)this.extend(p[_])}W.prototype={extend:function(r){var d=this._southWest,p=this._northEast,_,S;if(r instanceof be)_=r,S=r;else if(r instanceof W){if(_=r._southWest,S=r._northEast,!_||!S)return this}else return r?this.extend(we(r)||fe(r)):this;return!d&&!p?(this._southWest=new be(_.lat,_.lng),this._northEast=new be(S.lat,S.lng)):(d.lat=Math.min(_.lat,d.lat),d.lng=Math.min(_.lng,d.lng),p.lat=Math.max(S.lat,p.lat),p.lng=Math.max(S.lng,p.lng)),this},pad:function(r){var d=this._southWest,p=this._northEast,_=Math.abs(d.lat-p.lat)*r,S=Math.abs(d.lng-p.lng)*r;return new W(new be(d.lat-_,d.lng-S),new be(p.lat+_,p.lng+S))},getCenter:function(){return new be((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new be(this.getNorth(),this.getWest())},getSouthEast:function(){return new be(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof be||"lat"in r?r=we(r):r=fe(r);var d=this._southWest,p=this._northEast,_,S;return r instanceof W?(_=r.getSouthWest(),S=r.getNorthEast()):_=S=r,_.lat>=d.lat&&S.lat<=p.lat&&_.lng>=d.lng&&S.lng<=p.lng},intersects:function(r){r=fe(r);var d=this._southWest,p=this._northEast,_=r.getSouthWest(),S=r.getNorthEast(),P=S.lat>=d.lat&&_.lat<=p.lat,q=S.lng>=d.lng&&_.lng<=p.lng;return P&&q},overlaps:function(r){r=fe(r);var d=this._southWest,p=this._northEast,_=r.getSouthWest(),S=r.getNorthEast(),P=S.lat>d.lat&&_.lat<p.lat,q=S.lng>d.lng&&_.lng<p.lng;return P&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,d){return r?(r=fe(r),this._southWest.equals(r.getSouthWest(),d)&&this._northEast.equals(r.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function fe(r,d){return r instanceof W?r:new W(r,d)}function be(r,d,p){if(isNaN(r)||isNaN(d))throw new Error("Invalid LatLng object: ("+r+", "+d+")");this.lat=+r,this.lng=+d,p!==void 0&&(this.alt=+p)}be.prototype={equals:function(r,d){if(!r)return!1;r=we(r);var p=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return p<=(d===void 0?1e-9:d)},toString:function(r){return"LatLng("+j(this.lat,r)+", "+j(this.lng,r)+")"},distanceTo:function(r){return it.distance(this,we(r))},wrap:function(){return it.wrapLatLng(this)},toBounds:function(r){var d=180*r/40075017,p=d/Math.cos(Math.PI/180*this.lat);return fe([this.lat-d,this.lng-p],[this.lat+d,this.lng+p])},clone:function(){return new be(this.lat,this.lng,this.alt)}};function we(r,d,p){return r instanceof be?r:T(r)&&typeof r[0]!="object"?r.length===3?new be(r[0],r[1],r[2]):r.length===2?new be(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new be(r.lat,"lng"in r?r.lng:r.lon,r.alt):d===void 0?null:new be(r,d,p)}var Ne={latLngToPoint:function(r,d){var p=this.projection.project(r),_=this.scale(d);return this.transformation._transform(p,_)},pointToLatLng:function(r,d){var p=this.scale(d),_=this.transformation.untransform(r,p);return this.projection.unproject(_)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var d=this.projection.bounds,p=this.scale(r),_=this.transformation.transform(d.min,p),S=this.transformation.transform(d.max,p);return new I(_,S)},infinite:!1,wrapLatLng:function(r){var d=this.wrapLng?b(r.lng,this.wrapLng,!0):r.lng,p=this.wrapLat?b(r.lat,this.wrapLat,!0):r.lat,_=r.alt;return new be(p,d,_)},wrapLatLngBounds:function(r){var d=r.getCenter(),p=this.wrapLatLng(d),_=d.lat-p.lat,S=d.lng-p.lng;if(_===0&&S===0)return r;var P=r.getSouthWest(),q=r.getNorthEast(),ie=new be(P.lat-_,P.lng-S),ce=new be(q.lat-_,q.lng-S);return new W(ie,ce)}},it=c({},Ne,{wrapLng:[-180,180],R:6371e3,distance:function(r,d){var p=Math.PI/180,_=r.lat*p,S=d.lat*p,P=Math.sin((d.lat-r.lat)*p/2),q=Math.sin((d.lng-r.lng)*p/2),ie=P*P+Math.cos(_)*Math.cos(S)*q*q,ce=2*Math.atan2(Math.sqrt(ie),Math.sqrt(1-ie));return this.R*ce}}),Fe=6378137,es={R:Fe,MAX_LATITUDE:85.0511287798,project:function(r){var d=Math.PI/180,p=this.MAX_LATITUDE,_=Math.max(Math.min(p,r.lat),-p),S=Math.sin(_*d);return new J(this.R*r.lng*d,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(r){var d=180/Math.PI;return new be((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*d,r.x*d/this.R)},bounds:(function(){var r=Fe*Math.PI;return new I([-r,-r],[r,r])})()};function ks(r,d,p,_){if(T(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=d,this._c=p,this._d=_}ks.prototype={transform:function(r,d){return this._transform(r.clone(),d)},_transform:function(r,d){return d=d||1,r.x=d*(this._a*r.x+this._b),r.y=d*(this._c*r.y+this._d),r},untransform:function(r,d){return d=d||1,new J((r.x/d-this._b)/this._a,(r.y/d-this._d)/this._c)}};function Ts(r,d,p,_){return new ks(r,d,p,_)}var Jr=c({},it,{code:"EPSG:3857",projection:es,transformation:(function(){var r=.5/(Math.PI*es.R);return Ts(r,.5,-r,.5)})()}),yn=c({},Jr,{code:"EPSG:900913"});function eo(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function to(r,d){var p="",_,S,P,q,ie,ce;for(_=0,P=r.length;_<P;_++){for(ie=r[_],S=0,q=ie.length;S<q;S++)ce=ie[S],p+=(S?"L":"M")+ce.x+" "+ce.y;p+=d?Ee.svg?"z":"x":""}return p||"M0 0"}var Cl=document.documentElement.style,Ya="ActiveXObject"in window,kl=Ya&&!document.addEventListener,so="msLaunchUri"in navigator&&!("documentMode"in document),Xa=Es("webkit"),Su=Es("android"),Cu=Es("android 2")||Es("android 3"),ws=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Pf=Su&&Es("Google")&&ws<537&&!("AudioNode"in window),io=!!window.opera,Tl=!so&&Es("chrome"),Ka=Es("gecko")&&!Xa&&!io&&!Ya,Df=!Tl&&Es("safari"),El=Es("phantom"),ku="OTransition"in Cl,zf=navigator.platform.indexOf("Win")===0,Jn=Ya&&"transition"in Cl,cs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Cu,_i="MozPerspective"in Cl,_s=!window.L_DISABLE_3D&&(Jn||cs||_i)&&!ku&&!El,Wa=typeof orientation<"u"||Es("mobile"),Bf=Wa&&Xa,If=Wa&&cs,Qa=!window.PointerEvent&&window.MSPointerEvent,Ja=!!(window.PointerEvent||Qa),er="ontouchstart"in window||!!window.TouchEvent,bn=!window.L_NO_TOUCH&&(er||Ja),no=Wa&&io,tr=Wa&&Ka,Uf=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Tu=(function(){var r=!1;try{var d=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",w,d),window.removeEventListener("testPassiveEventSupport",w,d)}catch{}return r})(),Al=(function(){return!!document.createElement("canvas").getContext})(),wn=!!(document.createElementNS&&eo("svg").createSVGRect),Vf=!!wn&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Eu=!wn&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var d=r.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}})(),Au=navigator.platform.indexOf("Mac")===0,Lu=navigator.platform.indexOf("Linux")===0;function Es(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Ee={ie:Ya,ielt9:kl,edge:so,webkit:Xa,android:Su,android23:Cu,androidStock:Pf,opera:io,chrome:Tl,gecko:Ka,safari:Df,phantom:El,opera12:ku,win:zf,ie3d:Jn,webkit3d:cs,gecko3d:_i,any3d:_s,mobile:Wa,mobileWebkit:Bf,mobileWebkit3d:If,msPointer:Qa,pointer:Ja,touch:bn,touchNative:er,mobileOpera:no,mobileGecko:tr,retina:Uf,passiveEvents:Tu,canvas:Al,svg:wn,vml:Eu,inlineSvg:Vf,mac:Au,linux:Lu},Ll=Ee.msPointer?"MSPointerDown":"pointerdown",Ml=Ee.msPointer?"MSPointerMove":"pointermove",ji=Ee.msPointer?"MSPointerUp":"pointerup",Bt=Ee.msPointer?"MSPointerCancel":"pointercancel",ts={touchstart:Ll,touchmove:Ml,touchend:ji,touchcancel:Bt},_n={touchstart:ta,touchmove:$i,touchend:$i,touchcancel:$i},Gi={},Mu=!1;function Hf(r,d,p){return d==="touchstart"&&ea(),_n[d]?(p=_n[d].bind(this,p),r.addEventListener(ts[d],p,!1),p):(console.warn("wrong event specified:",d),w)}function Ru(r,d,p){if(!ts[d]){console.warn("wrong event specified:",d);return}r.removeEventListener(ts[d],p,!1)}function sr(r){Gi[r.pointerId]=r}function Rl(r){Gi[r.pointerId]&&(Gi[r.pointerId]=r)}function jn(r){delete Gi[r.pointerId]}function ea(){Mu||(document.addEventListener(Ll,sr,!0),document.addEventListener(Ml,Rl,!0),document.addEventListener(ji,jn,!0),document.addEventListener(Bt,jn,!0),Mu=!0)}function $i(r,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var p in Gi)d.touches.push(Gi[p]);d.changedTouches=[d],r(d)}}function ta(r,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&Et(d),$i(r,d)}function It(r){var d={},p,_;for(_ in r)p=r[_],d[_]=p&&p.bind?p.bind(r):p;return r=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var Ou=200;function Pu(r,d){r.addEventListener("dblclick",d);var p=0,_;function S(P){if(P.detail!==1){_=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var q=cr(P);if(!(q.some(function(ce){return ce instanceof HTMLLabelElement&&ce.attributes.for})&&!q.some(function(ce){return ce instanceof HTMLInputElement||ce instanceof HTMLSelectElement}))){var ie=Date.now();ie-p<=Ou?(_++,_===2&&d(It(P))):_=1,p=ie}}}return r.addEventListener("click",S),{dblclick:d,simDblclick:S}}function Nn(r,d){r.removeEventListener("dblclick",d.dblclick),r.removeEventListener("click",d.simDblclick)}var Yi=ar(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ir=ar(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ol=ir==="webkitTransition"||ir==="OTransition"?ir+"End":"transitionend";function Pl(r){return typeof r=="string"?document.getElementById(r):r}function nr(r,d){var p=r.style[d]||r.currentStyle&&r.currentStyle[d];if((!p||p==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(r,null);p=_?_[d]:null}return p==="auto"?null:p}function Xe(r,d,p){var _=document.createElement(r);return _.className=d||"",p&&p.appendChild(_),_}function mt(r){var d=r.parentNode;d&&d.removeChild(r)}function As(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Yt(r){var d=r.parentNode;d&&d.lastChild!==r&&d.appendChild(r)}function Sn(r){var d=r.parentNode;d&&d.firstChild!==r&&d.insertBefore(r,d.firstChild)}function Dl(r,d){if(r.classList!==void 0)return r.classList.contains(d);var p=ao(r);return p.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(p)}function De(r,d){if(r.classList!==void 0)for(var p=A(d),_=0,S=p.length;_<S;_++)r.classList.add(p[_]);else if(!Dl(r,d)){var P=ao(r);sa(r,(P?P+" ":"")+d)}}function jt(r,d){r.classList!==void 0?r.classList.remove(d):sa(r,E((" "+ao(r)+" ").replace(" "+d+" "," ")))}function sa(r,d){r.className.baseVal===void 0?r.className=d:r.className.baseVal=d}function ao(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function wt(r,d){"opacity"in r.style?r.style.opacity=d:"filter"in r.style&&zl(r,d)}function zl(r,d){var p=!1,_="DXImageTransform.Microsoft.Alpha";try{p=r.filters.item(_)}catch{if(d===1)return}d=Math.round(d*100),p?(p.Enabled=d!==100,p.Opacity=d):r.style.filter+=" progid:"+_+"(opacity="+d+")"}function ar(r){for(var d=document.documentElement.style,p=0;p<r.length;p++)if(r[p]in d)return r[p];return!1}function Ni(r,d,p){var _=d||new J(0,0);r.style[Yi]=(Ee.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(p?" scale("+p+")":"")}function yt(r,d){r._leaflet_pos=d,Ee.any3d?Ni(r,d):(r.style.left=d.x+"px",r.style.top=d.y+"px")}function Xi(r){return r._leaflet_pos||new J(0,0)}var ia,ai,Bl;if("onselectstart"in document)ia=function(){Re(window,"selectstart",Et)},ai=function(){ut(window,"selectstart",Et)};else{var na=ar(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ia=function(){if(na){var r=document.documentElement.style;Bl=r[na],r[na]="none"}},ai=function(){na&&(document.documentElement.style[na]=Bl,Bl=void 0)}}function ro(){Re(window,"dragstart",Et)}function rr(){ut(window,"dragstart",Et)}var oo,Il;function aa(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Ls(),oo=r,Il=r.style.outlineStyle,r.style.outlineStyle="none",Re(window,"keydown",Ls))}function Ls(){oo&&(oo.style.outlineStyle=Il,oo=void 0,Il=void 0,ut(window,"keydown",Ls))}function lo(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function or(r){var d=r.getBoundingClientRect();return{x:d.width/r.offsetWidth||1,y:d.height/r.offsetHeight||1,boundingClientRect:d}}var ra={__proto__:null,TRANSFORM:Yi,TRANSITION:ir,TRANSITION_END:Ol,get:Pl,getStyle:nr,create:Xe,remove:mt,empty:As,toFront:Yt,toBack:Sn,hasClass:Dl,addClass:De,removeClass:jt,setClass:sa,getClass:ao,setOpacity:wt,testProp:ar,setTransform:Ni,setPosition:yt,getPosition:Xi,get disableTextSelection(){return ia},get enableTextSelection(){return ai},disableImageDrag:ro,enableImageDrag:rr,preventOutline:aa,restoreOutline:Ls,getSizedParentNode:lo,getScale:or};function Re(r,d,p,_){if(d&&typeof d=="object")for(var S in d)Ys(r,S,d[S],p);else{d=A(d);for(var P=0,q=d.length;P<q;P++)Ys(r,d[P],p,_)}return this}var $s="_leaflet_events";function ut(r,d,p,_){if(arguments.length===1)Ul(r),delete r[$s];else if(d&&typeof d=="object")for(var S in d)lr(r,S,d[S],p);else if(d=A(d),arguments.length===2)Ul(r,function(ie){return D(d,ie)!==-1});else for(var P=0,q=d.length;P<q;P++)lr(r,d[P],p,_);return this}function Ul(r,d){for(var p in r[$s]){var _=p.split(/\d/)[0];(!d||d(_))&&lr(r,_,null,null,p)}}var Cn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ys(r,d,p,_){var S=d+x(p)+(_?"_"+x(_):"");if(r[$s]&&r[$s][S])return this;var P=function(ie){return p.call(_||r,ie||window.event)},q=P;!Ee.touchNative&&Ee.pointer&&d.indexOf("touch")===0?P=Hf(r,d,P):Ee.touch&&d==="dblclick"?P=Pu(r,P):"addEventListener"in r?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?r.addEventListener(Cn[d]||d,P,Ee.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(P=function(ie){ie=ie||window.event,Si(r,ie)&&q(ie)},r.addEventListener(Cn[d],P,!1)):r.addEventListener(d,q,!1):r.attachEvent("on"+d,P),r[$s]=r[$s]||{},r[$s][S]=P}function lr(r,d,p,_,S){S=S||d+x(p)+(_?"_"+x(_):"");var P=r[$s]&&r[$s][S];if(!P)return this;!Ee.touchNative&&Ee.pointer&&d.indexOf("touch")===0?Ru(r,d,P):Ee.touch&&d==="dblclick"?Nn(r,P):"removeEventListener"in r?r.removeEventListener(Cn[d]||d,P,!1):r.detachEvent("on"+d,P),r[$s][S]=null}function Xs(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function ri(r){return Ys(r,"wheel",Xs),this}function kn(r){return Re(r,"mousedown touchstart dblclick contextmenu",Xs),r._leaflet_disable_click=!0,this}function Et(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Ki(r){return Et(r),Xs(r),this}function cr(r){if(r.composedPath)return r.composedPath();for(var d=[],p=r.target;p;)d.push(p),p=p.parentNode;return d}function ur(r,d){if(!d)return new J(r.clientX,r.clientY);var p=or(d),_=p.boundingClientRect;return new J((r.clientX-_.left)/p.x-d.clientLeft,(r.clientY-_.top)/p.y-d.clientTop)}var Du=Ee.linux&&Ee.chrome?window.devicePixelRatio:Ee.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function us(r){return Ee.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Du:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Si(r,d){var p=d.relatedTarget;if(!p)return!0;try{for(;p&&p!==r;)p=p.parentNode}catch{return!1}return p!==r}var co={__proto__:null,on:Re,off:ut,stopPropagation:Xs,disableScrollPropagation:ri,disableClickPropagation:kn,preventDefault:Et,stop:Ki,getPropagationPath:cr,getMousePosition:ur,getWheelDelta:us,isExternalTarget:Si,addListener:Re,removeListener:ut},oa=ne.extend({run:function(r,d,p,_){this.stop(),this._el=r,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Xi(r),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Y(this._animate,this),this._step()},_step:function(r){var d=+new Date-this._startTime,p=this._duration*1e3;d<p?this._runFrame(this._easeOut(d/p),r):(this._runFrame(1),this._complete())},_runFrame:function(r,d){var p=this._startPos.add(this._offset.multiplyBy(r));d&&p._round(),yt(this._el,p),this.fire("step")},_complete:function(){K(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),et=ne.extend({options:{crs:Jr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,d){d=k(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(we(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ir&&Ee.any3d&&!Ee.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Re(this._proxy,Ol,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,d,p){if(d=d===void 0?this._zoom:this._limitZoom(d),r=this._limitCenter(we(r),d,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=c({animate:p.animate},p.zoom),p.pan=c({animate:p.animate,duration:p.duration},p.pan));var _=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,d,p.zoom):this._tryAnimatedPan(r,p.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(r,d,p.pan&&p.pan.noMoveStart),this},setZoom:function(r,d){return this._loaded?this.setView(this.getCenter(),r,{zoom:d}):(this._zoom=r,this)},zoomIn:function(r,d){return r=r||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,d)},zoomOut:function(r,d){return r=r||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,d)},setZoomAround:function(r,d,p){var _=this.getZoomScale(d),S=this.getSize().divideBy(2),P=r instanceof J?r:this.latLngToContainerPoint(r),q=P.subtract(S).multiplyBy(1-1/_),ie=this.containerPointToLatLng(S.add(q));return this.setView(ie,d,{zoom:p})},_getBoundsCenterZoom:function(r,d){d=d||{},r=r.getBounds?r.getBounds():fe(r);var p=te(d.paddingTopLeft||d.padding||[0,0]),_=te(d.paddingBottomRight||d.padding||[0,0]),S=this.getBoundsZoom(r,!1,p.add(_));if(S=typeof d.maxZoom=="number"?Math.min(d.maxZoom,S):S,S===1/0)return{center:r.getCenter(),zoom:S};var P=_.subtract(p).divideBy(2),q=this.project(r.getSouthWest(),S),ie=this.project(r.getNorthEast(),S),ce=this.unproject(q.add(ie).divideBy(2).add(P),S);return{center:ce,zoom:S}},fitBounds:function(r,d){if(r=fe(r),!r.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(r,d);return this.setView(p.center,p.zoom,d)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,d){return this.setView(r,this._zoom,{pan:d})},panBy:function(r,d){if(r=te(r).round(),d=d||{},!r.x&&!r.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new oa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){De(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,p,d.duration||.25,d.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,d,p){if(p=p||{},p.animate===!1||!Ee.any3d)return this.setView(r,d,p);this._stop();var _=this.project(this.getCenter()),S=this.project(r),P=this.getSize(),q=this._zoom;r=we(r),d=d===void 0?q:d;var ie=Math.max(P.x,P.y),ce=ie*this.getZoomScale(q,d),xe=S.distanceTo(_)||1,je=1.42,Ae=je*je;function Ve(kt){var Ei=kt?-1:1,Ln=kt?ce:ie,tc=ce*ce-ie*ie+Ei*Ae*Ae*xe*xe,Cr=2*Ln*Ae*xe,kr=tc/Cr,rn=Math.sqrt(kr*kr+1)-kr,Ai=rn<1e-9?-18:Math.log(rn);return Ai}function Xt(kt){return(Math.exp(kt)-Math.exp(-kt))/2}function At(kt){return(Math.exp(kt)+Math.exp(-kt))/2}function Ns(kt){return Xt(kt)/At(kt)}var nt=Ve(0);function at(kt){return ie*(At(nt)/At(nt+je*kt))}function Ke(kt){return ie*(At(nt)*Ns(nt+je*kt)-Xt(nt))/Ae}function nn(kt){return 1-Math.pow(1-kt,1.5)}var Ps=Date.now(),No=(Ve(1)-nt)/je,an=p.duration?1e3*p.duration:1e3*No*.8;function ec(){var kt=(Date.now()-Ps)/an,Ei=nn(kt)*No;kt<=1?(this._flyToFrame=Y(ec,this),this._move(this.unproject(_.add(S.subtract(_).multiplyBy(Ke(Ei)/xe)),q),this.getScaleZoom(ie/at(Ei),q),{flyTo:!0})):this._move(r,d)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),ec.call(this),this},flyToBounds:function(r,d){var p=this._getBoundsCenterZoom(r,d);return this.flyTo(p.center,p.zoom,d)},setMaxBounds:function(r){return r=fe(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var d=this.options.minZoom;return this.options.minZoom=r,this._loaded&&d!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var d=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&d!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,d){this._enforcingBounds=!0;var p=this.getCenter(),_=this._limitCenter(p,this._zoom,fe(r));return p.equals(_)||this.panTo(_,d),this._enforcingBounds=!1,this},panInside:function(r,d){d=d||{};var p=te(d.paddingTopLeft||d.padding||[0,0]),_=te(d.paddingBottomRight||d.padding||[0,0]),S=this.project(this.getCenter()),P=this.project(r),q=this.getPixelBounds(),ie=$([q.min.add(p),q.max.subtract(_)]),ce=ie.getSize();if(!ie.contains(P)){this._enforcingBounds=!0;var xe=P.subtract(ie.getCenter()),je=ie.extend(P).getSize().subtract(ce);S.x+=xe.x<0?-je.x:je.x,S.y+=xe.y<0?-je.y:je.y,this.panTo(this.unproject(S),d),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=c({animate:!1,pan:!0},r===!0?{animate:!0}:r);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),_=d.divideBy(2).round(),S=p.divideBy(2).round(),P=_.subtract(S);return!P.x&&!P.y?this:(r.animate&&r.pan?this.panBy(P):(r.pan&&this._rawPanBy(P),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=c({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=f(this._handleGeolocationResponse,this),p=f(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,p,r):navigator.geolocation.getCurrentPosition(d,p,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var d=r.code,p=r.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var d=r.coords.latitude,p=r.coords.longitude,_=new be(d,p),S=_.toBounds(r.coords.accuracy*2),P=this._locateOptions;if(P.setView){var q=this.getBoundsZoom(S);this.setView(_,P.maxZoom?Math.min(q,P.maxZoom):q)}var ie={latlng:_,bounds:S,timestamp:r.timestamp};for(var ce in r.coords)typeof r.coords[ce]=="number"&&(ie[ce]=r.coords[ce]);this.fire("locationfound",ie)}},addHandler:function(r,d){if(!d)return this;var p=this[r]=new d(this);return this._handlers.push(p),this.options[r]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),mt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(K(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)mt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,d){var p="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),_=Xe("div",p,d||this._mapPane);return r&&(this._panes[r]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),d=this.unproject(r.getBottomLeft()),p=this.unproject(r.getTopRight());return new W(d,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,d,p){r=fe(r),p=te(p||[0,0]);var _=this.getZoom()||0,S=this.getMinZoom(),P=this.getMaxZoom(),q=r.getNorthWest(),ie=r.getSouthEast(),ce=this.getSize().subtract(p),xe=$(this.project(ie,_),this.project(q,_)).getSize(),je=Ee.any3d?this.options.zoomSnap:1,Ae=ce.x/xe.x,Ve=ce.y/xe.y,Xt=d?Math.max(Ae,Ve):Math.min(Ae,Ve);return _=this.getScaleZoom(Xt,_),je&&(_=Math.round(_/(je/100))*(je/100),_=d?Math.ceil(_/je)*je:Math.floor(_/je)*je),Math.max(S,Math.min(P,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new J(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,d){var p=this._getTopLeftPoint(r,d);return new I(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,d){var p=this.options.crs;return d=d===void 0?this._zoom:d,p.scale(r)/p.scale(d)},getScaleZoom:function(r,d){var p=this.options.crs;d=d===void 0?this._zoom:d;var _=p.zoom(r*p.scale(d));return isNaN(_)?1/0:_},project:function(r,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(we(r),d)},unproject:function(r,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(te(r),d)},layerPointToLatLng:function(r){var d=te(r).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(r){var d=this.project(we(r))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(we(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(fe(r))},distance:function(r,d){return this.options.crs.distance(we(r),we(d))},containerPointToLayerPoint:function(r){return te(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return te(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var d=this.containerPointToLayerPoint(te(r));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(we(r)))},mouseEventToContainerPoint:function(r){return ur(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var d=this._container=Pl(r);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Re(d,"scroll",this._onScroll,this),this._containerId=x(d)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ee.any3d,De(r,"leaflet-container"+(Ee.touch?" leaflet-touch":"")+(Ee.retina?" leaflet-retina":"")+(Ee.ielt9?" leaflet-oldie":"")+(Ee.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=nr(r,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),yt(this._mapPane,new J(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(De(r.markerPane,"leaflet-zoom-hide"),De(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,d,p){yt(this._mapPane,new J(0,0));var _=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var S=this._zoom!==d;this._moveStart(S,p)._move(r,d)._moveEnd(S),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(r,d){return r&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(r,d,p,_){d===void 0&&(d=this._zoom);var S=this._zoom!==d;return this._zoom=d,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),_?p&&p.pinch&&this.fire("zoom",p):((S||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return K(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){yt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[x(this._container)]=this;var d=r?ut:Re;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),Ee.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){K(this._resizeRequest),this._resizeRequest=Y(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,d){for(var p=[],_,S=d==="mouseout"||d==="mouseover",P=r.target||r.srcElement,q=!1;P;){if(_=this._targets[x(P)],_&&(d==="click"||d==="preclick")&&this._draggableMoved(_)){q=!0;break}if(_&&_.listens(d,!0)&&(S&&!Si(P,r)||(p.push(_),S))||P===this._container)break;P=P.parentNode}return!p.length&&!q&&!S&&this.listens(d,!0)&&(p=[this]),p},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var d=r.target||r.srcElement;if(!(!this._loaded||d._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(d))){var p=r.type;p==="mousedown"&&aa(d),this._fireDOMEvent(r,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,d,p){if(r.type==="click"){var _=c({},r);_.type="preclick",this._fireDOMEvent(_,_.type,p)}var S=this._findEventTargets(r,d);if(p){for(var P=[],q=0;q<p.length;q++)p[q].listens(d,!0)&&P.push(p[q]);S=P.concat(S)}if(S.length){d==="contextmenu"&&Et(r);var ie=S[0],ce={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var xe=ie.getLatLng&&(!ie._radius||ie._radius<=10);ce.containerPoint=xe?this.latLngToContainerPoint(ie.getLatLng()):this.mouseEventToContainerPoint(r),ce.layerPoint=this.containerPointToLayerPoint(ce.containerPoint),ce.latlng=xe?ie.getLatLng():this.layerPointToLatLng(ce.layerPoint)}for(q=0;q<S.length;q++)if(S[q].fire(d,ce,!0),ce.originalEvent._stopped||S[q].options.bubblingMouseEvents===!1&&D(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,d=this._handlers.length;r<d;r++)this._handlers[r].disable()},whenReady:function(r,d){return this._loaded?r.call(d||this,{target:this}):this.on("load",r,d),this},_getMapPanePos:function(){return Xi(this._mapPane)||new J(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,d){var p=r&&d!==void 0?this._getNewPixelOrigin(r,d):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,d){var p=this.getSize()._divideBy(2);return this.project(r,d)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,d,p){var _=this._getNewPixelOrigin(p,d);return this.project(r,d)._subtract(_)},_latLngBoundsToNewLayerBounds:function(r,d,p){var _=this._getNewPixelOrigin(p,d);return $([this.project(r.getSouthWest(),d)._subtract(_),this.project(r.getNorthWest(),d)._subtract(_),this.project(r.getSouthEast(),d)._subtract(_),this.project(r.getNorthEast(),d)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,d,p){if(!p)return r;var _=this.project(r,d),S=this.getSize().divideBy(2),P=new I(_.subtract(S),_.add(S)),q=this._getBoundsOffset(P,p,d);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?r:this.unproject(_.add(q),d)},_limitOffset:function(r,d){if(!d)return r;var p=this.getPixelBounds(),_=new I(p.min.add(r),p.max.add(r));return r.add(this._getBoundsOffset(_,d))},_getBoundsOffset:function(r,d,p){var _=$(this.project(d.getNorthEast(),p),this.project(d.getSouthWest(),p)),S=_.min.subtract(r.min),P=_.max.subtract(r.max),q=this._rebound(S.x,-P.x),ie=this._rebound(S.y,-P.y);return new J(q,ie)},_rebound:function(r,d){return r+d>0?Math.round(r-d)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(d))},_limitZoom:function(r){var d=this.getMinZoom(),p=this.getMaxZoom(),_=Ee.any3d?this.options.zoomSnap:1;return _&&(r=Math.round(r/_)*_),Math.max(d,Math.min(p,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){jt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,d){var p=this._getCenterOffset(r)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,d),!0)},_createAnimProxy:function(){var r=this._proxy=Xe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(d){var p=Yi,_=this._proxy.style[p];Ni(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),_===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){mt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),d=this.getZoom();Ni(this._proxy,this.project(r,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,d,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(d),S=this._getCenterOffset(r)._divideBy(1-1/_);return p.animate!==!0&&!this.getSize().contains(S)?!1:(Y(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(r,d,!0)},this),!0)},_animateZoom:function(r,d,p,_){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=d,De(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:d,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&jt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Vl(r,d){return new et(r,d)}var js=F.extend({options:{position:"topright"},initialize:function(r){k(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var d=this._map;return d&&d.removeControl(this),this.options.position=r,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var d=this._container=this.onAdd(r),p=this.getPosition(),_=r._controlCorners[p];return De(d,"leaflet-control"),p.indexOf("bottom")!==-1?_.insertBefore(d,_.firstChild):_.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(mt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Ci=function(r){return new js(r)};et.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},d="leaflet-",p=this._controlContainer=Xe("div",d+"control-container",this._container);function _(S,P){var q=d+S+" "+d+P;r[S+P]=Xe("div",q,p)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)mt(this._controlCorners[r]);mt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var dr=js.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,d,p,_){return p<_?-1:_<p?1:0}},initialize:function(r,d,p){k(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in r)this._addLayer(r[_],_);for(_ in d)this._addLayer(d[_],_,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return js.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,d){return this._addLayer(r,d),this._map?this._update():this},addOverlay:function(r,d){return this._addLayer(r,d,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var d=this._getLayer(x(r));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){De(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(De(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):jt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return jt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",d=this._container=Xe("div",r),p=this.options.collapsed;d.setAttribute("aria-haspopup",!0),kn(d),ri(d);var _=this._section=Xe("section",r+"-list");p&&(this._map.on("click",this.collapse,this),Re(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=Xe("a",r+"-toggle",d);S.href="#",S.title="Layers",S.setAttribute("role","button"),Re(S,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){Et(P),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Xe("div",r+"-base",_),this._separator=Xe("div",r+"-separator",_),this._overlaysList=Xe("div",r+"-overlays",_),d.appendChild(_)},_getLayer:function(r){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&x(this._layers[d].layer)===r)return this._layers[d]},_addLayer:function(r,d,p){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:d,overlay:p}),this.options.sortLayers&&this._layers.sort(f(function(_,S){return this.options.sortFunction(_.layer,S.layer,_.name,S.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;As(this._baseLayersList),As(this._overlaysList),this._layerControlInputs=[];var r,d,p,_,S=0;for(p=0;p<this._layers.length;p++)_=this._layers[p],this._addItem(_),d=d||_.overlay,r=r||!_.overlay,S+=_.overlay?0:1;return this.options.hideSingleBase&&(r=r&&S>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=d&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var d=this._getLayer(x(r.target)),p=d.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;p&&this._map.fire(p,d)},_createRadioElement:function(r,d){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(d?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=p,_.firstChild},_addItem:function(r){var d=document.createElement("label"),p=this._map.hasLayer(r.layer),_;r.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=p):_=this._createRadioElement("leaflet-base-layers_"+x(this),p),this._layerControlInputs.push(_),_.layerId=x(r.layer),Re(_,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+r.name;var P=document.createElement("span");d.appendChild(P),P.appendChild(_),P.appendChild(S);var q=r.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,d,p,_=[],S=[];this._handlingClick=!0;for(var P=r.length-1;P>=0;P--)d=r[P],p=this._getLayer(d.layerId).layer,d.checked?_.push(p):d.checked||S.push(p);for(P=0;P<S.length;P++)this._map.hasLayer(S[P])&&this._map.removeLayer(S[P]);for(P=0;P<_.length;P++)this._map.hasLayer(_[P])||this._map.addLayer(_[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,d,p,_=this._map.getZoom(),S=r.length-1;S>=0;S--)d=r[S],p=this._getLayer(d.layerId).layer,d.disabled=p.options.minZoom!==void 0&&_<p.options.minZoom||p.options.maxZoom!==void 0&&_>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Re(r,"click",Et),this.expand();var d=this;setTimeout(function(){ut(r,"click",Et),d._preventClick=!1})}}),zu=function(r,d,p){return new dr(r,d,p)},Hl=js.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var d="leaflet-control-zoom",p=Xe("div",d+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,d+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,d+"-out",p,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,d,p,_,S){var P=Xe("a",p,_);return P.innerHTML=r,P.href="#",P.title=d,P.setAttribute("role","button"),P.setAttribute("aria-label",d),kn(P),Re(P,"click",Ki),Re(P,"click",S,this),Re(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var r=this._map,d="leaflet-disabled";jt(this._zoomInButton,d),jt(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(De(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(De(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});et.mergeOptions({zoomControl:!0}),et.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Hl,this.addControl(this.zoomControl))});var Ff=function(r){return new Hl(r)},Bu=js.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var d="leaflet-control-scale",p=Xe("div",d),_=this.options;return this._addScales(_,d+"-line",p),r.on(_.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),p},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,d,p){r.metric&&(this._mScale=Xe("div",d,p)),r.imperial&&(this._iScale=Xe("div",d,p))},_update:function(){var r=this._map,d=r.getSize().y/2,p=r.distance(r.containerPointToLatLng([0,d]),r.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(p)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var d=this._getRoundNum(r),p=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,p,d/r)},_updateImperial:function(r){var d=r*3.2808399,p,_,S;d>5280?(p=d/5280,_=this._getRoundNum(p),this._updateScale(this._iScale,_+" mi",_/p)):(S=this._getRoundNum(d),this._updateScale(this._iScale,S+" ft",S/d))},_updateScale:function(r,d,p){r.style.width=Math.round(this.options.maxWidth*p)+"px",r.innerHTML=d},_getRoundNum:function(r){var d=Math.pow(10,(Math.floor(r)+"").length-1),p=r/d;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,d*p}}),Fl=function(r){return new Bu(r)},Zf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Zl=js.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ee.inlineSvg?Zf+" ":"")+"Leaflet</a>"},initialize:function(r){k(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Xe("div","leaflet-control-attribution"),kn(this._container);for(var d in r._layers)r._layers[d].getAttribution&&this.addAttribution(r._layers[d].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var d in this._attributions)this._attributions[d]&&r.push(d);var p=[];this.options.prefix&&p.push(this.options.prefix),r.length&&p.push(r.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});et.mergeOptions({attributionControl:!0}),et.addInitHook(function(){this.options.attributionControl&&new Zl().addTo(this)});var qf=function(r){return new Zl(r)};js.Layers=dr,js.Zoom=Hl,js.Scale=Bu,js.Attribution=Zl,Ci.layers=zu,Ci.zoom=Ff,Ci.scale=Fl,Ci.attribution=qf;var oi=F.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});oi.addTo=function(r,d){return r.addHandler(d,this),this};var Gf={Events:U},ql=Ee.touch?"touchstart mousedown":"mousedown",Wi=ne.extend({options:{clickTolerance:3},initialize:function(r,d,p,_){k(this,_),this._element=r,this._dragStartTarget=d||r,this._preventOutline=p},enable:function(){this._enabled||(Re(this._dragStartTarget,ql,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Wi._dragging===this&&this.finishDrag(!0),ut(this._dragStartTarget,ql,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Dl(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Wi._dragging===this&&this.finishDrag();return}if(!(Wi._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Wi._dragging=this,this._preventOutline&&aa(this._element),ro(),ia(),!this._moving)){this.fire("down");var d=r.touches?r.touches[0]:r,p=lo(this._element);this._startPoint=new J(d.clientX,d.clientY),this._startPos=Xi(this._element),this._parentScale=or(p);var _=r.type==="mousedown";Re(document,_?"mousemove":"touchmove",this._onMove,this),Re(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var d=r.touches&&r.touches.length===1?r.touches[0]:r,p=new J(d.clientX,d.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Et(r),this._moved||(this.fire("dragstart"),this._moved=!0,De(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),De(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),yt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){jt(document.body,"leaflet-dragging"),this._lastTarget&&(jt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ut(document,"mousemove touchmove",this._onMove,this),ut(document,"mouseup touchend touchcancel",this._onUp,this),rr(),ai();var d=this._moved&&this._moving;this._moving=!1,Wi._dragging=!1,d&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Iu(r,d,p){var _,S=[1,4,2,8],P,q,ie,ce,xe,je,Ae,Ve;for(P=0,je=r.length;P<je;P++)r[P]._code=Tn(r[P],d);for(ie=0;ie<4;ie++){for(Ae=S[ie],_=[],P=0,je=r.length,q=je-1;P<je;q=P++)ce=r[P],xe=r[q],ce._code&Ae?xe._code&Ae||(Ve=uo(xe,ce,Ae,d,p),Ve._code=Tn(Ve,d),_.push(Ve)):(xe._code&Ae&&(Ve=uo(xe,ce,Ae,d,p),Ve._code=Tn(Ve,d),_.push(Ve)),_.push(ce));r=_}return r}function Uu(r,d){var p,_,S,P,q,ie,ce,xe,je;if(!r||r.length===0)throw new Error("latlngs not passed");Ms(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Ae=we([0,0]),Ve=fe(r),Xt=Ve.getNorthWest().distanceTo(Ve.getSouthWest())*Ve.getNorthEast().distanceTo(Ve.getNorthWest());Xt<1700&&(Ae=Gl(r));var At=r.length,Ns=[];for(p=0;p<At;p++){var nt=we(r[p]);Ns.push(d.project(we([nt.lat-Ae.lat,nt.lng-Ae.lng])))}for(ie=ce=xe=0,p=0,_=At-1;p<At;_=p++)S=Ns[p],P=Ns[_],q=S.y*P.x-P.y*S.x,ce+=(S.x+P.x)*q,xe+=(S.y+P.y)*q,ie+=q*3;ie===0?je=Ns[0]:je=[ce/ie,xe/ie];var at=d.unproject(te(je));return we([at.lat+Ae.lat,at.lng+Ae.lng])}function Gl(r){for(var d=0,p=0,_=0,S=0;S<r.length;S++){var P=we(r[S]);d+=P.lat,p+=P.lng,_++}return we([d/_,p/_])}var $l={__proto__:null,clipPolygon:Iu,polygonCenter:Uu,centroid:Gl};function Vu(r,d){if(!d||!r.length)return r.slice();var p=d*d;return r=Yf(r,p),r=Fu(r,p),r}function Hu(r,d,p){return Math.sqrt(hr(r,d,p,!0))}function $f(r,d,p){return hr(r,d,p)}function Fu(r,d){var p=r.length,_=typeof Uint8Array<"u"?Uint8Array:Array,S=new _(p);S[0]=S[p-1]=1,Yl(r,S,d,0,p-1);var P,q=[];for(P=0;P<p;P++)S[P]&&q.push(r[P]);return q}function Yl(r,d,p,_,S){var P=0,q,ie,ce;for(ie=_+1;ie<=S-1;ie++)ce=hr(r[ie],r[_],r[S],!0),ce>P&&(q=ie,P=ce);P>p&&(d[q]=1,Yl(r,d,p,_,q),Yl(r,d,p,q,S))}function Yf(r,d){for(var p=[r[0]],_=1,S=0,P=r.length;_<P;_++)Xf(r[_],r[S])>d&&(p.push(r[_]),S=_);return S<P-1&&p.push(r[P-1]),p}var Zu;function qu(r,d,p,_,S){var P=_?Zu:Tn(r,p),q=Tn(d,p),ie,ce,xe;for(Zu=q;;){if(!(P|q))return[r,d];if(P&q)return!1;ie=P||q,ce=uo(r,d,ie,p,S),xe=Tn(ce,p),ie===P?(r=ce,P=xe):(d=ce,q=xe)}}function uo(r,d,p,_,S){var P=d.x-r.x,q=d.y-r.y,ie=_.min,ce=_.max,xe,je;return p&8?(xe=r.x+P*(ce.y-r.y)/q,je=ce.y):p&4?(xe=r.x+P*(ie.y-r.y)/q,je=ie.y):p&2?(xe=ce.x,je=r.y+q*(ce.x-r.x)/P):p&1&&(xe=ie.x,je=r.y+q*(ie.x-r.x)/P),new J(xe,je,S)}function Tn(r,d){var p=0;return r.x<d.min.x?p|=1:r.x>d.max.x&&(p|=2),r.y<d.min.y?p|=4:r.y>d.max.y&&(p|=8),p}function Xf(r,d){var p=d.x-r.x,_=d.y-r.y;return p*p+_*_}function hr(r,d,p,_){var S=d.x,P=d.y,q=p.x-S,ie=p.y-P,ce=q*q+ie*ie,xe;return ce>0&&(xe=((r.x-S)*q+(r.y-P)*ie)/ce,xe>1?(S=p.x,P=p.y):xe>0&&(S+=q*xe,P+=ie*xe)),q=r.x-S,ie=r.y-P,_?q*q+ie*ie:new J(S,P)}function Ms(r){return!T(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function ho(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ms(r)}function la(r,d){var p,_,S,P,q,ie,ce,xe;if(!r||r.length===0)throw new Error("latlngs not passed");Ms(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var je=we([0,0]),Ae=fe(r),Ve=Ae.getNorthWest().distanceTo(Ae.getSouthWest())*Ae.getNorthEast().distanceTo(Ae.getNorthWest());Ve<1700&&(je=Gl(r));var Xt=r.length,At=[];for(p=0;p<Xt;p++){var Ns=we(r[p]);At.push(d.project(we([Ns.lat-je.lat,Ns.lng-je.lng])))}for(p=0,_=0;p<Xt-1;p++)_+=At[p].distanceTo(At[p+1])/2;if(_===0)xe=At[0];else for(p=0,P=0;p<Xt-1;p++)if(q=At[p],ie=At[p+1],S=q.distanceTo(ie),P+=S,P>_){ce=(P-_)/S,xe=[ie.x-ce*(ie.x-q.x),ie.y-ce*(ie.y-q.y)];break}var nt=d.unproject(te(xe));return we([nt.lat+je.lat,nt.lng+je.lng])}var Kf={__proto__:null,simplify:Vu,pointToSegmentDistance:Hu,closestPointOnSegment:$f,clipSegment:qu,_getEdgeIntersection:uo,_getBitCode:Tn,_sqClosestPointOnSegment:hr,isFlat:Ms,_flat:ho,polylineCenter:la},fo={project:function(r){return new J(r.lng,r.lat)},unproject:function(r){return new be(r.y,r.x)},bounds:new I([-180,-90],[180,90])},mo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new I([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var d=Math.PI/180,p=this.R,_=r.lat*d,S=this.R_MINOR/p,P=Math.sqrt(1-S*S),q=P*Math.sin(_),ie=Math.tan(Math.PI/4-_/2)/Math.pow((1-q)/(1+q),P/2);return _=-p*Math.log(Math.max(ie,1e-10)),new J(r.lng*d*p,_)},unproject:function(r){for(var d=180/Math.PI,p=this.R,_=this.R_MINOR/p,S=Math.sqrt(1-_*_),P=Math.exp(-r.y/p),q=Math.PI/2-2*Math.atan(P),ie=0,ce=.1,xe;ie<15&&Math.abs(ce)>1e-7;ie++)xe=S*Math.sin(q),xe=Math.pow((1-xe)/(1+xe),S/2),ce=Math.PI/2-2*Math.atan(P*xe)-q,q+=ce;return new be(q*d,r.x*d/p)}},Gu={__proto__:null,LonLat:fo,Mercator:mo,SphericalMercator:es},$u=c({},it,{code:"EPSG:3395",projection:mo,transformation:(function(){var r=.5/(Math.PI*mo.R);return Ts(r,.5,-r,.5)})()}),Xl=c({},it,{code:"EPSG:4326",projection:fo,transformation:Ts(1/180,1,-1/180,.5)}),ca=c({},Ne,{projection:fo,transformation:Ts(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,d){var p=d.lng-r.lng,_=d.lat-r.lat;return Math.sqrt(p*p+_*_)},infinite:!0});Ne.Earth=it,Ne.EPSG3395=$u,Ne.EPSG3857=Jr,Ne.EPSG900913=yn,Ne.EPSG4326=Xl,Ne.Simple=ca;var Ks=ne.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[x(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[x(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var d=r.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var p=this.getEvents();d.on(p,this),this.once("remove",function(){d.off(p,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});et.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var d=x(r);return this._layers[d]?this:(this._layers[d]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var d=x(r);return this._layers[d]?(this._loaded&&r.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return x(r)in this._layers},eachLayer:function(r,d){for(var p in this._layers)r.call(d,this._layers[p]);return this},_addLayers:function(r){r=r?T(r)?r:[r]:[];for(var d=0,p=r.length;d<p;d++)this.addLayer(r[d])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[x(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var d=x(r);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,d=-1/0,p=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var S=this._zoomBoundLayers[_].options;r=S.minZoom===void 0?r:Math.min(r,S.minZoom),d=S.maxZoom===void 0?d:Math.max(d,S.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=r===1/0?void 0:r,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ua=Ks.extend({initialize:function(r,d){k(this,d),this._layers={};var p,_;if(r)for(p=0,_=r.length;p<_;p++)this.addLayer(r[p])},addLayer:function(r){var d=this.getLayerId(r);return this._layers[d]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var d=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(r){var d=typeof r=="number"?r:this.getLayerId(r);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var d=Array.prototype.slice.call(arguments,1),p,_;for(p in this._layers)_=this._layers[p],_[r]&&_[r].apply(_,d);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,d){for(var p in this._layers)r.call(d,this._layers[p]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return x(r)}}),Wf=function(r,d){return new ua(r,d)},li=ua.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),ua.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),ua.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new W;for(var d in this._layers){var p=this._layers[d];r.extend(p.getBounds?p.getBounds():p.getLatLng())}return r}}),Yu=function(r,d){return new li(r,d)},ci=F.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){k(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,d){var p=this._getIconUrl(r);if(!p){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(p,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(_,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(r,d){var p=this.options,_=p[d+"Size"];typeof _=="number"&&(_=[_,_]);var S=te(_),P=te(d==="shadow"&&p.shadowAnchor||p.iconAnchor||S&&S.divideBy(2,!0));r.className="leaflet-marker-"+d+" "+(p.className||""),P&&(r.style.marginLeft=-P.x+"px",r.style.marginTop=-P.y+"px"),S&&(r.style.width=S.x+"px",r.style.height=S.y+"px")},_createImg:function(r,d){return d=d||document.createElement("img"),d.src=r,d},_getIconUrl:function(r){return Ee.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function fr(r){return new ci(r)}var mr=ci.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof mr.imagePath!="string"&&(mr.imagePath=this._detectIconPath()),(this.options.imagePath||mr.imagePath)+ci.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var d=function(p,_,S){var P=_.exec(p);return P&&P[S]};return r=d(r,/^url\((['"])?(.+)\1\)$/,2),r&&d(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Xe("div","leaflet-default-icon-path",document.body),d=nr(r,"background-image")||nr(r,"backgroundImage");if(document.body.removeChild(r),d=this._stripUrl(d),d)return d;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),pr=oi.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Wi(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),De(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&jt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var d=this._marker,p=d._map,_=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,P=Xi(d._icon),q=p.getPixelBounds(),ie=p.getPixelOrigin(),ce=$(q.min._subtract(ie).add(S),q.max._subtract(ie).subtract(S));if(!ce.contains(P)){var xe=te((Math.max(ce.max.x,P.x)-ce.max.x)/(q.max.x-ce.max.x)-(Math.min(ce.min.x,P.x)-ce.min.x)/(q.min.x-ce.min.x),(Math.max(ce.max.y,P.y)-ce.max.y)/(q.max.y-ce.max.y)-(Math.min(ce.min.y,P.y)-ce.min.y)/(q.min.y-ce.min.y)).multiplyBy(_);p.panBy(xe,{animate:!1}),this._draggable._newPos._add(xe),this._draggable._startPos._add(xe),yt(d._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=Y(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(K(this._panRequest),this._panRequest=Y(this._adjustPan.bind(this,r)))},_onDrag:function(r){var d=this._marker,p=d._shadow,_=Xi(d._icon),S=d._map.layerPointToLatLng(_);p&&yt(p,_),d._latlng=S,r.latlng=S,r.oldLatLng=this._oldLatLng,d.fire("move",r).fire("drag",r)},_onDragEnd:function(r){K(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),xr=Ks.extend({options:{icon:new mr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,d){k(this,d),this._latlng=we(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var d=this._latlng;return this._latlng=we(r),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=r.icon.createIcon(this._icon),_=!1;p!==this._icon&&(this._icon&&this._removeIcon(),_=!0,r.title&&(p.title=r.title),p.tagName==="IMG"&&(p.alt=r.alt||"")),De(p,d),r.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Re(p,"focus",this._panOnFocus,this);var S=r.icon.createShadow(this._shadow),P=!1;S!==this._shadow&&(this._removeShadow(),P=!0),S&&(De(S,d),S.alt=""),this._shadow=S,r.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&P&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ut(this._icon,"focus",this._panOnFocus,this),mt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&mt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&yt(this._icon,r),this._shadow&&yt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var d=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(De(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pr)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pr(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&wt(this._icon,r),this._shadow&&wt(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var d=this.options.icon.options,p=d.iconSize?te(d.iconSize):te(0,0),_=d.iconAnchor?te(d.iconAnchor):te(0,0);r.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:p.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Xu(r,d){return new xr(r,d)}var ui=Ks.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return k(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),da=ui.extend({options:{fill:!0,radius:10},initialize:function(r,d){k(this,d),this._latlng=we(r),this._radius=this.options.radius},setLatLng:function(r){var d=this._latlng;return this._latlng=we(r),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var d=r&&r.radius||this._radius;return ui.prototype.setStyle.call(this,r),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,d=this._radiusY||r,p=this._clickTolerance(),_=[r+p,d+p];this._pxBounds=new I(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ku(r,d){return new da(r,d)}var po=da.extend({initialize:function(r,d,p){if(typeof d=="number"&&(d=c({},p,{radius:d})),k(this,d),this._latlng=we(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new W(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:ui.prototype.setStyle,_project:function(){var r=this._latlng.lng,d=this._latlng.lat,p=this._map,_=p.options.crs;if(_.distance===it.distance){var S=Math.PI/180,P=this._mRadius/it.R/S,q=p.project([d+P,r]),ie=p.project([d-P,r]),ce=q.add(ie).divideBy(2),xe=p.unproject(ce).lat,je=Math.acos((Math.cos(P*S)-Math.sin(d*S)*Math.sin(xe*S))/(Math.cos(d*S)*Math.cos(xe*S)))/S;(isNaN(je)||je===0)&&(je=P/Math.cos(Math.PI/180*d)),this._point=ce.subtract(p.getPixelOrigin()),this._radius=isNaN(je)?0:ce.x-p.project([xe,r-je]).x,this._radiusY=ce.y-q.y}else{var Ae=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Ae).x}this._updateBounds()}});function Wu(r,d,p){return new po(r,d,p)}var ki=ui.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,d){k(this,d),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var d=1/0,p=null,_=hr,S,P,q=0,ie=this._parts.length;q<ie;q++)for(var ce=this._parts[q],xe=1,je=ce.length;xe<je;xe++){S=ce[xe-1],P=ce[xe];var Ae=_(r,S,P,!0);Ae<d&&(d=Ae,p=_(r,S,P))}return p&&(p.distance=Math.sqrt(d)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return la(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,d){return d=d||this._defaultShape(),r=we(r),d.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new W,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Ms(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var d=[],p=Ms(r),_=0,S=r.length;_<S;_++)p?(d[_]=we(r[_]),this._bounds.extend(d[_])):d[_]=this._convertLatLngs(r[_]);return d},_project:function(){var r=new I;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),d=new J(r,r);this._rawPxBounds&&(this._pxBounds=new I([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(r,d,p){var _=r[0]instanceof be,S=r.length,P,q;if(_){for(q=[],P=0;P<S;P++)q[P]=this._map.latLngToLayerPoint(r[P]),p.extend(q[P]);d.push(q)}else for(P=0;P<S;P++)this._projectLatlngs(r[P],d,p)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,p,_,S,P,q,ie,ce;for(p=0,S=0,P=this._rings.length;p<P;p++)for(ce=this._rings[p],_=0,q=ce.length;_<q-1;_++)ie=qu(ce[_],ce[_+1],r,_,!0),ie&&(d[S]=d[S]||[],d[S].push(ie[0]),(ie[1]!==ce[_+1]||_===q-2)&&(d[S].push(ie[1]),S++))}},_simplifyPoints:function(){for(var r=this._parts,d=this.options.smoothFactor,p=0,_=r.length;p<_;p++)r[p]=Vu(r[p],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,d){var p,_,S,P,q,ie,ce=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(p=0,P=this._parts.length;p<P;p++)for(ie=this._parts[p],_=0,q=ie.length,S=q-1;_<q;S=_++)if(!(!d&&_===0)&&Hu(r,ie[S],ie[_])<=ce)return!0;return!1}});function Qf(r,d){return new ki(r,d)}ki._flat=ho;var ha=ki.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Uu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var d=ki.prototype._convertLatLngs.call(this,r),p=d.length;return p>=2&&d[0]instanceof be&&d[0].equals(d[p-1])&&d.pop(),d},_setLatLngs:function(r){ki.prototype._setLatLngs.call(this,r),Ms(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ms(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,d=this.options.weight,p=new J(d,d);if(r=new I(r.min.subtract(p),r.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,S=this._rings.length,P;_<S;_++)P=Iu(this._rings[_],r,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var d=!1,p,_,S,P,q,ie,ce,xe;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(P=0,ce=this._parts.length;P<ce;P++)for(p=this._parts[P],q=0,xe=p.length,ie=xe-1;q<xe;ie=q++)_=p[q],S=p[ie],_.y>r.y!=S.y>r.y&&r.x<(S.x-_.x)*(r.y-_.y)/(S.y-_.y)+_.x&&(d=!d);return d||ki.prototype._containsPoint.call(this,r,!0)}});function Jf(r,d){return new ha(r,d)}var Ti=li.extend({initialize:function(r,d){k(this,d),this._layers={},r&&this.addData(r)},addData:function(r){var d=T(r)?r:r.features,p,_,S;if(d){for(p=0,_=d.length;p<_;p++)S=d[p],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var P=this.options;if(P.filter&&!P.filter(r))return this;var q=ss(r,P);return q?(q.feature=vo(r),q.defaultOptions=q.options,this.resetStyle(q),P.onEachFeature&&P.onEachFeature(r,q),this.addLayer(q)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=c({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(d){this._setLayerStyle(d,r)},this)},_setLayerStyle:function(r,d){r.setStyle&&(typeof d=="function"&&(d=d(r.feature)),r.setStyle(d))}});function ss(r,d){var p=r.type==="Feature"?r.geometry:r,_=p?p.coordinates:null,S=[],P=d&&d.pointToLayer,q=d&&d.coordsToLatLng||xo,ie,ce,xe,je;if(!_&&!p)return null;switch(p.type){case"Point":return ie=q(_),fa(P,r,ie,d);case"MultiPoint":for(xe=0,je=_.length;xe<je;xe++)ie=q(_[xe]),S.push(fa(P,r,ie,d));return new li(S);case"LineString":case"MultiLineString":return ce=gr(_,p.type==="LineString"?0:1,q),new ki(ce,d);case"Polygon":case"MultiPolygon":return ce=gr(_,p.type==="Polygon"?1:2,q),new ha(ce,d);case"GeometryCollection":for(xe=0,je=p.geometries.length;xe<je;xe++){var Ae=ss({geometry:p.geometries[xe],type:"Feature",properties:r.properties},d);Ae&&S.push(Ae)}return new li(S);case"FeatureCollection":for(xe=0,je=p.features.length;xe<je;xe++){var Ve=ss(p.features[xe],d);Ve&&S.push(Ve)}return new li(S);default:throw new Error("Invalid GeoJSON object.")}}function fa(r,d,p,_){return r?r(d,p):new xr(p,_&&_.markersInheritOptions&&_)}function xo(r){return new be(r[1],r[0],r[2])}function gr(r,d,p){for(var _=[],S=0,P=r.length,q;S<P;S++)q=d?gr(r[S],d-1,p):(p||xo)(r[S]),_.push(q);return _}function go(r,d){return r=we(r),r.alt!==void 0?[j(r.lng,d),j(r.lat,d),j(r.alt,d)]:[j(r.lng,d),j(r.lat,d)]}function vr(r,d,p,_){for(var S=[],P=0,q=r.length;P<q;P++)S.push(d?vr(r[P],Ms(r[P])?0:d-1,p,_):go(r[P],_));return!d&&p&&S.length>0&&S.push(S[0].slice()),S}function Qi(r,d){return r.feature?c({},r.feature,{geometry:d}):vo(d)}function vo(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Ji={toGeoJSON:function(r){return Qi(this,{type:"Point",coordinates:go(this.getLatLng(),r)})}};xr.include(Ji),po.include(Ji),da.include(Ji),ki.include({toGeoJSON:function(r){var d=!Ms(this._latlngs),p=vr(this._latlngs,d?1:0,!1,r);return Qi(this,{type:(d?"Multi":"")+"LineString",coordinates:p})}}),ha.include({toGeoJSON:function(r){var d=!Ms(this._latlngs),p=d&&!Ms(this._latlngs[0]),_=vr(this._latlngs,p?2:d?1:0,!0,r);return d||(_=[_]),Qi(this,{type:(p?"Multi":"")+"Polygon",coordinates:_})}}),ua.include({toMultiPoint:function(r){var d=[];return this.eachLayer(function(p){d.push(p.toGeoJSON(r).geometry.coordinates)}),Qi(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(r){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(r);var p=d==="GeometryCollection",_=[];return this.eachLayer(function(S){if(S.toGeoJSON){var P=S.toGeoJSON(r);if(p)_.push(P.geometry);else{var q=vo(P);q.type==="FeatureCollection"?_.push.apply(_,q.features):_.push(q)}}}),p?Qi(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function yo(r,d){return new Ti(r,d)}var yr=yo,ma=Ks.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,d,p){this._url=r,this._bounds=fe(d),k(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(De(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){mt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Yt(this._image),this},bringToBack:function(){return this._map&&Sn(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=fe(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",d=this._image=r?this._url:Xe("img");if(De(d,"leaflet-image-layer"),this._zoomAnimated&&De(d,"leaflet-zoom-animated"),this.options.className&&De(d,this.options.className),d.onselectstart=w,d.onmousemove=w,d.onload=f(this.fire,this,"load"),d.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(r){var d=this._map.getZoomScale(r.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Ni(this._image,p,d)},_reset:function(){var r=this._image,d=new I(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=d.getSize();yt(r,d.min),r.style.width=p.x+"px",r.style.height=p.y+"px"},_updateOpacity:function(){wt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),Qu=function(r,d,p){return new ma(r,d,p)},en=ma.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",d=this._image=r?this._url:Xe("video");if(De(d,"leaflet-image-layer"),this._zoomAnimated&&De(d,"leaflet-zoom-animated"),this.options.className&&De(d,this.options.className),d.onselectstart=w,d.onmousemove=w,d.onloadeddata=f(this.fire,this,"load"),r){for(var p=d.getElementsByTagName("source"),_=[],S=0;S<p.length;S++)_.push(p[S].src);this._url=p.length>0?_:[d.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var q=Xe("source");q.src=this._url[P],d.appendChild(q)}}});function pa(r,d,p){return new en(r,d,p)}var bo=ma.extend({_initImage:function(){var r=this._image=this._url;De(r,"leaflet-image-layer"),this._zoomAnimated&&De(r,"leaflet-zoom-animated"),this.options.className&&De(r,this.options.className),r.onselectstart=w,r.onmousemove=w}});function Ju(r,d,p){return new bo(r,d,p)}var is=Ks.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,d){r&&(r instanceof be||T(r))?(this._latlng=we(r),k(this,d)):(k(this,r),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&wt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&wt(this._container,1),this.bringToFront(),this.options.interactive&&(De(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(wt(this._container,0),this._removeTimeout=setTimeout(f(mt,void 0,this._container),200)):mt(this._container),this.options.interactive&&(jt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=we(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Yt(this._container),this},bringToBack:function(){return this._map&&Sn(this._container),this},_prepareOpen:function(r){var d=this._source;if(!d._map)return!1;if(d instanceof li){d=null;var p=this._source._layers;for(var _ in p)if(p[_]._map){d=p[_];break}if(!d)return!1;this._source=d}if(!r)if(d.getCenter)r=d.getCenter();else if(d.getLatLng)r=d.getLatLng();else if(d.getBounds)r=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")r.innerHTML=d;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),d=te(this.options.offset),p=this._getAnchor();this._zoomAnimated?yt(this._container,r.add(p)):d=d.add(r).add(p);var _=this._containerBottom=-d.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=_+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});et.include({_initOverlay:function(r,d,p,_){var S=d;return S instanceof r||(S=new r(_).setContent(d)),p&&S.setLatLng(p),S}}),Ks.include({_initOverlay:function(r,d,p,_){var S=p;return S instanceof r?(k(S,_),S._source=this):(S=d&&!_?d:new r(_,this),S.setContent(p)),S}});var br=is.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,is.prototype.openOn.call(this,r)},onAdd:function(r){is.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ui||this._source.on("preclick",Xs))},onRemove:function(r){is.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ui||this._source.off("preclick",Xs))},getEvents:function(){var r=is.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",d=this._container=Xe("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Xe("div",r+"-content-wrapper",d);if(this._contentNode=Xe("div",r+"-content",p),kn(d),ri(this._contentNode),Re(d,"contextmenu",Xs),this._tipContainer=Xe("div",r+"-tip-container",d),this._tip=Xe("div",r+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Xe("a",r+"-close-button",d);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Re(_,"click",function(S){Et(S),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,d=r.style;d.width="",d.whiteSpace="nowrap";var p=r.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),d.width=p+1+"px",d.whiteSpace="",d.height="";var _=r.offsetHeight,S=this.options.maxHeight,P="leaflet-popup-scrolled";S&&_>S?(d.height=S+"px",De(r,P)):jt(r,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var d=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),p=this._getAnchor();yt(this._container,d.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,d=parseInt(nr(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+d,_=this._containerWidth,S=new J(this._containerLeft,-p-this._containerBottom);S._add(Xi(this._container));var P=r.layerPointToContainerPoint(S),q=te(this.options.autoPanPadding),ie=te(this.options.autoPanPaddingTopLeft||q),ce=te(this.options.autoPanPaddingBottomRight||q),xe=r.getSize(),je=0,Ae=0;P.x+_+ce.x>xe.x&&(je=P.x+_-xe.x+ce.x),P.x-je-ie.x<0&&(je=P.x-ie.x),P.y+p+ce.y>xe.y&&(Ae=P.y+p-xe.y+ce.y),P.y-Ae-ie.y<0&&(Ae=P.y-ie.y),(je||Ae)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([je,Ae]))}},_getAnchor:function(){return te(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ed=function(r,d){return new br(r,d)};et.mergeOptions({closePopupOnClick:!0}),et.include({openPopup:function(r,d,p){return this._initOverlay(br,r,d,p).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Ks.include({bindPopup:function(r,d){return this._popup=this._initOverlay(br,this._popup,r,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof li||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Ki(r);var d=r.layer||r.target;if(this._popup._source===d&&!(d instanceof ui)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=d,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var wr=is.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){is.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){is.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=is.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",d=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Xe("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+x(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var d,p,_=this._map,S=this._container,P=_.latLngToContainerPoint(_.getCenter()),q=_.layerPointToContainerPoint(r),ie=this.options.direction,ce=S.offsetWidth,xe=S.offsetHeight,je=te(this.options.offset),Ae=this._getAnchor();ie==="top"?(d=ce/2,p=xe):ie==="bottom"?(d=ce/2,p=0):ie==="center"?(d=ce/2,p=xe/2):ie==="right"?(d=0,p=xe/2):ie==="left"?(d=ce,p=xe/2):q.x<P.x?(ie="right",d=0,p=xe/2):(ie="left",d=ce+(je.x+Ae.x)*2,p=xe/2),r=r.subtract(te(d,p,!0)).add(je).add(Ae),jt(S,"leaflet-tooltip-right"),jt(S,"leaflet-tooltip-left"),jt(S,"leaflet-tooltip-top"),jt(S,"leaflet-tooltip-bottom"),De(S,"leaflet-tooltip-"+ie),yt(S,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&wt(this._container,r)},_animateZoom:function(r){var d=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(d)},_getAnchor:function(){return te(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),em=function(r,d){return new wr(r,d)};et.include({openTooltip:function(r,d,p){return this._initOverlay(wr,r,d,p).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Ks.include({bindTooltip:function(r,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(wr,this._tooltip,r,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var d=r?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[d](p),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof li||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var d=typeof r.getElement=="function"&&r.getElement();d&&(Re(d,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Re(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var d=typeof r.getElement=="function"&&r.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var d=r.latlng,p,_;this._tooltip.options.sticky&&r.originalEvent&&(p=this._map.mouseEventToContainerPoint(r.originalEvent),_=this._map.containerPointToLayerPoint(p),d=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(d)}});var td=ci.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var d=r&&r.tagName==="DIV"?r:document.createElement("div"),p=this.options;if(p.html instanceof Element?(As(d),d.appendChild(p.html)):d.innerHTML=p.html!==!1?p.html:"",p.bgPos){var _=te(p.bgPos);d.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function tm(r){return new td(r)}ci.Default=mr;var xa=Ks.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ee.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){k(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),mt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Yt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Sn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof J?r:new J(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var d=this.getPane().children,p=-r(-1/0,1/0),_=0,S=d.length,P;_<S;_++)P=d[_].style.zIndex,d[_]!==this._container&&P&&(p=r(p,+P));isFinite(p)&&(this.options.zIndex=p+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ee.ielt9){wt(this._container,this.options.opacity);var r=+new Date,d=!1,p=!1;for(var _ in this._tiles){var S=this._tiles[_];if(!(!S.current||!S.loaded)){var P=Math.min(1,(r-S.loaded)/200);wt(S.el,P),P<1?d=!0:(S.active?p=!0:this._onOpaqueTile(S),S.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),d&&(K(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Xe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,d=this.options.maxZoom;if(r!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===r?(this._levels[p].el.style.zIndex=d-Math.abs(r-p),this._onUpdateLevel(p)):(mt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var _=this._levels[r],S=this._map;return _||(_=this._levels[r]={},_.el=Xe("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=d,_.origin=S.project(S.unproject(S.getPixelOrigin()),r).round(),_.zoom=r,this._setZoomTransform(_,S.getCenter(),S.getZoom()),w(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var r,d,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)d=this._tiles[r],d.retain=d.current;for(r in this._tiles)if(d=this._tiles[r],d.current&&!d.active){var _=d.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var d in this._tiles)this._tiles[d].coords.z===r&&this._removeTile(d)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)mt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,d,p,_){var S=Math.floor(r/2),P=Math.floor(d/2),q=p-1,ie=new J(+S,+P);ie.z=+q;var ce=this._tileCoordsToKey(ie),xe=this._tiles[ce];return xe&&xe.active?(xe.retain=!0,!0):(xe&&xe.loaded&&(xe.retain=!0),q>_?this._retainParent(S,P,q,_):!1)},_retainChildren:function(r,d,p,_){for(var S=2*r;S<2*r+2;S++)for(var P=2*d;P<2*d+2;P++){var q=new J(S,P);q.z=p+1;var ie=this._tileCoordsToKey(q),ce=this._tiles[ie];if(ce&&ce.active){ce.retain=!0;continue}else ce&&ce.loaded&&(ce.retain=!0);p+1<_&&this._retainChildren(S,P,p+1,_)}},_resetView:function(r){var d=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var d=this.options;return d.minNativeZoom!==void 0&&r<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<r?d.maxNativeZoom:r},_setView:function(r,d,p,_){var S=Math.round(d);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var P=this.options.updateWhenZooming&&S!==this._tileZoom;(!_||P)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(r),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(r,d)},_setZoomTransforms:function(r,d){for(var p in this._levels)this._setZoomTransform(this._levels[p],r,d)},_setZoomTransform:function(r,d,p){var _=this._map.getZoomScale(p,r.zoom),S=r.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(d,p)).round();Ee.any3d?Ni(r.el,S,_):yt(r.el,S)},_resetGrid:function(){var r=this._map,d=r.options.crs,p=this._tileSize=this.getTileSize(),_=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,d.wrapLng[0]],_).x/p.x),Math.ceil(r.project([0,d.wrapLng[1]],_).x/p.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([d.wrapLat[0],0],_).y/p.x),Math.ceil(r.project([d.wrapLat[1],0],_).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var d=this._map,p=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),_=d.getZoomScale(p,this._tileZoom),S=d.project(r,this._tileZoom).floor(),P=d.getSize().divideBy(_*2);return new I(S.subtract(P),S.add(P))},_update:function(r){var d=this._map;if(d){var p=this._clampZoom(d.getZoom());if(r===void 0&&(r=d.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(r),S=this._pxBoundsToTileRange(_),P=S.getCenter(),q=[],ie=this.options.keepBuffer,ce=new I(S.getBottomLeft().subtract([ie,-ie]),S.getTopRight().add([ie,-ie]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var xe in this._tiles){var je=this._tiles[xe].coords;(je.z!==this._tileZoom||!ce.contains(new J(je.x,je.y)))&&(this._tiles[xe].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(r,p);return}for(var Ae=S.min.y;Ae<=S.max.y;Ae++)for(var Ve=S.min.x;Ve<=S.max.x;Ve++){var Xt=new J(Ve,Ae);if(Xt.z=this._tileZoom,!!this._isValidTile(Xt)){var At=this._tiles[this._tileCoordsToKey(Xt)];At?At.current=!0:q.push(Xt)}}if(q.sort(function(nt,at){return nt.distanceTo(P)-at.distanceTo(P)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ns=document.createDocumentFragment();for(Ve=0;Ve<q.length;Ve++)this._addTile(q[Ve],Ns);this._level.el.appendChild(Ns)}}}},_isValidTile:function(r){var d=this._map.options.crs;if(!d.infinite){var p=this._globalTileRange;if(!d.wrapLng&&(r.x<p.min.x||r.x>p.max.x)||!d.wrapLat&&(r.y<p.min.y||r.y>p.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(r);return fe(this.options.bounds).overlaps(_)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var d=this._map,p=this.getTileSize(),_=r.scaleBy(p),S=_.add(p),P=d.unproject(_,r.z),q=d.unproject(S,r.z);return[P,q]},_tileCoordsToBounds:function(r){var d=this._tileCoordsToNwSe(r),p=new W(d[0],d[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var d=r.split(":"),p=new J(+d[0],+d[1]);return p.z=+d[2],p},_removeTile:function(r){var d=this._tiles[r];d&&(mt(d.el),delete this._tiles[r],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){De(r,"leaflet-tile");var d=this.getTileSize();r.style.width=d.x+"px",r.style.height=d.y+"px",r.onselectstart=w,r.onmousemove=w,Ee.ielt9&&this.options.opacity<1&&wt(r,this.options.opacity)},_addTile:function(r,d){var p=this._getTilePos(r),_=this._tileCoordsToKey(r),S=this.createTile(this._wrapCoords(r),f(this._tileReady,this,r));this._initTile(S),this.createTile.length<2&&Y(f(this._tileReady,this,r,null,S)),yt(S,p),this._tiles[_]={el:S,coords:r,current:!0},d.appendChild(S),this.fire("tileloadstart",{tile:S,coords:r})},_tileReady:function(r,d,p){d&&this.fire("tileerror",{error:d,tile:p,coords:r});var _=this._tileCoordsToKey(r);p=this._tiles[_],p&&(p.loaded=+new Date,this._map._fadeAnimated?(wt(p.el,0),K(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),d||(De(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ee.ielt9||!this._map._fadeAnimated?Y(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var d=new J(this._wrapX?b(r.x,this._wrapX):r.x,this._wrapY?b(r.y,this._wrapY):r.y);return d.z=r.z,d},_pxBoundsToTileRange:function(r){var d=this.getTileSize();return new I(r.min.unscaleBy(d).floor(),r.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function sd(r){return new xa(r)}var tn=xa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,d){this._url=r,d=k(this,d),d.detectRetina&&Ee.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,d){return this._url===r&&d===void 0&&(d=!0),this._url=r,d||this.redraw(),this},createTile:function(r,d){var p=document.createElement("img");return Re(p,"load",f(this._tileOnLoad,this,d,p)),Re(p,"error",f(this._tileOnError,this,d,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(r),p},getTileUrl:function(r){var d={r:Ee.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-r.y;this.options.tms&&(d.y=p),d["-y"]=p}return B(this._url,c(d,this.options))},_tileOnLoad:function(r,d){Ee.ielt9?setTimeout(f(r,this,null,d),0):r(null,d)},_tileOnError:function(r,d,p){var _=this.options.errorTileUrl;_&&d.getAttribute("src")!==_&&(d.src=_),r(p,d)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,d=this.options.maxZoom,p=this.options.zoomReverse,_=this.options.zoomOffset;return p&&(r=d-r),r+_},_getSubdomain:function(r){var d=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var r,d;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(d=this._tiles[r].el,d.onload=w,d.onerror=w,!d.complete)){d.src=V;var p=this._tiles[r].coords;mt(d),delete this._tiles[r],this.fire("tileabort",{tile:d,coords:p})}},_removeTile:function(r){var d=this._tiles[r];if(d)return d.el.setAttribute("src",V),xa.prototype._removeTile.call(this,r)},_tileReady:function(r,d,p){if(!(!this._map||p&&p.getAttribute("src")===V))return xa.prototype._tileReady.call(this,r,d,p)}});function Rs(r,d){return new tn(r,d)}var _r=tn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,d){this._url=r;var p=c({},this.defaultWmsParams);for(var _ in d)_ in this.options||(p[_]=d[_]);d=k(this,d);var S=d.detectRetina&&Ee.retina?2:1,P=this.getTileSize();p.width=P.x*S,p.height=P.y*S,this.wmsParams=p},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,tn.prototype.onAdd.call(this,r)},getTileUrl:function(r){var d=this._tileCoordsToNwSe(r),p=this._crs,_=$(p.project(d[0]),p.project(d[1])),S=_.min,P=_.max,q=(this._wmsVersion>=1.3&&this._crs===Xl?[S.y,S.x,P.y,P.x]:[S.x,S.y,P.x,P.y]).join(","),ie=tn.prototype.getTileUrl.call(this,r);return ie+O(this.wmsParams,ie,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(r,d){return c(this.wmsParams,r),d||this.redraw(),this}});function Os(r,d){return new _r(r,d)}tn.WMS=_r,Rs.wms=Os;var ms=Ks.extend({options:{padding:.1},initialize:function(r){k(this,r),x(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),De(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,d){var p=this._map.getZoomScale(d,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,d),P=_.multiplyBy(-p).add(S).subtract(this._map._getNewPixelOrigin(r,d));Ee.any3d?Ni(this._container,P,p):yt(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,d=this._map.getSize(),p=this._map.containerPointToLayerPoint(d.multiplyBy(-r)).round();this._bounds=new I(p,p.add(d.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),wo=ms.extend({options:{tolerance:0},getEvents:function(){var r=ms.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ms.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Re(r,"mousemove",this._onMouseMove,this),Re(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Re(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){K(this._redrawRequest),delete this._ctx,mt(this._container),ut(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var d in this._layers)r=this._layers[d],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ms.prototype._update.call(this);var r=this._bounds,d=this._container,p=r.getSize(),_=Ee.retina?2:1;yt(d,r.min),d.width=_*p.x,d.height=_*p.y,d.style.width=p.x+"px",d.style.height=p.y+"px",Ee.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){ms.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[x(r)]=r;var d=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var d=r._order,p=d.next,_=d.prev;p?p.prev=_:this._drawLast=_,_?_.next=p:this._drawFirst=p,delete r._order,delete this._layers[x(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var d=r.options.dashArray.split(/[, ]+/),p=[],_,S;for(S=0;S<d.length;S++){if(_=Number(d[S]),isNaN(_))return;p.push(_)}r.options._dashArray=p}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||Y(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var d=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new I,this._redrawBounds.extend(r._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(r._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var d=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,d=this._redrawBounds;if(this._ctx.save(),d){var p=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)r=_.layer,(!d||r._pxBounds&&r._pxBounds.intersects(d))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,d){if(this._drawing){var p,_,S,P,q=r._parts,ie=q.length,ce=this._ctx;if(ie){for(ce.beginPath(),p=0;p<ie;p++){for(_=0,S=q[p].length;_<S;_++)P=q[p][_],ce[_?"lineTo":"moveTo"](P.x,P.y);d&&ce.closePath()}this._fillStroke(ce,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var d=r._point,p=this._ctx,_=Math.max(Math.round(r._radius),1),S=(Math.max(Math.round(r._radiusY),1)||_)/_;S!==1&&(p.save(),p.scale(1,S)),p.beginPath(),p.arc(d.x,d.y/S,_,0,Math.PI*2,!1),S!==1&&p.restore(),this._fillStroke(p,r)}},_fillStroke:function(r,d){var p=d.options;p.fill&&(r.globalAlpha=p.fillOpacity,r.fillStyle=p.fillColor||p.color,r.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(r.setLineDash&&r.setLineDash(d.options&&d.options._dashArray||[]),r.globalAlpha=p.opacity,r.lineWidth=p.weight,r.strokeStyle=p.color,r.lineCap=p.lineCap,r.lineJoin=p.lineJoin,r.stroke())},_onClick:function(r){for(var d=this._map.mouseEventToLayerPoint(r),p,_,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(d)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(p))&&(_=p);this._fireEvent(_?[_]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,d)}},_handleMouseOut:function(r){var d=this._hoveredLayer;d&&(jt(this._container,"leaflet-interactive"),this._fireEvent([d],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,d){if(!this._mouseHoverThrottled){for(var p,_,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(d)&&(_=p);_!==this._hoveredLayer&&(this._handleMouseOut(r),_&&(De(this._container,"leaflet-interactive"),this._fireEvent([_],r,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,d,p){this._map._fireDOMEvent(d,p||d.type,r)},_bringToFront:function(r){var d=r._order;if(d){var p=d.next,_=d.prev;if(p)p.prev=_;else return;_?_.next=p:p&&(this._drawFirst=p),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(r)}},_bringToBack:function(r){var d=r._order;if(d){var p=d.next,_=d.prev;if(_)_.next=p;else return;p?p.prev=_:_&&(this._drawLast=_),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(r)}}});function jr(r){return Ee.canvas?new wo(r):null}var sn=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Kl={_initContainer:function(){this._container=Xe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ms.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var d=r._container=sn("shape");De(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",r._path=sn("path"),d.appendChild(r._path),this._updateStyle(r),this._layers[x(r)]=r},_addPath:function(r){var d=r._container;this._container.appendChild(d),r.options.interactive&&r.addInteractiveTarget(d)},_removePath:function(r){var d=r._container;mt(d),r.removeInteractiveTarget(d),delete this._layers[x(r)]},_updateStyle:function(r){var d=r._stroke,p=r._fill,_=r.options,S=r._container;S.stroked=!!_.stroke,S.filled=!!_.fill,_.stroke?(d||(d=r._stroke=sn("stroke")),S.appendChild(d),d.weight=_.weight+"px",d.color=_.color,d.opacity=_.opacity,_.dashArray?d.dashStyle=T(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=_.lineCap.replace("butt","flat"),d.joinstyle=_.lineJoin):d&&(S.removeChild(d),r._stroke=null),_.fill?(p||(p=r._fill=sn("fill")),S.appendChild(p),p.color=_.fillColor||_.color,p.opacity=_.fillOpacity):p&&(S.removeChild(p),r._fill=null)},_updateCircle:function(r){var d=r._point.round(),p=Math.round(r._radius),_=Math.round(r._radiusY||p);this._setPath(r,r._empty()?"M0 0":"AL "+d.x+","+d.y+" "+p+","+_+" 0,"+65535*360)},_setPath:function(r,d){r._path.v=d},_bringToFront:function(r){Yt(r._container)},_bringToBack:function(r){Sn(r._container)}},di=Ee.vml?sn:eo,ga=ms.extend({_initContainer:function(){this._container=di("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=di("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){mt(this._container),ut(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ms.prototype._update.call(this);var r=this._bounds,d=r.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,p.setAttribute("width",d.x),p.setAttribute("height",d.y)),yt(p,r.min),p.setAttribute("viewBox",[r.min.x,r.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(r){var d=r._path=di("path");r.options.className&&De(d,r.options.className),r.options.interactive&&De(d,"leaflet-interactive"),this._updateStyle(r),this._layers[x(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){mt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[x(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var d=r._path,p=r.options;d&&(p.stroke?(d.setAttribute("stroke",p.color),d.setAttribute("stroke-opacity",p.opacity),d.setAttribute("stroke-width",p.weight),d.setAttribute("stroke-linecap",p.lineCap),d.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?d.setAttribute("stroke-dasharray",p.dashArray):d.removeAttribute("stroke-dasharray"),p.dashOffset?d.setAttribute("stroke-dashoffset",p.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),p.fill?(d.setAttribute("fill",p.fillColor||p.color),d.setAttribute("fill-opacity",p.fillOpacity),d.setAttribute("fill-rule",p.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(r,d){this._setPath(r,to(r._parts,d))},_updateCircle:function(r){var d=r._point,p=Math.max(Math.round(r._radius),1),_=Math.max(Math.round(r._radiusY),1)||p,S="a"+p+","+_+" 0 1,0 ",P=r._empty()?"M0 0":"M"+(d.x-p)+","+d.y+S+p*2+",0 "+S+-p*2+",0 ";this._setPath(r,P)},_setPath:function(r,d){r._path.setAttribute("d",d)},_bringToFront:function(r){Yt(r._path)},_bringToBack:function(r){Sn(r._path)}});Ee.vml&&ga.include(Kl);function Nr(r){return Ee.svg||Ee.vml?new ga(r):null}et.include({getRenderer:function(r){var d=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var d=this._paneRenderers[r];return d===void 0&&(d=this._createRenderer({pane:r}),this._paneRenderers[r]=d),d},_createRenderer:function(r){return this.options.preferCanvas&&jr(r)||Nr(r)}});var En=ha.extend({initialize:function(r,d){ha.prototype.initialize.call(this,this._boundsToLatLngs(r),d)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=fe(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function sm(r,d){return new En(r,d)}ga.create=di,ga.pointsToPath=to,Ti.geometryToLayer=ss,Ti.coordsToLatLng=xo,Ti.coordsToLatLngs=gr,Ti.latLngToCoords=go,Ti.latLngsToCoords=vr,Ti.getFeature=Qi,Ti.asFeature=vo,et.mergeOptions({boxZoom:!0});var ps=oi.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ut(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){mt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ia(),ro(),this._startPoint=this._map.mouseEventToContainerPoint(r),Re(document,{contextmenu:Ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Xe("div","leaflet-zoom-box",this._container),De(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var d=new I(this._point,this._startPoint),p=d.getSize();yt(this._box,d.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(mt(this._box),jt(this._container,"leaflet-crosshair")),ai(),rr(),ut(document,{contextmenu:Ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var d=new W(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});et.addInitHook("addHandler","boxZoom",ps),et.mergeOptions({doubleClickZoom:!0});var _o=oi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var d=this._map,p=d.getZoom(),_=d.options.zoomDelta,S=r.originalEvent.shiftKey?p-_:p+_;d.options.doubleClickZoom==="center"?d.setZoom(S):d.setZoomAround(r.containerPoint,S)}});et.addInitHook("addHandler","doubleClickZoom",_o),et.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var hi=oi.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Wi(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}De(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){jt(this._map._container,"leaflet-grab"),jt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=fe(this._map.options.maxBounds);this._offsetLimit=$(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var d=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(d),this._prunePositions(d)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,d){return r-(r-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;r.x<d.min.x&&(r.x=this._viscousLimit(r.x,d.min.x)),r.y<d.min.y&&(r.y=this._viscousLimit(r.y,d.min.y)),r.x>d.max.x&&(r.x=this._viscousLimit(r.x,d.max.x)),r.y>d.max.y&&(r.y=this._viscousLimit(r.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,d=Math.round(r/2),p=this._initialWorldOffset,_=this._draggable._newPos.x,S=(_-d+p)%r+d-p,P=(_+d+p)%r-d-p,q=Math.abs(S+p)<Math.abs(P+p)?S:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(r){var d=this._map,p=d.options,_=!p.inertia||r.noInertia||this._times.length<2;if(d.fire("dragend",r),_)d.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,q=p.easeLinearity,ie=S.multiplyBy(q/P),ce=ie.distanceTo([0,0]),xe=Math.min(p.inertiaMaxSpeed,ce),je=ie.multiplyBy(xe/ce),Ae=xe/(p.inertiaDeceleration*q),Ve=je.multiplyBy(-Ae/2).round();!Ve.x&&!Ve.y?d.fire("moveend"):(Ve=d._limitOffset(Ve,d.options.maxBounds),Y(function(){d.panBy(Ve,{duration:Ae,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});et.addInitHook("addHandler","dragging",hi),et.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Wl=oi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Re(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ut(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,d=document.documentElement,p=r.scrollTop||d.scrollTop,_=r.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(_,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var d=this._panKeys={},p=this.keyCodes,_,S;for(_=0,S=p.left.length;_<S;_++)d[p.left[_]]=[-1*r,0];for(_=0,S=p.right.length;_<S;_++)d[p.right[_]]=[r,0];for(_=0,S=p.down.length;_<S;_++)d[p.down[_]]=[0,r];for(_=0,S=p.up.length;_<S;_++)d[p.up[_]]=[0,-1*r]},_setZoomDelta:function(r){var d=this._zoomKeys={},p=this.keyCodes,_,S;for(_=0,S=p.zoomIn.length;_<S;_++)d[p.zoomIn[_]]=r;for(_=0,S=p.zoomOut.length;_<S;_++)d[p.zoomOut[_]]=-r},_addHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ut(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var d=r.keyCode,p=this._map,_;if(d in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(_=this._panKeys[d],r.shiftKey&&(_=te(_).multiplyBy(3)),p.options.maxBounds&&(_=p._limitOffset(te(_),p.options.maxBounds)),p.options.worldCopyJump){var S=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(_)));p.panTo(S)}else p.panBy(_)}else if(d in this._zoomKeys)p.setZoom(p.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Ki(r)}}});et.addInitHook("addHandler","keyboard",Wl),et.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Sr=oi.extend({addHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ut(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var d=us(r),p=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var _=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),_),Ki(r)},_performZoom:function(){var r=this._map,d=r.getZoom(),p=this._map.options.zoomSnap||0;r._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,P=p?Math.ceil(S/p)*p:S,q=r._limitZoom(d+(this._delta>0?P:-P))-d;this._delta=0,this._startTime=null,q&&(r.options.scrollWheelZoom==="center"?r.setZoom(d+q):r.setZoomAround(this._lastMousePos,d+q))}});et.addInitHook("addHandler","scrollWheelZoom",Sr);var An=600;et.mergeOptions({tapHold:Ee.touchNative&&Ee.safari&&Ee.mobile,tapTolerance:15});var jo=oi.extend({addHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ut(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var d=r.touches[0];this._startPos=this._newPos=new J(d.clientX,d.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Re(document,"touchend",Et),Re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),An),Re(document,"touchend touchcancel contextmenu",this._cancel,this),Re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){ut(document,"touchend",Et),ut(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),ut(document,"touchend touchcancel contextmenu",this._cancel,this),ut(document,"touchmove",this._onMove,this)},_onMove:function(r){var d=r.touches[0];this._newPos=new J(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,d){var p=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});p._simulated=!0,d.target.dispatchEvent(p)}});et.addInitHook("addHandler","tapHold",jo),et.mergeOptions({touchZoom:Ee.touch,bounceAtZoomLimits:!0});var Ql=oi.extend({addHooks:function(){De(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){jt(this._map._container,"leaflet-touch-zoom"),ut(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var d=this._map;if(!(!r.touches||r.touches.length!==2||d._animatingZoom||this._zooming)){var p=d.mouseEventToContainerPoint(r.touches[0]),_=d.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(p.add(_)._divideBy(2))),this._startDist=p.distanceTo(_),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend touchcancel",this._onTouchEnd,this),Et(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var d=this._map,p=d.mouseEventToContainerPoint(r.touches[0]),_=d.mouseEventToContainerPoint(r.touches[1]),S=p.distanceTo(_)/this._startDist;if(this._zoom=d.getScaleZoom(S,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&S<1||this._zoom>d.getMaxZoom()&&S>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var P=p._add(_)._divideBy(2)._subtract(this._centerPoint);if(S===1&&P.x===0&&P.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),K(this._animRequest);var q=f(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Y(q,this,!0),Et(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,K(this._animRequest),ut(document,"touchmove",this._onTouchMove,this),ut(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});et.addInitHook("addHandler","touchZoom",Ql),et.BoxZoom=ps,et.DoubleClickZoom=_o,et.Drag=hi,et.Keyboard=Wl,et.ScrollWheelZoom=Sr,et.TapHold=jo,et.TouchZoom=Ql,a.Bounds=I,a.Browser=Ee,a.CRS=Ne,a.Canvas=wo,a.Circle=po,a.CircleMarker=da,a.Class=F,a.Control=js,a.DivIcon=td,a.DivOverlay=is,a.DomEvent=co,a.DomUtil=ra,a.Draggable=Wi,a.Evented=ne,a.FeatureGroup=li,a.GeoJSON=Ti,a.GridLayer=xa,a.Handler=oi,a.Icon=ci,a.ImageOverlay=ma,a.LatLng=be,a.LatLngBounds=W,a.Layer=Ks,a.LayerGroup=ua,a.LineUtil=Kf,a.Map=et,a.Marker=xr,a.Mixin=Gf,a.Path=ui,a.Point=J,a.PolyUtil=$l,a.Polygon=ha,a.Polyline=ki,a.Popup=br,a.PosAnimation=oa,a.Projection=Gu,a.Rectangle=En,a.Renderer=ms,a.SVG=ga,a.SVGOverlay=bo,a.TileLayer=tn,a.Tooltip=wr,a.Transformation=ks,a.Util=le,a.VideoOverlay=en,a.bind=f,a.bounds=$,a.canvas=jr,a.circle=Wu,a.circleMarker=Ku,a.control=Ci,a.divIcon=tm,a.extend=c,a.featureGroup=Yu,a.geoJSON=yo,a.geoJson=yr,a.gridLayer=sd,a.icon=fr,a.imageOverlay=Qu,a.latLng=we,a.latLngBounds=fe,a.layerGroup=Wf,a.map=Vl,a.marker=Xu,a.point=te,a.polygon=Jf,a.polyline=Qf,a.popup=ed,a.rectangle=sm,a.setOptions=k,a.stamp=x,a.svg=Nr,a.svgOverlay=Ju,a.tileLayer=Rs,a.tooltip=em,a.transformation=Ts,a.version=o,a.videoOverlay=pa;var Jl=window.L;a.noConflict=function(){return window.L=Jl,this},window.L=a}))})(Gc,Gc.exports)),Gc.exports}var Nl=JO();const Gs=e_(Nl);function Nu(t,i,a){return Object.freeze({instance:t,context:i,container:a})}function Lf(t,i){return i==null?function(o,c){const u=N.useRef(void 0);return u.current||(u.current=t(o,c)),u}:function(o,c){const u=N.useRef(void 0);u.current||(u.current=t(o,c));const f=N.useRef(o),{instance:m}=u.current;return N.useEffect(function(){f.current!==o&&(i(m,o,f.current),f.current=o)},[m,o,i]),u}}function pN(t,i){N.useEffect(function(){return(i.layerContainer??i.map).addLayer(t.instance),function(){i.layerContainer?.removeLayer(t.instance),i.map.removeLayer(t.instance)}},[i,t])}function xN(t){return function(a){const o=Ef(),c=t(Af(a,o),o);return fN(o.map,a.attribution),xg(c.current,a.eventHandlers),pN(c.current,o),c}}function eP(t,i){const a=N.useRef(void 0);N.useEffect(function(){if(i.pathOptions!==a.current){const c=i.pathOptions??{};t.instance.setStyle(c),a.current=c}},[t,i])}function tP(t){return function(a){const o=Ef(),c=t(Af(a,o),o);return xg(c.current,a.eventHandlers),pN(c.current,o),eP(c.current,a),c}}function sP(t,i){const a=Lf(t,i),o=xN(a);return mN(o)}function iP(t,i){const a=Lf(t),o=WO(a,i);return XO(o)}function gN(t,i){const a=Lf(t,i),o=tP(a);return mN(o)}function nP(t,i){const a=Lf(t,i),o=xN(a);return KO(o)}function aP(t,i,a){const{opacity:o,zIndex:c}=i;o!=null&&o!==a.opacity&&t.setOpacity(o),c!=null&&c!==a.zIndex&&t.setZIndex(c)}function Mf(){return Ef().map}const vN=gN(function({center:i,children:a,...o},c){const u=new Nl.Circle(i,o);return Nu(u,mg(c,{overlayContainer:u}))},GO);function rP({bounds:t,boundsOptions:i,center:a,children:o,className:c,id:u,placeholder:f,style:m,whenReady:x,zoom:v,...b},w){const[j]=N.useState({className:c,id:u,style:m}),[E,A]=N.useState(null),k=N.useRef(void 0);N.useImperativeHandle(w,()=>E?.map??null,[E]);const O=N.useCallback(B=>{if(B!==null&&!k.current){const T=new Nl.Map(B,b);k.current=T,a!=null&&v!=null?T.setView(a,v):t!=null&&T.fitBounds(t,i),x!=null&&T.whenReady(x),A(YO(T))}},[]);N.useEffect(()=>()=>{E?.map.remove()},[E]);const M=E?Jt.createElement(pg,{value:E},o):f??null;return Jt.createElement("div",{...j,ref:O},M)}const gg=N.forwardRef(rP),Wr=sP(function({position:i,...a},o){const c=new Nl.Marker(i,a);return Nu(c,mg(o,{overlayContainer:c}))},function(i,a,o){a.position!==o.position&&i.setLatLng(a.position),a.icon!=null&&a.icon!==o.icon&&i.setIcon(a.icon),a.zIndexOffset!=null&&a.zIndexOffset!==o.zIndexOffset&&i.setZIndexOffset(a.zIndexOffset),a.opacity!=null&&a.opacity!==o.opacity&&i.setOpacity(a.opacity),i.dragging!=null&&a.draggable!==o.draggable&&(a.draggable===!0?i.dragging.enable():i.dragging.disable())}),Qr=iP(function(i,a){const o=new Nl.Popup(i,a.overlayContainer);return Nu(o,a)},function(i,a,{position:o},c){N.useEffect(function(){const{instance:f}=i;function m(v){v.popup===f&&(f.update(),c(!0))}function x(v){v.popup===f&&c(!1)}return a.map.on({popupopen:m,popupclose:x}),a.overlayContainer==null?(o!=null&&f.setLatLng(o),f.openOn(a.map)):a.overlayContainer.bindPopup(f),function(){a.map.off({popupopen:m,popupclose:x}),a.overlayContainer?.unbindPopup(),a.map.removeLayer(f)}},[i,a,c,o])}),af=nP(function({url:i,...a},o){const c=new Nl.TileLayer(i,Af(a,o));return Nu(c,o)},function(i,a,o){aP(i,a,o);const{url:c}=a;c!=null&&c!==o.url&&i.setUrl(c)});var $c={exports:{}},oP=$c.exports,O1;function lP(){return O1||(O1=1,(function(t,i){(function(a,o){o(i)})(oP,function(a){var o=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(u){L.Util.setOptions(this,u),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var f=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,f?this._withAnimation:this._noAnimation),this._markerCluster=f?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(u){if(u instanceof L.LayerGroup)return this.addLayers([u]);if(!u.getLatLng)return this._nonPointGroup.addLayer(u),this.fire("layeradd",{layer:u}),this;if(!this._map)return this._needsClustering.push(u),this.fire("layeradd",{layer:u}),this;if(this.hasLayer(u))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(u,this._maxZoom),this.fire("layeradd",{layer:u}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var f=u,m=this._zoom;if(u.__parent)for(;f.__parent._zoom>=m;)f=f.__parent;return this._currentShownBounds.contains(f.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(u,f):this._animationAddLayerNonAnimated(u,f)),this},removeLayer:function(u){return u instanceof L.LayerGroup?this.removeLayers([u]):u.getLatLng?this._map?u.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(u)),this._removeLayer(u,!0),this.fire("layerremove",{layer:u}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),u.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(u)&&(this._featureGroup.removeLayer(u),u.clusterShow&&u.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,u)&&this.hasLayer(u)&&this._needsRemoving.push({layer:u,latlng:u._latlng}),this.fire("layerremove",{layer:u}),this):(this._nonPointGroup.removeLayer(u),this.fire("layerremove",{layer:u}),this)},addLayers:function(u,f){if(!L.Util.isArray(u))return this.addLayer(u);var m=this._featureGroup,x=this._nonPointGroup,v=this.options.chunkedLoading,b=this.options.chunkInterval,w=this.options.chunkProgress,j=u.length,E=0,A=!0,k;if(this._map){var O=new Date().getTime(),M=L.bind(function(){var T=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();E<j;E++){if(v&&E%200===0){var D=new Date().getTime()-T;if(D>b)break}if(k=u[E],k instanceof L.LayerGroup){A&&(u=u.slice(),A=!1),this._extractNonGroupLayers(k,u),j=u.length;continue}if(!k.getLatLng){x.addLayer(k),f||this.fire("layeradd",{layer:k});continue}if(!this.hasLayer(k)&&(this._addLayer(k,this._maxZoom),f||this.fire("layeradd",{layer:k}),k.__parent&&k.__parent.getChildCount()===2)){var V=k.__parent.getAllChildMarkers(),R=V[0]===k?V[1]:V[0];m.removeLayer(R)}}w&&w(E,j,new Date().getTime()-O),E===j?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(M,this.options.chunkDelay)},this);M()}else for(var B=this._needsClustering;E<j;E++){if(k=u[E],k instanceof L.LayerGroup){A&&(u=u.slice(),A=!1),this._extractNonGroupLayers(k,u),j=u.length;continue}if(!k.getLatLng){x.addLayer(k);continue}this.hasLayer(k)||B.push(k)}return this},removeLayers:function(u){var f,m,x=u.length,v=this._featureGroup,b=this._nonPointGroup,w=!0;if(!this._map){for(f=0;f<x;f++){if(m=u[f],m instanceof L.LayerGroup){w&&(u=u.slice(),w=!1),this._extractNonGroupLayers(m,u),x=u.length;continue}this._arraySplice(this._needsClustering,m),b.removeLayer(m),this.hasLayer(m)&&this._needsRemoving.push({layer:m,latlng:m._latlng}),this.fire("layerremove",{layer:m})}return this}if(this._unspiderfy){this._unspiderfy();var j=u.slice(),E=x;for(f=0;f<E;f++){if(m=j[f],m instanceof L.LayerGroup){this._extractNonGroupLayers(m,j),E=j.length;continue}this._unspiderfyLayer(m)}}for(f=0;f<x;f++){if(m=u[f],m instanceof L.LayerGroup){w&&(u=u.slice(),w=!1),this._extractNonGroupLayers(m,u),x=u.length;continue}if(!m.__parent){b.removeLayer(m),this.fire("layerremove",{layer:m});continue}this._removeLayer(m,!0,!0),this.fire("layerremove",{layer:m}),v.hasLayer(m)&&(v.removeLayer(m),m.clusterShow&&m.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(u){u.off(this._childMarkerEventHandlers,this),delete u.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var u=new L.LatLngBounds;this._topClusterLevel&&u.extend(this._topClusterLevel._bounds);for(var f=this._needsClustering.length-1;f>=0;f--)u.extend(this._needsClustering[f].getLatLng());return u.extend(this._nonPointGroup.getBounds()),u},eachLayer:function(u,f){var m=this._needsClustering.slice(),x=this._needsRemoving,v,b,w;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(m),b=m.length-1;b>=0;b--){for(v=!0,w=x.length-1;w>=0;w--)if(x[w].layer===m[b]){v=!1;break}v&&u.call(f,m[b])}this._nonPointGroup.eachLayer(u,f)},getLayers:function(){var u=[];return this.eachLayer(function(f){u.push(f)}),u},getLayer:function(u){var f=null;return u=parseInt(u,10),this.eachLayer(function(m){L.stamp(m)===u&&(f=m)}),f},hasLayer:function(u){if(!u)return!1;var f,m=this._needsClustering;for(f=m.length-1;f>=0;f--)if(m[f]===u)return!0;for(m=this._needsRemoving,f=m.length-1;f>=0;f--)if(m[f].layer===u)return!1;return!!(u.__parent&&u.__parent._group===this)||this._nonPointGroup.hasLayer(u)},zoomToShowLayer:function(u,f){var m=this._map;typeof f!="function"&&(f=function(){});var x=function(){(m.hasLayer(u)||m.hasLayer(u.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",x,this),this.off("animationend",x,this),m.hasLayer(u)?f():u.__parent._icon&&(this.once("spiderfied",f,this),u.__parent.spiderfy()))};u._icon&&this._map.getBounds().contains(u.getLatLng())?f():u.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",x,this),this._map.panTo(u.getLatLng())):(this._map.on("moveend",x,this),this.on("animationend",x,this),u.__parent.zoomToBounds())},onAdd:function(u){this._map=u;var f,m,x;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(u),this._nonPointGroup.addTo(u),this._gridClusters||this._generateInitialClusters(),this._maxLat=u.options.crs.projection.MAX_LATITUDE,f=0,m=this._needsRemoving.length;f<m;f++)x=this._needsRemoving[f],x.newlatlng=x.layer._latlng,x.layer._latlng=x.latlng;for(f=0,m=this._needsRemoving.length;f<m;f++)x=this._needsRemoving[f],this._removeLayer(x.layer,!0),x.layer._latlng=x.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),m=this._needsClustering,this._needsClustering=[],this.addLayers(m,!0)},onRemove:function(u){u.off("zoomend",this._zoomEnd,this),u.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(u){for(var f=u;f&&!f._icon;)f=f.__parent;return f||null},_arraySplice:function(u,f){for(var m=u.length-1;m>=0;m--)if(u[m]===f)return u.splice(m,1),!0},_removeFromGridUnclustered:function(u,f){for(var m=this._map,x=this._gridUnclustered,v=Math.floor(this._map.getMinZoom());f>=v&&x[f].removeObject(u,m.project(u.getLatLng(),f));f--);},_childMarkerDragStart:function(u){u.target.__dragStart=u.target._latlng},_childMarkerMoved:function(u){if(!this._ignoreMove&&!u.target.__dragStart){var f=u.target._popup&&u.target._popup.isOpen();this._moveChild(u.target,u.oldLatLng,u.latlng),f&&u.target.openPopup()}},_moveChild:function(u,f,m){u._latlng=f,this.removeLayer(u),u._latlng=m,this.addLayer(u)},_childMarkerDragEnd:function(u){var f=u.target.__dragStart;delete u.target.__dragStart,f&&this._moveChild(u.target,f,u.target._latlng)},_removeLayer:function(u,f,m){var x=this._gridClusters,v=this._gridUnclustered,b=this._featureGroup,w=this._map,j=Math.floor(this._map.getMinZoom());f&&this._removeFromGridUnclustered(u,this._maxZoom);var E=u.__parent,A=E._markers,k;for(this._arraySplice(A,u);E&&(E._childCount--,E._boundsNeedUpdate=!0,!(E._zoom<j));)f&&E._childCount<=1?(k=E._markers[0]===u?E._markers[1]:E._markers[0],x[E._zoom].removeObject(E,w.project(E._cLatLng,E._zoom)),v[E._zoom].addObject(k,w.project(k.getLatLng(),E._zoom)),this._arraySplice(E.__parent._childClusters,E),E.__parent._markers.push(k),k.__parent=E.__parent,E._icon&&(b.removeLayer(E),m||b.addLayer(k))):E._iconNeedsUpdate=!0,E=E.__parent;delete u.__parent},_isOrIsParent:function(u,f){for(;f;){if(u===f)return!0;f=f.parentNode}return!1},fire:function(u,f,m){if(f&&f.layer instanceof L.MarkerCluster){if(f.originalEvent&&this._isOrIsParent(f.layer._icon,f.originalEvent.relatedTarget))return;u="cluster"+u}L.FeatureGroup.prototype.fire.call(this,u,f,m)},listens:function(u,f){return L.FeatureGroup.prototype.listens.call(this,u,f)||L.FeatureGroup.prototype.listens.call(this,"cluster"+u,f)},_defaultIconCreateFunction:function(u){var f=u.getChildCount(),m=" marker-cluster-";return f<10?m+="small":f<100?m+="medium":m+="large",new L.DivIcon({html:"<div><span>"+f+"</span></div>",className:"marker-cluster"+m,iconSize:new L.Point(40,40)})},_bindEvents:function(){var u=this._map,f=this.options.spiderfyOnMaxZoom,m=this.options.showCoverageOnHover,x=this.options.zoomToBoundsOnClick,v=this.options.spiderfyOnEveryZoom;(f||x||v)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),m&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),u.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(u){var f=u.layer,m=f;if(!(u.type==="clusterkeypress"&&u.originalEvent&&u.originalEvent.keyCode!==13)){for(;m._childClusters.length===1;)m=m._childClusters[0];m._zoom===this._maxZoom&&m._childCount===f._childCount&&this.options.spiderfyOnMaxZoom?f.spiderfy():this.options.zoomToBoundsOnClick&&f.zoomToBounds(),this.options.spiderfyOnEveryZoom&&f.spiderfy(),u.originalEvent&&u.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(u){var f=this._map;this._inZoomAnimation||(this._shownPolygon&&f.removeLayer(this._shownPolygon),u.layer.getChildCount()>2&&u.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(u.layer.getConvexHull(),this.options.polygonOptions),f.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var u=this.options.spiderfyOnMaxZoom,f=this.options.showCoverageOnHover,m=this.options.zoomToBoundsOnClick,x=this.options.spiderfyOnEveryZoom,v=this._map;(u||m||x)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),f&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),v.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var u=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,u),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),u),this._currentShownBounds=u}},_generateInitialClusters:function(){var u=Math.ceil(this._map.getMaxZoom()),f=Math.floor(this._map.getMinZoom()),m=this.options.maxClusterRadius,x=m;typeof m!="function"&&(x=function(){return m}),this.options.disableClusteringAtZoom!==null&&(u=this.options.disableClusteringAtZoom-1),this._maxZoom=u,this._gridClusters={},this._gridUnclustered={};for(var v=u;v>=f;v--)this._gridClusters[v]=new L.DistanceGrid(x(v)),this._gridUnclustered[v]=new L.DistanceGrid(x(v));this._topClusterLevel=new this._markerCluster(this,f-1)},_addLayer:function(u,f){var m=this._gridClusters,x=this._gridUnclustered,v=Math.floor(this._map.getMinZoom()),b,w;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(u),u.on(this._childMarkerEventHandlers,this);f>=v;f--){b=this._map.project(u.getLatLng(),f);var j=m[f].getNearObject(b);if(j){j._addChild(u),u.__parent=j;return}if(j=x[f].getNearObject(b),j){var E=j.__parent;E&&this._removeLayer(j,!1);var A=new this._markerCluster(this,f,j,u);m[f].addObject(A,this._map.project(A._cLatLng,f)),j.__parent=A,u.__parent=A;var k=A;for(w=f-1;w>E._zoom;w--)k=new this._markerCluster(this,w,k),m[w].addObject(k,this._map.project(j.getLatLng(),w));E._addChild(k),this._removeFromGridUnclustered(j,f);return}x[f].addObject(u,b)}this._topClusterLevel._addChild(u),u.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(u){u instanceof L.MarkerCluster&&u._iconNeedsUpdate&&u._updateIcon()})},_enqueue:function(u){this._queue.push(u),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var u=0;u<this._queue.length;u++)this._queue[u].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var u=Math.round(this._map._zoom);this._processQueue(),this._zoom<u&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,u)):this._zoom>u?(this._animationStart(),this._animationZoomOut(this._zoom,u)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(u){var f=this._maxLat;return f!==void 0&&(u.getNorth()>=f&&(u._northEast.lat=1/0),u.getSouth()<=-f&&(u._southWest.lat=-1/0)),u},_animationAddLayerNonAnimated:function(u,f){if(f===u)this._featureGroup.addLayer(u);else if(f._childCount===2){f._addToMap();var m=f.getAllChildMarkers();this._featureGroup.removeLayer(m[0]),this._featureGroup.removeLayer(m[1])}else f._updateIcon()},_extractNonGroupLayers:function(u,f){var m=u.getLayers(),x=0,v;for(f=f||[];x<m.length;x++){if(v=m[x],v instanceof L.LayerGroup){this._extractNonGroupLayers(v,f);continue}f.push(v)}return f},_overrideMarkerIcon:function(u){var f=u.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[u]}});return f}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(u,f){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),u),this._topClusterLevel._recursivelyAddChildrenToMap(null,f,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(u,f){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),u),this._topClusterLevel._recursivelyAddChildrenToMap(null,f,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(u,f){this._animationAddLayerNonAnimated(u,f)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(u,f){var m=this._getExpandedVisibleBounds(),x=this._featureGroup,v=Math.floor(this._map.getMinZoom()),b;this._ignoreMove=!0,this._topClusterLevel._recursively(m,u,v,function(w){var j=w._latlng,E=w._markers,A;for(m.contains(j)||(j=null),w._isSingleParent()&&u+1===f?(x.removeLayer(w),w._recursivelyAddChildrenToMap(null,f,m)):(w.clusterHide(),w._recursivelyAddChildrenToMap(j,f,m)),b=E.length-1;b>=0;b--)A=E[b],m.contains(A._latlng)||x.removeLayer(A)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(m,f),x.eachLayer(function(w){!(w instanceof L.MarkerCluster)&&w._icon&&w.clusterShow()}),this._topClusterLevel._recursively(m,u,f,function(w){w._recursivelyRestoreChildPositions(f)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(m,u,v,function(w){x.removeLayer(w),w.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(u,f){this._animationZoomOutSingle(this._topClusterLevel,u-1,f),this._topClusterLevel._recursivelyAddChildrenToMap(null,f,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),u,this._getExpandedVisibleBounds())},_animationAddLayer:function(u,f){var m=this,x=this._featureGroup;x.addLayer(u),f!==u&&(f._childCount>2?(f._updateIcon(),this._forceLayout(),this._animationStart(),u._setPos(this._map.latLngToLayerPoint(f.getLatLng())),u.clusterHide(),this._enqueue(function(){x.removeLayer(u),u.clusterShow(),m._animationEnd()})):(this._forceLayout(),m._animationStart(),m._animationZoomOutSingle(f,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(u,f,m){var x=this._getExpandedVisibleBounds(),v=Math.floor(this._map.getMinZoom());u._recursivelyAnimateChildrenInAndAddSelfToMap(x,v,f+1,m);var b=this;this._forceLayout(),u._recursivelyBecomeVisible(x,m),this._enqueue(function(){if(u._childCount===1){var w=u._markers[0];this._ignoreMove=!0,w.setLatLng(w.getLatLng()),this._ignoreMove=!1,w.clusterShow&&w.clusterShow()}else u._recursively(x,m,v,function(j){j._recursivelyRemoveChildrenFromMap(x,v,f+1)});b._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(u){return new L.MarkerClusterGroup(u)};var c=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(u,f,m,x){L.Marker.prototype.initialize.call(this,m?m._cLatLng||m.getLatLng():new L.LatLng(0,0),{icon:this,pane:u.options.clusterPane}),this._group=u,this._zoom=f,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,m&&this._addChild(m),x&&this._addChild(x)},getAllChildMarkers:function(u,f){u=u||[];for(var m=this._childClusters.length-1;m>=0;m--)this._childClusters[m].getAllChildMarkers(u,f);for(var x=this._markers.length-1;x>=0;x--)f&&this._markers[x].__dragStart||u.push(this._markers[x]);return u},getChildCount:function(){return this._childCount},zoomToBounds:function(u){for(var f=this._childClusters.slice(),m=this._group._map,x=m.getBoundsZoom(this._bounds),v=this._zoom+1,b=m.getZoom(),w;f.length>0&&x>v;){v++;var j=[];for(w=0;w<f.length;w++)j=j.concat(f[w]._childClusters);f=j}x>v?this._group._map.setView(this._latlng,v):x<=b?this._group._map.setView(this._latlng,b+1):this._group._map.fitBounds(this._bounds,u)},getBounds:function(){var u=new L.LatLngBounds;return u.extend(this._bounds),u},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(u,f){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(u),u instanceof L.MarkerCluster?(f||(this._childClusters.push(u),u.__parent=this),this._childCount+=u._childCount):(f||this._markers.push(u),this._childCount++),this.__parent&&this.__parent._addChild(u,!0)},_setClusterCenter:function(u){this._cLatLng||(this._cLatLng=u._cLatLng||u._latlng)},_resetBounds:function(){var u=this._bounds;u._southWest&&(u._southWest.lat=1/0,u._southWest.lng=1/0),u._northEast&&(u._northEast.lat=-1/0,u._northEast.lng=-1/0)},_recalculateBounds:function(){var u=this._markers,f=this._childClusters,m=0,x=0,v=this._childCount,b,w,j,E;if(v!==0){for(this._resetBounds(),b=0;b<u.length;b++)j=u[b]._latlng,this._bounds.extend(j),m+=j.lat,x+=j.lng;for(b=0;b<f.length;b++)w=f[b],w._boundsNeedUpdate&&w._recalculateBounds(),this._bounds.extend(w._bounds),j=w._wLatLng,E=w._childCount,m+=j.lat*E,x+=j.lng*E;this._latlng=this._wLatLng=new L.LatLng(m/v,x/v),this._boundsNeedUpdate=!1}},_addToMap:function(u){u&&(this._backupLatlng=this._latlng,this.setLatLng(u)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(u,f,m){this._recursively(u,this._group._map.getMinZoom(),m-1,function(x){var v=x._markers,b,w;for(b=v.length-1;b>=0;b--)w=v[b],w._icon&&(w._setPos(f),w.clusterHide())},function(x){var v=x._childClusters,b,w;for(b=v.length-1;b>=0;b--)w=v[b],w._icon&&(w._setPos(f),w.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(u,f,m,x){this._recursively(u,x,f,function(v){v._recursivelyAnimateChildrenIn(u,v._group._map.latLngToLayerPoint(v.getLatLng()).round(),m),v._isSingleParent()&&m-1===x?(v.clusterShow(),v._recursivelyRemoveChildrenFromMap(u,f,m)):v.clusterHide(),v._addToMap()})},_recursivelyBecomeVisible:function(u,f){this._recursively(u,this._group._map.getMinZoom(),f,null,function(m){m.clusterShow()})},_recursivelyAddChildrenToMap:function(u,f,m){this._recursively(m,this._group._map.getMinZoom()-1,f,function(x){if(f!==x._zoom)for(var v=x._markers.length-1;v>=0;v--){var b=x._markers[v];m.contains(b._latlng)&&(u&&(b._backupLatlng=b.getLatLng(),b.setLatLng(u),b.clusterHide&&b.clusterHide()),x._group._featureGroup.addLayer(b))}},function(x){x._addToMap(u)})},_recursivelyRestoreChildPositions:function(u){for(var f=this._markers.length-1;f>=0;f--){var m=this._markers[f];m._backupLatlng&&(m.setLatLng(m._backupLatlng),delete m._backupLatlng)}if(u-1===this._zoom)for(var x=this._childClusters.length-1;x>=0;x--)this._childClusters[x]._restorePosition();else for(var v=this._childClusters.length-1;v>=0;v--)this._childClusters[v]._recursivelyRestoreChildPositions(u)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(u,f,m,x){var v,b;this._recursively(u,f-1,m-1,function(w){for(b=w._markers.length-1;b>=0;b--)v=w._markers[b],(!x||!x.contains(v._latlng))&&(w._group._featureGroup.removeLayer(v),v.clusterShow&&v.clusterShow())},function(w){for(b=w._childClusters.length-1;b>=0;b--)v=w._childClusters[b],(!x||!x.contains(v._latlng))&&(w._group._featureGroup.removeLayer(v),v.clusterShow&&v.clusterShow())})},_recursively:function(u,f,m,x,v){var b=this._childClusters,w=this._zoom,j,E;if(f<=w&&(x&&x(this),v&&w===m&&v(this)),w<f||w<m)for(j=b.length-1;j>=0;j--)E=b[j],E._boundsNeedUpdate&&E._recalculateBounds(),u.intersects(E._bounds)&&E._recursively(u,f,m,x,v)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var u=this.options.opacity;return this.setOpacity(0),this.options.opacity=u,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(u){this._cellSize=u,this._sqCellSize=u*u,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(u,f){var m=this._getCoord(f.x),x=this._getCoord(f.y),v=this._grid,b=v[x]=v[x]||{},w=b[m]=b[m]||[],j=L.Util.stamp(u);this._objectPoint[j]=f,w.push(u)},updateObject:function(u,f){this.removeObject(u),this.addObject(u,f)},removeObject:function(u,f){var m=this._getCoord(f.x),x=this._getCoord(f.y),v=this._grid,b=v[x]=v[x]||{},w=b[m]=b[m]||[],j,E;for(delete this._objectPoint[L.Util.stamp(u)],j=0,E=w.length;j<E;j++)if(w[j]===u)return w.splice(j,1),E===1&&delete b[m],!0},eachObject:function(u,f){var m,x,v,b,w,j,E,A=this._grid;for(m in A){w=A[m];for(x in w)for(j=w[x],v=0,b=j.length;v<b;v++)E=u.call(f,j[v]),E&&(v--,b--)}},getNearObject:function(u){var f=this._getCoord(u.x),m=this._getCoord(u.y),x,v,b,w,j,E,A,k,O=this._objectPoint,M=this._sqCellSize,B=null;for(x=m-1;x<=m+1;x++)if(w=this._grid[x],w){for(v=f-1;v<=f+1;v++)if(j=w[v],j)for(b=0,E=j.length;b<E;b++)A=j[b],k=this._sqDist(O[L.Util.stamp(A)],u),(k<M||k<=M&&B===null)&&(M=k,B=A)}return B},_getCoord:function(u){var f=Math.floor(u/this._cellSize);return isFinite(f)?f:u},_sqDist:function(u,f){var m=f.x-u.x,x=f.y-u.y;return m*m+x*x}},(function(){L.QuickHull={getDistant:function(u,f){var m=f[1].lat-f[0].lat,x=f[0].lng-f[1].lng;return x*(u.lat-f[0].lat)+m*(u.lng-f[0].lng)},findMostDistantPointFromBaseLine:function(u,f){var m=0,x=null,v=[],b,w,j;for(b=f.length-1;b>=0;b--){if(w=f[b],j=this.getDistant(w,u),j>0)v.push(w);else continue;j>m&&(m=j,x=w)}return{maxPoint:x,newPoints:v}},buildConvexHull:function(u,f){var m=[],x=this.findMostDistantPointFromBaseLine(u,f);return x.maxPoint?(m=m.concat(this.buildConvexHull([u[0],x.maxPoint],x.newPoints)),m=m.concat(this.buildConvexHull([x.maxPoint,u[1]],x.newPoints)),m):[u[0]]},getConvexHull:function(u){var f=!1,m=!1,x=!1,v=!1,b=null,w=null,j=null,E=null,A=null,k=null,O;for(O=u.length-1;O>=0;O--){var M=u[O];(f===!1||M.lat>f)&&(b=M,f=M.lat),(m===!1||M.lat<m)&&(w=M,m=M.lat),(x===!1||M.lng>x)&&(j=M,x=M.lng),(v===!1||M.lng<v)&&(E=M,v=M.lng)}m!==f?(k=w,A=b):(k=E,A=j);var B=[].concat(this.buildConvexHull([k,A],u),this.buildConvexHull([A,k],u));return B}}})(),L.MarkerCluster.include({getConvexHull:function(){var u=this.getAllChildMarkers(),f=[],m,x;for(x=u.length-1;x>=0;x--)m=u[x].getLatLng(),f.push(m);return L.QuickHull.getConvexHull(f)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var u=this.getAllChildMarkers(null,!0),f=this._group,m=f._map,x=m.latLngToLayerPoint(this._latlng),v;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?v=this._group.options.spiderfyShapePositions(u.length,x):u.length>=this._circleSpiralSwitchover?v=this._generatePointsSpiral(u.length,x):(x.y+=10,v=this._generatePointsCircle(u.length,x)),this._animationSpiderfy(u,v)}},unspiderfy:function(u){this._group._inZoomAnimation||(this._animationUnspiderfy(u),this._group._spiderfied=null)},_generatePointsCircle:function(u,f){var m=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+u),x=m/this._2PI,v=this._2PI/u,b=[],w,j;for(x=Math.max(x,35),b.length=u,w=0;w<u;w++)j=this._circleStartAngle+w*v,b[w]=new L.Point(f.x+x*Math.cos(j),f.y+x*Math.sin(j))._round();return b},_generatePointsSpiral:function(u,f){var m=this._group.options.spiderfyDistanceMultiplier,x=m*this._spiralLengthStart,v=m*this._spiralFootSeparation,b=m*this._spiralLengthFactor*this._2PI,w=0,j=[],E;for(j.length=u,E=u;E>=0;E--)E<u&&(j[E]=new L.Point(f.x+x*Math.cos(w),f.y+x*Math.sin(w))._round()),w+=v/x+E*5e-4,x+=b/w;return j},_noanimationUnspiderfy:function(){var u=this._group,f=u._map,m=u._featureGroup,x=this.getAllChildMarkers(null,!0),v,b;for(u._ignoreMove=!0,this.setOpacity(1),b=x.length-1;b>=0;b--)v=x[b],m.removeLayer(v),v._preSpiderfyLatlng&&(v.setLatLng(v._preSpiderfyLatlng),delete v._preSpiderfyLatlng),v.setZIndexOffset&&v.setZIndexOffset(0),v._spiderLeg&&(f.removeLayer(v._spiderLeg),delete v._spiderLeg);u.fire("unspiderfied",{cluster:this,markers:x}),u._ignoreMove=!1,u._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(u,f){var m=this._group,x=m._map,v=m._featureGroup,b=this._group.options.spiderLegPolylineOptions,w,j,E,A;for(m._ignoreMove=!0,w=0;w<u.length;w++)A=x.layerPointToLatLng(f[w]),j=u[w],E=new L.Polyline([this._latlng,A],b),x.addLayer(E),j._spiderLeg=E,j._preSpiderfyLatlng=j._latlng,j.setLatLng(A),j.setZIndexOffset&&j.setZIndexOffset(1e6),v.addLayer(j);this.setOpacity(.3),m._ignoreMove=!1,m.fire("spiderfied",{cluster:this,markers:u})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(u,f){var m=this,x=this._group,v=x._map,b=x._featureGroup,w=this._latlng,j=v.latLngToLayerPoint(w),E=L.Path.SVG,A=L.extend({},this._group.options.spiderLegPolylineOptions),k=A.opacity,O,M,B,T,D,V;for(k===void 0&&(k=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),E?(A.opacity=0,A.className=(A.className||"")+" leaflet-cluster-spider-leg"):A.opacity=k,x._ignoreMove=!0,O=0;O<u.length;O++)M=u[O],V=v.layerPointToLatLng(f[O]),B=new L.Polyline([w,V],A),v.addLayer(B),M._spiderLeg=B,E&&(T=B._path,D=T.getTotalLength()+.1,T.style.strokeDasharray=D,T.style.strokeDashoffset=D),M.setZIndexOffset&&M.setZIndexOffset(1e6),M.clusterHide&&M.clusterHide(),b.addLayer(M),M._setPos&&M._setPos(j);for(x._forceLayout(),x._animationStart(),O=u.length-1;O>=0;O--)V=v.layerPointToLatLng(f[O]),M=u[O],M._preSpiderfyLatlng=M._latlng,M.setLatLng(V),M.clusterShow&&M.clusterShow(),E&&(B=M._spiderLeg,T=B._path,T.style.strokeDashoffset=0,B.setStyle({opacity:k}));this.setOpacity(.3),x._ignoreMove=!1,setTimeout(function(){x._animationEnd(),x.fire("spiderfied",{cluster:m,markers:u})},200)},_animationUnspiderfy:function(u){var f=this,m=this._group,x=m._map,v=m._featureGroup,b=u?x._latLngToNewLayerPoint(this._latlng,u.zoom,u.center):x.latLngToLayerPoint(this._latlng),w=this.getAllChildMarkers(null,!0),j=L.Path.SVG,E,A,k,O,M,B;for(m._ignoreMove=!0,m._animationStart(),this.setOpacity(1),A=w.length-1;A>=0;A--)E=w[A],E._preSpiderfyLatlng&&(E.closePopup(),E.setLatLng(E._preSpiderfyLatlng),delete E._preSpiderfyLatlng,B=!0,E._setPos&&(E._setPos(b),B=!1),E.clusterHide&&(E.clusterHide(),B=!1),B&&v.removeLayer(E),j&&(k=E._spiderLeg,O=k._path,M=O.getTotalLength()+.1,O.style.strokeDashoffset=M,k.setStyle({opacity:0})));m._ignoreMove=!1,setTimeout(function(){var T=0;for(A=w.length-1;A>=0;A--)E=w[A],E._spiderLeg&&T++;for(A=w.length-1;A>=0;A--)E=w[A],E._spiderLeg&&(E.clusterShow&&E.clusterShow(),E.setZIndexOffset&&E.setZIndexOffset(0),T>1&&v.removeLayer(E),x.removeLayer(E._spiderLeg),delete E._spiderLeg);m._animationEnd(),m.fire("unspiderfied",{cluster:f,markers:w})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(u){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(u))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(u){this._spiderfied&&this._spiderfied.unspiderfy(u)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(u){u._spiderLeg&&(this._featureGroup.removeLayer(u),u.clusterShow&&u.clusterShow(),u.setZIndexOffset&&u.setZIndexOffset(0),this._map.removeLayer(u._spiderLeg),delete u._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(u){return u?u instanceof L.MarkerClusterGroup?u=u._topClusterLevel.getAllChildMarkers():u instanceof L.LayerGroup?u=u._layers:u instanceof L.MarkerCluster?u=u.getAllChildMarkers():u instanceof L.Marker&&(u=[u]):u=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(u),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(u),this},_flagParentsIconsNeedUpdate:function(u){var f,m;for(f in u)for(m=u[f].__parent;m;)m._iconNeedsUpdate=!0,m=m.__parent},_refreshSingleMarkerModeMarkers:function(u){var f,m;for(f in u)m=u[f],this.hasLayer(m)&&m.setIcon(this._overrideMarkerIcon(m))}}),L.Marker.include({refreshIconOptions:function(u,f){var m=this.options.icon;return L.setOptions(m,u),this.setIcon(m),f&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),a.MarkerClusterGroup=o,a.MarkerCluster=c,Object.defineProperty(a,"__esModule",{value:!0})})})($c,$c.exports)),$c.exports}lP();function a0(t){let i={},a={};const{children:o,...c}=t;return Object.entries(c).forEach(([u,f])=>{u.startsWith("on")?a={...a,[u]:f}:i={...i,[u]:f}}),{clusterProps:i,clusterEvents:a}}function cP(t,i){const{clusterProps:a,clusterEvents:o}=a0(t),c=new Gs.MarkerClusterGroup(a);return Object.entries(o).forEach(([u,f])=>{const m=`cluster${u.substring(2).toLowerCase()}`;c.on(m,f)}),Nu(c,mg(i,{layerContainer:c}))}var uP=(t,i,a)=>{const{clusterProps:o,clusterEvents:c}=a0(i),{clusterProps:u,clusterEvents:f}=a0(a);Object.keys(o).forEach(m=>{o[m]!==u[m]&&(t.options[m]=o[m])}),Object.entries(f).forEach(([m,x])=>{const v=`cluster${m.substring(2).toLowerCase()}`;t.off(v,x)}),Object.entries(c).forEach(([m,x])=>{const v=`cluster${m.substring(2).toLowerCase()}`;t.on(v,x)})},dP=gN(cP,uP),yN=dP;(function(){function t(i){return this instanceof t?(this._canvas=i=typeof i=="string"?document.getElementById(i):i,this._ctx=i.getContext("2d"),this._width=i.width,this._height=i.height,this._max=1,void this.clear()):new t(i)}t.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(i,a){return this._data=i,this},max:function(i){return this._max=i,this},add:function(i){return this._data.push(i),this},clear:function(){return this._data=[],this},radius:function(i,a){a=a||15;var o=this._circle=document.createElement("canvas"),c=o.getContext("2d"),u=this._r=i+a;return o.width=o.height=2*u,c.shadowOffsetX=c.shadowOffsetY=200,c.shadowBlur=a,c.shadowColor="black",c.beginPath(),c.arc(u-200,u-200,i,0,2*Math.PI,!0),c.closePath(),c.fill(),this},gradient:function(i){var a=document.createElement("canvas"),o=a.getContext("2d"),c=o.createLinearGradient(0,0,0,256);a.width=1,a.height=256;for(var u in i)c.addColorStop(u,i[u]);return o.fillStyle=c,o.fillRect(0,0,1,256),this._grad=o.getImageData(0,0,1,256).data,this},draw:function(i){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var a=this._ctx;a.clearRect(0,0,this._width,this._height);for(var o,c=0,u=this._data.length;u>c;c++)o=this._data[c],a.globalAlpha=Math.max(o[2]/this._max,i||.05),a.drawImage(this._circle,o[0]-this._r,o[1]-this._r);var f=a.getImageData(0,0,this._width,this._height);return this._colorize(f.data,this._grad),a.putImageData(f,0,0),this},_colorize:function(i,a){for(var o,c=3,u=i.length;u>c;c+=4)o=4*i[c],o&&(i[c-3]=a[o],i[c-2]=a[o+1],i[c-1]=a[o+2])}},window.simpleheat=t})(),L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(t,i){this._latlngs=t,L.setOptions(this,i)},setLatLngs:function(t){return this._latlngs=t,this.redraw()},addLatLng:function(t){return this._latlngs.push(t),this.redraw()},setOptions:function(t){return L.setOptions(this,t),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(t){this._map=t,this._canvas||this._initCanvas(),t._panes.overlayPane.appendChild(this._canvas),t.on("moveend",this._reset,this),t.options.zoomAnimation&&L.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._canvas),t.off("moveend",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},_initCanvas:function(){var t=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),i=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);t.style[i]="50% 50%";var a=this._map.getSize();t.width=a.x,t.height=a.y;var o=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(t,"leaflet-zoom-"+(o?"animated":"hide")),this._heat=simpleheat(t),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var t=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,t);var i=this._map.getSize();this._heat._width!==i.x&&(this._canvas.width=this._heat._width=i.x),this._heat._height!==i.y&&(this._canvas.height=this._heat._height=i.y),this._redraw()},_redraw:function(){var t,i,a,o,c,u,f,m,x,v=[],b=this._heat._r,w=this._map.getSize(),j=new L.Bounds(L.point([-b,-b]),w.add([b,b])),E=this.options.max===void 0?1:this.options.max,A=this.options.maxZoom===void 0?this._map.getMaxZoom():this.options.maxZoom,k=1/Math.pow(2,Math.max(0,Math.min(A-this._map.getZoom(),12))),O=b/2,M=[],B=this._map._getMapPanePos(),T=B.x%O,D=B.y%O;for(t=0,i=this._latlngs.length;i>t;t++)if(a=this._map.latLngToContainerPoint(this._latlngs[t]),j.contains(a)){c=Math.floor((a.x-T)/O)+2,u=Math.floor((a.y-D)/O)+2;var V=this._latlngs[t].alt!==void 0?this._latlngs[t].alt:this._latlngs[t][2]!==void 0?+this._latlngs[t][2]:1;x=V*k,M[u]=M[u]||[],o=M[u][c],o?(o[0]=(o[0]*o[2]+a.x*x)/(o[2]+x),o[1]=(o[1]*o[2]+a.y*x)/(o[2]+x),o[2]+=x):M[u][c]=[a.x,a.y,x]}for(t=0,i=M.length;i>t;t++)if(M[t])for(f=0,m=M[t].length;m>f;f++)o=M[t][f],o&&v.push([Math.round(o[0]),Math.round(o[1]),Math.min(o[2],E)]);this._heat.data(v).draw(this.options.minOpacity),this._frame=null},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),a=this._map._getCenterOffset(t.center)._multiplyBy(-i).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,a,i):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(a)+" scale("+i+")"}}),L.heatLayer=function(t,i){return new L.HeatLayer(t,i)};delete Gs.Icon.Default.prototype._getIconUrl;Gs.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const P1=t=>{const i={reported:"#eab308",acknowledged:"#3b82f6","in-progress":"#8b5cf6",resolved:"#10b981",rejected:"#ef4444"},a=i[t]||i.reported;return Gs.divIcon({className:"custom-marker",html:`
      <div style="
        width: 30px;
        height: 30px;
        background: ${a};
        border: 3px solid white;
        border-radius: 50%;
        box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        display: flex;
        align-items: center;
        justify-content: center;
      ">
        <div style="
          width: 10px;
          height: 10px;
          background: white;
          border-radius: 50%;
        "></div>
      </div>
    `,iconSize:[30,30],iconAnchor:[15,15],popupAnchor:[0,-15]})};function hP({points:t,intensity:i=.5}){const a=Mf(),o=N.useRef(null);return N.useEffect(()=>{if(!a||t.length===0)return;o.current&&a.removeLayer(o.current);const c=t.map(u=>[u.lat,u.lng,u.intensity||1]);return o.current=Gs.heatLayer(c,{radius:25,blur:15,maxZoom:17,max:1,gradient:{0:"#0000ff",.2:"#00ffff",.4:"#00ff00",.6:"#ffff00",.8:"#ff9900",1:"#ff0000"}}).addTo(a),()=>{o.current&&a.removeLayer(o.current)}},[a,t,i]),null}function fP({position:t}){const i=Mf();if(N.useEffect(()=>{t&&i.setView(t,13)},[t,i]),!t)return null;const a=Gs.divIcon({className:"user-location-marker",html:`
      <div style="
        width: 20px;
        height: 20px;
        background: #f43f5e;
        border: 4px solid white;
        border-radius: 50%;
        box-shadow: 0 0 10px rgba(244, 63, 94, 0.5), 0 0 20px rgba(244, 63, 94, 0.3);
        animation: pulse 2s infinite;
      "></div>
      <style>
        @keyframes pulse {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.2); }
        }
      </style>
    `,iconSize:[20,20],iconAnchor:[10,10]});return e.jsxs(e.Fragment,{children:[e.jsx(Wr,{position:t,icon:a,children:e.jsx(Qr,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-semibold text-sm",children:"Your Location"}),e.jsxs("p",{className:"text-xs text-gray-600",children:[t[0].toFixed(6),", ",t[1].toFixed(6)]})]})})}),e.jsx(vN,{center:t,radius:500,pathOptions:{color:"#f43f5e",fillColor:"#f43f5e",fillOpacity:.1,weight:2,dashArray:"5, 5"}})]})}function mP({onZoomIn:t,onZoomOut:i,onRecenter:a,onFullscreen:o}){return e.jsxs("div",{className:"absolute right-4 top-4 z-[1000] flex flex-col gap-2",children:[e.jsx("button",{onClick:t,className:"rounded-lg bg-white p-2 shadow-lg transition-all hover:bg-gray-100",title:"Zoom In",children:e.jsx(KT,{className:"h-5 w-5 text-gray-700"})}),e.jsx("button",{onClick:i,className:"rounded-lg bg-white p-2 shadow-lg transition-all hover:bg-gray-100",title:"Zoom Out",children:e.jsx(QT,{className:"h-5 w-5 text-gray-700"})}),e.jsx("button",{onClick:a,className:"rounded-lg bg-white p-2 shadow-lg transition-all hover:bg-gray-100",title:"Recenter to Your Location",children:e.jsx(rj,{className:"h-5 w-5 text-gray-700"})}),e.jsx("button",{onClick:o,className:"rounded-lg bg-white p-2 shadow-lg transition-all hover:bg-gray-100",title:"Fullscreen",children:e.jsx(ij,{className:"h-5 w-5 text-gray-700"})})]})}function pP(){const[t,i]=N.useState(null),[a,o]=N.useState([]),[c,u]=N.useState(!0),[f,m]=N.useState(!0),[x,v]=N.useState(!0),[b,w]=N.useState(!0),[j,E]=N.useState(!1),[A,k]=N.useState("all"),[O,M]=N.useState("all"),[B,T]=N.useState(!1),[D,V]=N.useState(""),R=N.useRef(null);N.useEffect(()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(F=>{const{latitude:ve,longitude:U}=F.coords;i([ve,U]),u(!1)},F=>{console.error("Error getting location:",F),i([40.7128,-74.006]),u(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):(i([40.7128,-74.006]),u(!1))},[]),N.useEffect(()=>{const F=async()=>{try{const U=await $e.getIssues(),J=(U.data?.issues||U.issues||[]).filter(ae=>ae.location&&ae.location.lat&&ae.location.lng);o(J)}catch(U){console.error("Error loading issues for map:",U),o([])}};F();const ve=()=>F();return window.addEventListener("issueCreated",ve),()=>window.removeEventListener("issueCreated",ve)},[]);const Z=a.filter(F=>!(A!=="all"&&F.status!==A||O!=="all"&&F.category!==O||D&&!F.title.toLowerCase().includes(D.toLowerCase()))),H=Z.map(F=>({lat:F.location.lat,lng:F.location.lng,intensity:F.status==="reported"?1:F.status==="in-progress"?.7:.3})),G=()=>{R.current&&R.current.setZoom(R.current.getZoom()+1)},ee=()=>{R.current&&R.current.setZoom(R.current.getZoom()-1)},Y=()=>{R.current&&t&&R.current.setView(t,13)},K=()=>{const F=document.getElementById("issue-map-container");F.requestFullscreen&&F.requestFullscreen()},le=F=>{switch(F){case"reported":return e.jsx(bs,{className:"h-4 w-4 text-yellow-500"});case"acknowledged":return e.jsx(Ot,{className:"h-4 w-4 text-blue-500"});case"in-progress":return e.jsx(Ot,{className:"h-4 w-4 text-violet-500"});case"resolved":return e.jsx(Be,{className:"h-4 w-4 text-green-500"});case"rejected":return e.jsx(Zs,{className:"h-4 w-4 text-red-500"});default:return e.jsx(Je,{className:"h-4 w-4"})}};return c?e.jsx("div",{className:"flex h-[600px] items-center justify-center rounded-xl bg-white/5",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-4 border-rose-500 border-t-transparent mx-auto"}),e.jsx("p",{className:"text-white/60",children:"Loading map..."})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white sm:text-3xl",children:"Community Issue Map"}),e.jsxs("p",{className:"text-sm text-white/60",children:[Z.length," issue",Z.length!==1?"s":""," in your area"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("button",{onClick:()=>m(!f),className:`flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all ${f?"bg-gradient-to-r from-rose-500 to-violet-500 text-white":"bg-white/10 text-white/60 hover:bg-white/20"}`,children:[e.jsx(Lx,{className:"h-4 w-4"}),"Heatmap"]}),e.jsxs("button",{onClick:()=>v(!x),className:`flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all ${x?"bg-gradient-to-r from-rose-500 to-violet-500 text-white":"bg-white/10 text-white/60 hover:bg-white/20"}`,children:[e.jsx(Je,{className:"h-4 w-4"}),"Markers"]}),e.jsxs("button",{onClick:()=>w(!b),className:`flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all ${b?"bg-gradient-to-r from-rose-500 to-violet-500 text-white":"bg-white/10 text-white/60 hover:bg-white/20"}`,title:"Cluster nearby markers",children:[e.jsx(Lx,{className:"h-4 w-4"}),"Cluster"]}),e.jsxs("button",{onClick:()=>E(!j),className:`flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all ${j?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white":"bg-white/10 text-white/60 hover:bg-white/20"}`,title:"Toggle dark mode tiles",children:[j?e.jsx(aj,{className:"h-4 w-4"}):e.jsx(oj,{className:"h-4 w-4"}),j?"Dark":"Light"]}),e.jsxs("button",{onClick:()=>T(!B),className:"flex items-center gap-2 rounded-lg bg-white/10 px-3 py-2 text-sm font-medium text-white/60 transition-all hover:bg-white/20",children:[e.jsx(yf,{className:"h-4 w-4"}),"Filters"]})]})]}),B&&e.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm text-white/60",children:"Status"}),e.jsxs("select",{value:A,onChange:F=>k(F.target.value),className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white outline-none",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"reported",children:"Reported"}),e.jsx("option",{value:"acknowledged",children:"Acknowledged"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"resolved",children:"Resolved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm text-white/60",children:"Category"}),e.jsxs("select",{value:O,onChange:F=>M(F.target.value),className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white outline-none",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"pothole",children:"Potholes"}),e.jsx("option",{value:"streetlight",children:"Street Lights"}),e.jsx("option",{value:"graffiti",children:"Graffiti"}),e.jsx("option",{value:"garbage",children:"Garbage"}),e.jsx("option",{value:"water",children:"Water Issues"}),e.jsx("option",{value:"traffic",children:"Traffic"}),e.jsx("option",{value:"parks",children:"Parks"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm text-white/60",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(Za,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:D,onChange:F=>V(F.target.value),placeholder:"Search issues...",className:"w-full rounded-lg border border-white/10 bg-white/5 py-2 pl-10 pr-3 text-white outline-none placeholder-white/40"})]})]})]})}),e.jsxs("div",{id:"issue-map-container",className:"relative overflow-hidden rounded-xl border border-white/10 shadow-2xl",style:{height:"600px"},children:[t&&e.jsxs(gg,{center:t,zoom:13,style:{height:"100%",width:"100%"},ref:R,children:[j?e.jsx(af,{attribution:' <a href="https://stadiamaps.com/">Stadia Maps</a>,  <a href="https://openmaptiles.org/">OpenMapTiles</a>  <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',url:"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",maxZoom:20}):e.jsx(af,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.jsx(fP,{position:t}),f&&e.jsx(hP,{points:H}),x&&(b?e.jsx(yN,{chunkedLoading:!0,maxClusterRadius:50,spiderfyOnMaxZoom:!0,showCoverageOnHover:!1,zoomToBoundsOnClick:!0,iconCreateFunction:F=>{const ve=F.getChildCount();let U="small",ne="bg-rose-500";ve>10?(U="large",ne="bg-red-600"):ve>5&&(U="medium",ne="bg-rose-500");const J=U==="large"?"w-14 h-14 text-lg":U==="medium"?"w-12 h-12 text-base":"w-10 h-10 text-sm";return Gs.divIcon({html:`<div class="flex items-center justify-center ${J} ${ne} text-white rounded-full border-4 border-white shadow-lg font-bold">${ve}</div>`,className:"custom-cluster-icon",iconSize:Gs.point(40,40,!0)})},children:Z.map(F=>e.jsx(Wr,{position:[F.location.lat,F.location.lng],icon:P1(F.status),children:e.jsx(Qr,{children:e.jsxs("div",{className:"min-w-[200px]",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[le(F.status),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-sm",children:F.title}),e.jsx("p",{className:"text-xs text-gray-600 capitalize",children:F.category})]})]}),e.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[e.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${F.status==="reported"?"bg-yellow-100 text-yellow-700":F.status==="in-progress"?"bg-violet-100 text-violet-700":F.status==="resolved"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:F.status}),e.jsx("button",{className:"text-xs text-blue-600 hover:underline",children:"View Details"})]})]})})},F.id))}):Z.map(F=>e.jsx(Wr,{position:[F.location.lat,F.location.lng],icon:P1(F.status),children:e.jsx(Qr,{children:e.jsxs("div",{className:"min-w-[200px]",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[le(F.status),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-sm",children:F.title}),e.jsx("p",{className:"text-xs text-gray-600 capitalize",children:F.category})]})]}),e.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[e.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${F.status==="reported"?"bg-yellow-100 text-yellow-700":F.status==="in-progress"?"bg-violet-100 text-violet-700":F.status==="resolved"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:F.status}),e.jsx("button",{className:"text-xs text-blue-600 hover:underline",children:"View Details"})]})]})})},F.id))),e.jsx(mP,{onZoomIn:G,onZoomOut:ee,onRecenter:Y,onFullscreen:K})]}),e.jsxs("div",{className:"absolute bottom-4 left-4 z-[1000] rounded-lg bg-white p-4 shadow-lg",children:[e.jsx("h4",{className:"mb-2 text-sm font-semibold text-gray-800",children:"Legend"}),e.jsx("div",{className:"space-y-2",children:[{status:"reported",label:"Reported",color:"#eab308"},{status:"acknowledged",label:"Acknowledged",color:"#3b82f6"},{status:"in-progress",label:"In Progress",color:"#8b5cf6"},{status:"resolved",label:"Resolved",color:"#10b981"},{status:"rejected",label:"Rejected",color:"#ef4444"}].map(F=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-white shadow",style:{backgroundColor:F.color}}),e.jsx("span",{className:"text-xs text-gray-700",children:F.label})]},F.status))})]})]})]})}const xP=t=>{const i={reported:"#eab308",acknowledged:"#3b82f6","in-progress":"#8b5cf6",resolved:"#10b981",rejected:"#ef4444"},a=i[t]||i.reported;return Gs.divIcon({className:"custom-marker",html:`
      <div style="
        width: 20px;
        height: 20px;
        background: ${a};
        border: 2px solid white;
        border-radius: 50%;
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
      "></div>
    `,iconSize:[20,20],iconAnchor:[10,10],popupAnchor:[0,-10]})};function gP({role:t="citizen",compact:i=!1}){const a=Gt(),[o,c]=N.useState(null),[u,f]=N.useState([]),[m,x]=N.useState(!0);N.useEffect(()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(j=>{const{latitude:E,longitude:A}=j.coords;c([E,A]),v(E,A)},j=>{console.error("Error getting location:",j),c([40.7128,-74.006]),v(40.7128,-74.006)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}):(c([40.7128,-74.006]),v(40.7128,-74.006))},[]);const v=async(j,E)=>{try{const A=await $e.getIssues(),O=(A.data?.issues||A.issues||[]).filter(M=>M.location&&M.location.lat&&M.location.lng).map(M=>{const B=M.location.lat-j,T=M.location.lng-E,D=Math.sqrt(B*B+T*T)*111;return{...M,distance:`${D.toFixed(1)} km`}}).sort((M,B)=>parseFloat(M.distance)-parseFloat(B.distance));f(O.slice(0,10))}catch(A){console.error("Error loading nearby issues:",A),f([])}finally{x(!1)}},b=()=>{a(`/dashboard/${t}/map`)};if(m)return e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-2 h-8 w-8 animate-spin rounded-full border-4 border-rose-500 border-t-transparent mx-auto"}),e.jsx("p",{className:"text-sm text-white/60",children:"Loading nearby issues..."})]})});if(!o)return e.jsx("div",{className:"flex h-full items-center justify-center text-white/60",children:e.jsx("p",{className:"text-sm",children:"Unable to load map"})});const w=i?"300px":"400px";return e.jsxs("div",{className:"relative h-full overflow-hidden rounded-xl border border-white/10",children:[e.jsxs(gg,{center:o,zoom:14,style:{height:w,width:"100%"},zoomControl:!1,attributionControl:!1,children:[e.jsx(af,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.jsx(Wr,{position:o,icon:Gs.divIcon({className:"user-location-pulse",html:`
              <div style="
                width: 16px;
                height: 16px;
                background: #f43f5e;
                border: 3px solid white;
                border-radius: 50%;
                box-shadow: 0 0 8px rgba(244, 63, 94, 0.6);
              "></div>
            `,iconSize:[16,16],iconAnchor:[8,8]}),children:e.jsx(Qr,{children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xs font-semibold",children:"Your Location"})})})}),e.jsx(vN,{center:o,radius:2e3,pathOptions:{color:"#f43f5e",fillColor:"#f43f5e",fillOpacity:.05,weight:1,dashArray:"5, 5"}}),u.map(j=>e.jsx(Wr,{position:[j.location.lat,j.location.lng],icon:xP(j.status),children:e.jsx(Qr,{children:e.jsxs("div",{className:"min-w-[150px]",children:[e.jsx("h4",{className:"text-xs font-semibold",children:j.title}),e.jsx("p",{className:"text-xs text-gray-600 capitalize",children:j.category}),j.distance&&e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[j.distance," away"]}),e.jsx("span",{className:`mt-2 inline-block rounded-full px-2 py-0.5 text-xs ${j.status==="reported"?"bg-yellow-100 text-yellow-700":j.status==="in-progress"?"bg-violet-100 text-violet-700":j.status==="resolved"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:j.status})]})})},j.id))]}),e.jsx("div",{className:"absolute right-2 top-2 z-[1000] flex flex-col gap-1",children:e.jsx("button",{onClick:b,className:"rounded-lg bg-white p-2 shadow-lg transition-all hover:bg-gray-100",title:"View Full Map",children:e.jsx(ij,{className:"h-4 w-4 text-gray-700"})})}),e.jsx("div",{className:"absolute bottom-2 left-2 z-[1000] rounded-lg bg-black/80 px-3 py-1.5 backdrop-blur-sm",children:e.jsxs("p",{className:"text-xs text-white",children:[e.jsx("span",{className:"font-bold text-rose-400",children:u.length})," issues within 2km"]})})]})}const vP=({points:t,options:i={}})=>{const a=Mf();return N.useEffect(()=>{if(!t||t.length===0)return;const o=t.map(m=>[m.lat,m.lng,m.intensity||1]),u={...{radius:25,blur:15,maxZoom:17,max:1,gradient:{0:"blue",.5:"lime",.7:"yellow",.85:"orange",1:"red"}},...i},f=Gs.heatLayer(o,u);return f.addTo(a),()=>{a.removeLayer(f)}},[a,t,i]),null};delete Gs.Icon.Default.prototype._getIconUrl;Gs.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const D1=t=>{const i={reported:"#ef4444",acknowledged:"#f59e0b","in-progress":"#3b82f6",resolved:"#10b981",rejected:"#6b7280"};return Gs.divIcon({className:"custom-marker",html:`
      <div style="
        background-color: ${i[t]||"#6b7280"};
        width: 28px;
        height: 28px;
        border-radius: 50% 50% 50% 0;
        transform: rotate(-45deg);
        border: 3px solid white;
        box-shadow: 0 2px 8px rgba(0,0,0,0.3);
      ">
        <div style="
          transform: rotate(45deg);
          margin-top: 4px;
          margin-left: 5px;
        ">
          <div style="
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
          "></div>
        </div>
      </div>
    `,iconSize:[28,28],iconAnchor:[14,28],popupAnchor:[0,-28]})},yP=({center:t,zoom:i})=>{const a=Mf();return N.useEffect(()=>{t&&a.setView(t,i)},[t,i,a]),null},vg=({userRole:t="citizen",defaultCenter:i=[28.6139,77.209],defaultZoom:a=12,height:o="600px"})=>{const[c,u]=N.useState([]),[f,m]=N.useState(!0),[x,v]=N.useState(null),[b,w]=N.useState(null),[j,E]=N.useState({status:"all",category:"all",priority:"all"}),[A,k]=N.useState("heatmap"),[O,M]=N.useState(i),[B,T]=N.useState(a);N.useEffect(()=>{D()},[j]);const D=async()=>{try{m(!0),v(null);const G=await $e.getAllIssues(j);u(G.data?.issues||[])}catch(G){console.error("Error fetching issues:",G),v("Failed to load issues. Please try again.")}finally{m(!1)}},V=(G,ee)=>{let Y=.5;return G==="high"?Y=1:G==="medium"?Y=.6:Y=.3,ee==="reported"?Y*=1.2:ee==="resolved"&&(Y*=.5),Y},R=N.useMemo(()=>c.filter(G=>G.location?.lat&&G.location?.lng).map(G=>({lat:G.location.lat,lng:G.location.lng,intensity:V(G.priority,G.status)})),[c]),Z=(G,ee)=>{E(Y=>({...Y,[G]:ee}))},H=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(G=>{const{latitude:ee,longitude:Y}=G.coords;M([ee,Y]),T(14)},G=>{console.error("Error getting location:",G),alert("Unable to retrieve your location")}):alert("Geolocation is not supported by your browser")};return N.useMemo(()=>["reported","acknowledged","in-progress","resolved"].map(ee=>({status:ee,count:c.filter(Y=>Y.status===ee).length})),[c]),f?e.jsx("div",{className:"flex items-center justify-center h-96 bg-white rounded-lg shadow",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading map data..."})]})}):x?e.jsx("div",{className:"flex items-center justify-center h-96 bg-white rounded-lg shadow",children:e.jsxs("div",{className:"text-center text-red-600",children:[e.jsx(bs,{size:48,className:"mx-auto mb-4"}),e.jsx("p",{children:x})]})}):e.jsxs("div",{className:"bg-gradient-to-b from-gray-900 via-violet-900 to-black text-white rounded-xl overflow-hidden shadow-2xl",children:[e.jsx("style",{children:`.heatmap-select, .heatmap-select option { background-color: #1b1229; color: #ffffff; }
        .heatmap-select { -webkit-appearance: none; appearance: none; }
        `}),e.jsx("div",{className:"px-6 py-8 lg:py-10 bg-gradient-to-r from-violet-700 via-rose-600 to-indigo-700",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"h-14 w-14 rounded-lg bg-white/10 flex items-center justify-center backdrop-blur-sm",children:e.jsx(Je,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl lg:text-4xl font-extrabold leading-tight",children:[t==="citizen"&&"Your Local Issues Map",t==="official"&&"Official Dashboard Map",t==="community"&&"Community Issues Overview"]}),e.jsxs("p",{className:"mt-2 text-white/80",children:[c.length," issues displayed"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>k("heatmap"),className:`px-4 py-2 rounded-full font-semibold transition-shadow ${A==="heatmap"?"bg-white text-violet-700 shadow-2xl":"bg-white/10 text-white/90 hover:bg-white/20"}`,children:"Heatmap"}),e.jsx("button",{onClick:()=>k("markers"),className:`px-4 py-2 rounded-full font-semibold transition-shadow ${A==="markers"?"bg-white text-violet-700 shadow-2xl":"bg-white/10 text-white/90 hover:bg-white/20"}`,children:"Markers"}),e.jsx("button",{onClick:()=>k("clusters"),className:`px-4 py-2 rounded-full font-semibold transition-shadow ${A==="clusters"?"bg-white text-violet-700 shadow-2xl":"bg-white/10 text-white/90 hover:bg-white/20"}`,children:"Clusters"})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 -mt-6 mb-6",children:e.jsxs("div",{className:"rounded-xl border border-white/6 bg-white/3 backdrop-blur-md p-4 grid gap-4 lg:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-white/80 mb-1",children:"Status"}),e.jsxs("select",{value:j.status,onChange:G=>Z("status",G.target.value),className:"w-full rounded-lg border border-white/10 bg-transparent px-3 py-2 text-white heatmap-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"reported",children:"Reported"}),e.jsx("option",{value:"acknowledged",children:"Acknowledged"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"resolved",children:"Resolved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-white/80 mb-1",children:"Category"}),e.jsxs("select",{value:j.category,onChange:G=>Z("category",G.target.value),className:"w-full rounded-lg border border-white/10 bg-transparent px-3 py-2 text-white heatmap-select",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"pothole",children:"Pothole"}),e.jsx("option",{value:"streetlight",children:"Streetlight"}),e.jsx("option",{value:"graffiti",children:"Graffiti"}),e.jsx("option",{value:"garbage",children:"Garbage"}),e.jsx("option",{value:"water",children:"Water"}),e.jsx("option",{value:"traffic",children:"Traffic"}),e.jsx("option",{value:"parks",children:"Parks"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-white/80 mb-1",children:"Priority"}),e.jsxs("select",{value:j.priority,onChange:G=>Z("priority",G.target.value),className:"w-full rounded-lg border border-white/10 bg-transparent px-3 py-2 text-white heatmap-select",children:[e.jsx("option",{value:"all",children:"All Priorities"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:H,className:"w-full rounded-lg bg-gradient-to-r from-rose-500 to-violet-500 px-4 py-2 font-semibold text-white shadow-lg flex items-center justify-center gap-2",children:[e.jsx(rj,{size:18}),"Locate Me"]})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 pb-8",children:e.jsx("div",{className:"rounded-xl overflow-hidden border border-white/6 shadow-2xl",style:{height:o,background:"#0b1220"},children:e.jsxs(gg,{center:O,zoom:B,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[e.jsx(yP,{center:O,zoom:B}),e.jsx(af,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),A==="heatmap"&&R.length>0&&e.jsx(vP,{points:R,options:{radius:25,blur:15,max:1,gradient:{0:"blue",.5:"lime",.7:"yellow",.85:"orange",1:"red"}}}),A==="markers"&&c.filter(G=>G.location?.lat&&G.location?.lng).map(G=>e.jsx(Wr,{position:[G.location.lat,G.location.lng],icon:D1(G.status),eventHandlers:{click:()=>w(G)},children:e.jsx(Qr,{children:e.jsxs("div",{className:"p-2 min-w-[220px]",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:G.title}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-100",children:[e.jsxs("p",{className:"text-white/70",children:[G.description?.substring(0,100),"..."]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${G.status==="reported"?"bg-red-100 text-red-700":G.status==="acknowledged"?"bg-yellow-100 text-yellow-700":G.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:G.status}),e.jsx("span",{className:"px-2 py-1 rounded text-xs bg-white/10 text-white/90",children:G.category})]}),G.images&&G.images.length>0&&e.jsx("img",{src:G.images[0],alt:"Issue",className:"w-full h-24 object-cover rounded mt-2"})]})]})})},G._id||G.id)),A==="clusters"&&e.jsx(yN,{chunkedLoading:!0,children:c.filter(G=>G.location?.lat&&G.location?.lng).map(G=>e.jsx(Wr,{position:[G.location.lat,G.location.lng],icon:D1(G.status),eventHandlers:{click:()=>w(G)},children:e.jsx(Qr,{children:e.jsxs("div",{className:"p-2 min-w-[220px]",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:G.title}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-100",children:[e.jsxs("p",{className:"text-white/70",children:[G.description?.substring(0,100),"..."]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${G.status==="reported"?"bg-red-100 text-red-700":G.status==="acknowledged"?"bg-yellow-100 text-yellow-700":G.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:G.status}),e.jsx("span",{className:"px-2 py-1 rounded text-xs bg-white/10 text-white/90",children:G.category})]})]})]})})},G._1d||G.id))})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 pb-8",children:e.jsxs("div",{className:"rounded-xl border border-white/6 bg-white/3 backdrop-blur-md p-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[e.jsx(Lx,{className:"w-4 h-4"})," Heatmap Legend"]}),e.jsxs("div",{className:"flex flex-wrap gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-4 w-4 rounded-full bg-red-500 shadow-md"}),e.jsx("span",{className:"text-sm text-white/80",children:"Reported"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-4 w-4 rounded-full bg-yellow-500 shadow-md"}),e.jsx("span",{className:"text-sm text-white/80",children:"Acknowledged"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-4 w-4 rounded-full bg-blue-500 shadow-md"}),e.jsx("span",{className:"text-sm text-white/80",children:"In Progress"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-4 w-4 rounded-full bg-green-500 shadow-md"}),e.jsx("span",{className:"text-sm text-white/80",children:"Resolved"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-4 w-4 rounded-full bg-gray-500 shadow-md"}),e.jsx("span",{className:"text-sm text-white/80",children:"Rejected"})]})]})]})})]})};function bN({isOpen:t,onClose:i,message:a}){const o=Gt();if(!t)return null;const c=()=>{i(),o("/profile")};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:i}),e.jsxs("div",{className:"relative z-10 w-full max-w-md mx-4 rounded-2xl border border-amber-500/30 bg-gradient-to-br from-slate-900 to-slate-800 p-6 shadow-2xl",children:[e.jsx("button",{onClick:i,className:"absolute right-4 top-4 rounded-lg p-1 text-white/40 hover:bg-white/10 hover:text-white transition-colors",children:e.jsx(ls,{className:"h-5 w-5"})}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-amber-500/20 ring-4 ring-amber-500/10",children:e.jsx(bs,{className:"h-8 w-8 text-amber-400"})})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Profile Incomplete"}),e.jsx("p",{className:"text-white/60",children:a||"Please complete your profile to report an issue. This helps us verify and process your reports efficiently."})]}),e.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Vi,{className:"h-5 w-5 text-rose-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-white/70",children:[e.jsx("p",{className:"font-medium text-white mb-1",children:"Required Information:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-white/60",children:[e.jsx("li",{children:"Full Address (House No, Area, City, District, State, Pincode)"}),e.jsx("li",{children:"Aadhaar Number"}),e.jsx("li",{children:"Mobile Number"})]})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:i,className:"flex-1 rounded-xl border border-white/10 py-3 text-white/70 hover:bg-white/5 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:c,className:"flex-1 flex items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-rose-500 to-pink-500 py-3 font-semibold text-white shadow-lg shadow-rose-500/20 hover:shadow-xl hover:shadow-rose-500/30 transition-all",children:[e.jsx("span",{children:"Complete Profile"}),e.jsx(Bi,{className:"h-4 w-4"})]})]})]})]})}const bP={totalIssues:12,activeIssues:5,resolutionRate:68,totalUpvotes:45},z1=[{id:"ISS-001",title:"Large pothole on Main Street",description:"There's a dangerous pothole near the intersection.",category:"pothole",priority:"high",status:"in-progress",location:{address:"123 Main Street"},upvotes:24,comments:[{id:1}],createdAt:"2024-12-20T10:30:00Z",updatedAt:"2024-12-24T15:45:00Z",images:["https://images.unsplash.com/photo-1515162816999-a0c47dc192f7?w=400"]},{id:"ISS-002",title:"Broken street light at Oak Avenue",description:"Street light has been out for 3 days.",category:"streetlight",priority:"medium",status:"acknowledged",location:{address:"45 Oak Avenue"},upvotes:12,comments:[],createdAt:"2024-12-22T08:00:00Z",updatedAt:"2024-12-23T09:15:00Z",images:[]},{id:"ISS-003",title:"Garbage overflow at Central Park",description:"Bins have been overflowing for days.",category:"garbage",priority:"medium",status:"reported",location:{address:"Central Park"},upvotes:8,comments:[],createdAt:"2024-12-24T14:00:00Z",updatedAt:"2024-12-24T14:00:00Z",images:[]}];function wP(){const t=Gt(),[i,a]=N.useState(!1),[o,c]=N.useState(!1),[u,f]=N.useState(null),[m,x]=N.useState(bP),[v,b]=N.useState(z1),[w,j]=N.useState(0);N.useEffect(()=>{(async()=>{try{const D=await Yr.checkProfileCompletion();f(D.data?.isProfileComplete??D.isProfileComplete??!1)}catch(D){console.error("Error checking profile:",D),f(!0)}})()},[]);const E=()=>{u===!1?c(!0):a(!0)};Jt.useEffect(()=>{A(),k()},[w]),Jt.useEffect(()=>{const T=()=>{console.log(" Dashboard: Issue created event received"),j(R=>R+1)},D=()=>{console.log(" Dashboard: Issue updated event received"),j(R=>R+1)},V=()=>{console.log(" Dashboard: Issue deleted event received"),j(R=>R+1)};return window.addEventListener("issueCreated",T),window.addEventListener("issueUpdated",D),window.addEventListener("issueDeleted",V),()=>{window.removeEventListener("issueCreated",T),window.removeEventListener("issueUpdated",D),window.removeEventListener("issueDeleted",V)}},[]);const A=async()=>{try{const T=await $e.getIssues({limit:6});if(T.data&&T.data.issues){const D=T.data.issues.sort((V,R)=>new Date(R.createdAt)-new Date(V.createdAt)).slice(0,6);b(D)}}catch(T){console.error("Failed to load recent issues:",T),b(z1)}},k=async()=>{try{const T=await $e.getIssues({});if(T.data&&T.data.issues){const D=T.data.issues,V=D.filter(G=>["reported","acknowledged","in-progress"].includes(G.status)).length,R=D.filter(G=>G.status==="resolved").length,Z=D.length>0?Math.round(R/D.length*100):0,H=D.reduce((G,ee)=>G+(ee.upvotes?.length||0),0);x({totalIssues:D.length,activeIssues:V,resolutionRate:Z,totalUpvotes:H})}}catch(T){console.error("Failed to update stats:",T)}},O=T=>{console.log("View issue:",T.id)},M=async T=>{try{const D=await $e.upvoteIssue(T);b(V=>V.map(R=>R._id===T?{...R,upvotes:Array.isArray(R.upvotes)?[...R.upvotes]:[],upvoteCount:D.data.upvotes}:R)),k(),console.log(" Issue upvoted:",T)}catch(D){console.error("Failed to upvote:",D)}},B=T=>{console.log(" New issue created:",T.id),j(D=>D+1),console.log("Dashboard refreshed with new issue")};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col justify-between gap-4 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white sm:text-3xl",children:"Welcome back! "}),e.jsx("p",{className:"text-white/60",children:"Here's what's happening in your community."})]}),e.jsxs("button",{onClick:E,className:"inline-flex items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-rose-500 to-violet-500 px-6 py-3 font-medium text-white transition-all hover:scale-105 hover:shadow-lg hover:shadow-rose-500/25",children:[e.jsx(cl,{className:"h-5 w-5"}),"Report Issue"]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(yi,{title:"Community Issues",value:m.totalIssues,icon:wi,color:"rose",trend:"up",trendValue:12}),e.jsx(yi,{title:"Active Issues",value:m.activeIssues,icon:Ot,color:"violet"}),e.jsx(yi,{title:"Resolution Rate",value:`${m.resolutionRate}%`,icon:Be,color:"emerald",trend:"up",trendValue:5}),e.jsx(yi,{title:"Community Upvotes",value:m.totalUpvotes,icon:Kn,color:"amber",trend:"up",trendValue:8})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Community Recent Issues"}),e.jsxs("button",{onClick:()=>t("/dashboard/citizen/issues"),className:"flex items-center gap-1 text-sm text-rose-400 transition-colors hover:text-rose-300",children:["View all",e.jsx(Bi,{className:"h-4 w-4"})]})]}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:v.map(T=>e.jsx(hN,{issue:T,onView:O,onUpvote:M},T._id||T.id))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Issues Near You"}),e.jsxs("button",{onClick:()=>t("/dashboard/citizen/map"),className:"flex items-center gap-1 text-sm text-rose-400 transition-colors hover:text-rose-300",children:["Open full map",e.jsx(Bi,{className:"h-4 w-4"})]})]}),e.jsx("div",{className:"h-[400px]",children:e.jsx(gP,{role:"citizen",compact:!0})})]}),e.jsx(fg,{isOpen:i,onClose:()=>a(!1),onSuccess:B}),e.jsx(bN,{isOpen:o,onClose:()=>c(!1)})]})}function _P(){return e.jsx(hg,{role:"citizen",children:e.jsxs(cf,{children:[e.jsx(qe,{index:!0,element:e.jsx(wP,{})}),e.jsx(qe,{path:"issues",element:e.jsx(qO,{})}),e.jsx(qe,{path:"report",element:e.jsx(jP,{})}),e.jsx(qe,{path:"map",element:e.jsx(NP,{})}),e.jsx(qe,{path:"heatmap",element:e.jsx(SP,{})}),e.jsx(qe,{path:"notifications",element:e.jsx(CP,{})}),e.jsx(qe,{path:"profile",element:e.jsx(kP,{})}),e.jsx(qe,{path:"settings",element:e.jsx(TP,{})})]})})}function jP(){const[t,i]=N.useState(!0),[a,o]=N.useState(!1),[c,u]=N.useState(null),[f,m]=N.useState(!0),x=Gt();N.useEffect(()=>{(async()=>{try{const w=await Yr.checkProfileCompletion(),j=w.data?.isProfileComplete??w.isProfileComplete??!1;u(j),j||(o(!0),i(!1))}catch(w){console.error("Error checking profile:",w),u(!0)}finally{m(!1)}})()},[]);const v=b=>{console.log("Issue created:",b),x("/dashboard/citizen/issues")};return f?e.jsx("div",{className:"flex h-64 items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})}):e.jsxs("div",{children:[e.jsx(bN,{isOpen:a,onClose:()=>{o(!1),x("/dashboard/citizen")}}),c&&e.jsx(fg,{isOpen:t,onClose:()=>x("/dashboard/citizen"),onSuccess:v})]})}function NP(){return e.jsx(pP,{})}function SP(){return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white sm:text-3xl",children:"Issues Heatmap"}),e.jsx("p",{className:"text-sm text-white/60",children:"Visualize issue density in your area"})]})}),e.jsx(vg,{userRole:"citizen",defaultCenter:[28.6139,77.209],defaultZoom:12,height:"calc(100vh - 250px)"})]})}function CP(){const[t,i]=Jt.useState([{id:1,type:"status_update",title:"Issue #ISS-001 status updated",message:"Your pothole report is now In Progress",issueId:"ISS-001",time:"2 hours ago",timestamp:new Date(Date.now()-72e5).toISOString(),unread:!0,icon:""},{id:2,type:"comment",title:"New comment on your issue",message:"An official has responded to your report",issueId:"ISS-001",time:"5 hours ago",timestamp:new Date(Date.now()-18e6).toISOString(),unread:!0,icon:""},{id:3,type:"resolution",title:"Issue resolved",message:"Street light repair has been completed",issueId:"ISS-002",time:"1 day ago",timestamp:new Date(Date.now()-864e5).toISOString(),unread:!1,icon:""},{id:4,type:"upvote",title:"Your issue gained traction",message:"5 citizens upvoted your report",issueId:"ISS-001",time:"2 days ago",timestamp:new Date(Date.now()-1728e5).toISOString(),unread:!1,icon:""},{id:5,type:"assignment",title:"Issue assigned",message:"Your report has been assigned to the Public Works Department",issueId:"ISS-003",time:"3 days ago",timestamp:new Date(Date.now()-2592e5).toISOString(),unread:!1,icon:""}]),[a,o]=Jt.useState("all"),c=()=>{i(v=>v.map(b=>({...b,unread:!1})))},u=v=>{i(b=>b.map(w=>w.id===v?{...w,unread:!1}:w))},f=v=>{i(b=>b.filter(w=>w.id!==v))},m=t.filter(v=>a==="unread"?v.unread:a==="read"?!v.unread:!0),x=t.filter(v=>v.unread).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white sm:text-3xl",children:"Notifications"}),e.jsx("p",{className:"text-sm text-white/60",children:x>0?`${x} unread notification${x>1?"s":""}`:"All caught up!"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:c,disabled:x===0,className:"rounded-lg bg-white/5 px-4 py-2 text-sm text-white/60 transition-colors hover:bg-white/10 hover:text-white disabled:opacity-50",children:"Mark all as read"})})]}),e.jsx("div",{className:"flex gap-2 border-b border-white/10",children:["all","unread","read"].map(v=>e.jsxs("button",{onClick:()=>o(v),className:`px-4 py-2 text-sm font-medium transition-colors ${a===v?"border-b-2 border-rose-500 text-white":"text-white/60 hover:text-white"}`,children:[v.charAt(0).toUpperCase()+v.slice(1),v==="unread"&&x>0&&e.jsx("span",{className:"ml-2 rounded-full bg-rose-500 px-2 py-0.5 text-xs text-white",children:x})]},v))}),e.jsx("div",{className:"space-y-3",children:m.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl border border-white/10 bg-white/5 py-16",children:[e.jsx(Ii,{className:"mb-4 h-16 w-16 text-white/20"}),e.jsx("p",{className:"text-lg text-white/60",children:"No notifications"}),e.jsx("p",{className:"text-sm text-white/40",children:a==="unread"?"You're all caught up!":a==="read"?"No read notifications yet":"You'll see notifications here"})]}):m.map(v=>e.jsx("div",{onClick:()=>v.unread&&u(v.id),className:`group relative cursor-pointer rounded-xl border p-4 transition-all hover:scale-[1.01] ${v.unread?"border-rose-500/30 bg-rose-500/10":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-rose-500/20 to-violet-500/20 text-2xl",children:v.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-white",children:v.title}),e.jsx("p",{className:"mt-1 text-sm text-white/70",children:v.message}),v.issueId&&e.jsx("span",{className:"mt-2 inline-block rounded-full bg-white/10 px-2 py-0.5 text-xs text-white/60",children:v.issueId})]}),v.unread&&e.jsx("span",{className:"h-2 w-2 shrink-0 rounded-full bg-rose-500"})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-white/40",children:[e.jsx(Ot,{className:"h-3 w-3"}),v.time]})]}),e.jsx("button",{onClick:b=>{b.stopPropagation(),f(v.id)},className:"shrink-0 rounded-lg p-2 text-white/40 opacity-0 transition-all hover:bg-rose-500/20 hover:text-rose-400 group-hover:opacity-100",title:"Delete notification",children:e.jsx(ls,{className:"h-4 w-4"})})]})},v.id))})]})}function kP(){const{user:t}=$t(),[i,a]=Jt.useState(!1),[o,c]=Jt.useState({username:t?.username||"John Doe",email:t?.email||"john@example.com",phone:t?.phone||"+1 (555) 123-4567",address:t?.address||"123 Main Street, Anytown, USA",bio:t?.bio||"Active community member dedicated to improving local infrastructure."}),u=()=>{a(!1),console.log("Profile updated:",o)},f=[{label:"Issues Reported",value:12,icon:wi},{label:"Issues Resolved",value:8,icon:Be},{label:"Total Upvotes",value:45,icon:Kn},{label:"Active Days",value:23,icon:Ot}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white sm:text-3xl",children:"Profile"}),e.jsx("button",{onClick:()=>i?u():a(!0),className:"rounded-lg bg-gradient-to-r from-rose-500 to-violet-500 px-4 py-2 text-sm font-medium text-white transition-all hover:scale-105",children:i?"Save Changes":"Edit Profile"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-rose-500 to-violet-500 text-4xl font-bold text-white",children:o.username.charAt(0).toUpperCase()}),e.jsx("button",{className:"absolute bottom-0 right-0 rounded-full bg-rose-500 p-2 text-white shadow-lg transition-all hover:scale-110",children:e.jsx(Kr,{className:"h-4 w-4"})})]}),e.jsx("h2",{className:"text-xl font-bold text-white",children:o.username}),e.jsx("p",{className:"text-sm text-white/60",children:o.email}),e.jsx("span",{className:"mt-2 inline-block rounded-full bg-rose-500/20 px-3 py-1 text-xs font-medium text-rose-400",children:t?.role?.toUpperCase()||"CITIZEN"}),e.jsx("p",{className:"mt-4 text-sm text-white/70",children:o.bio}),e.jsxs("div",{className:"mt-6 w-full rounded-lg bg-white/5 p-3",children:[e.jsx("p",{className:"text-xs text-white/40",children:"Member Since"}),e.jsx("p",{className:"font-semibold text-white",children:new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"})})]})]})})}),e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:f.map((m,x)=>{const v=m.icon;return e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4 text-rose-400"}),e.jsx("p",{className:"text-xs text-white/60",children:m.label})]}),e.jsx("p",{className:"mt-2 text-2xl font-bold text-white",children:m.value})]},x)})}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-white",children:"Personal Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60",children:"Username"}),e.jsx("input",{type:"text",value:o.username,onChange:m=>c({...o,username:m.target.value}),disabled:!i,className:"mt-1 w-full rounded-lg border border-white/10 bg-white/5 px-4 py-2 text-white outline-none transition-colors focus:border-rose-500/50 disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60",children:"Email"}),e.jsx("input",{type:"email",value:o.email,onChange:m=>c({...o,email:m.target.value}),disabled:!i,className:"mt-1 w-full rounded-lg border border-white/10 bg-white/5 px-4 py-2 text-white outline-none transition-colors focus:border-rose-500/50 disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60",children:"Phone"}),e.jsx("input",{type:"tel",value:o.phone,onChange:m=>c({...o,phone:m.target.value}),disabled:!i,className:"mt-1 w-full rounded-lg border border-white/10 bg-white/5 px-4 py-2 text-white outline-none transition-colors focus:border-rose-500/50 disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60",children:"Address"}),e.jsx("input",{type:"text",value:o.address,onChange:m=>c({...o,address:m.target.value}),disabled:!i,className:"mt-1 w-full rounded-lg border border-white/10 bg-white/5 px-4 py-2 text-white outline-none transition-colors focus:border-rose-500/50 disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60",children:"Bio"}),e.jsx("textarea",{value:o.bio,onChange:m=>c({...o,bio:m.target.value}),disabled:!i,rows:3,className:"mt-1 w-full rounded-lg border border-white/10 bg-white/5 px-4 py-2 text-white outline-none transition-colors focus:border-rose-500/50 disabled:opacity-50"})]})]})]})]})]})]})}function TP(){const[t,i]=Jt.useState({emailNotifications:!0,pushNotifications:!0,smsAlerts:!1,issueUpdates:!0,communityDigest:!0,marketingEmails:!1}),a=c=>{i(u=>({...u,[c]:!u[c]}))},o=()=>{console.log("Settings saved:",t)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white sm:text-3xl",children:"Settings"}),e.jsx("button",{onClick:o,className:"rounded-lg bg-gradient-to-r from-rose-500 to-violet-500 px-4 py-2 text-sm font-medium text-white transition-all hover:scale-105",children:"Save Changes"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold text-white",children:"Notification Preferences"}),e.jsx("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Email Notifications",description:"Receive updates via email"},{key:"pushNotifications",label:"Push Notifications",description:"Browser push notifications"},{key:"smsAlerts",label:"SMS Alerts",description:"Text message notifications"},{key:"issueUpdates",label:"Issue Updates",description:"Updates on your reported issues"},{key:"communityDigest",label:"Community Digest",description:"Weekly summary of community activity"},{key:"marketingEmails",label:"Marketing Emails",description:"Product updates and news"}].map(c=>e.jsxs("label",{className:"flex items-center justify-between rounded-lg bg-white/5 p-4 transition-colors hover:bg-white/10",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white",children:c.label}),e.jsx("p",{className:"text-sm text-white/60",children:c.description})]}),e.jsx("input",{type:"checkbox",checked:t[c.key],onChange:()=>a(c.key),className:"h-5 w-5 rounded border-white/20 bg-white/5 text-rose-500 focus:ring-rose-500"})]},c.key))})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold text-white",children:"Privacy & Security"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{className:"w-full rounded-lg bg-white/5 px-4 py-3 text-left text-white transition-colors hover:bg-white/10",children:"Change Password"}),e.jsx("button",{className:"w-full rounded-lg bg-white/5 px-4 py-3 text-left text-white transition-colors hover:bg-white/10",children:"Two-Factor Authentication"}),e.jsx("button",{className:"w-full rounded-lg bg-white/5 px-4 py-3 text-left text-white transition-colors hover:bg-white/10",children:"Download My Data"}),e.jsx("button",{className:"w-full rounded-lg bg-rose-500/20 px-4 py-3 text-left text-rose-400 transition-colors hover:bg-rose-500/30",children:"Delete Account"})]})]})]})]})}const Yo={reported:{label:"Reported",color:"bg-gray-500/20 text-gray-400",order:0},acknowledged:{label:"Acknowledged",color:"bg-blue-500/20 text-blue-400",order:1},"in-progress":{label:"In Progress",color:"bg-amber-500/20 text-amber-400",order:2},resolved:{label:"Resolved",color:"bg-emerald-500/20 text-emerald-400",order:3},rejected:{label:"Rejected",color:"bg-rose-500/20 text-rose-400",order:4}},Ir={high:{label:"High",color:"text-rose-400",bg:"bg-rose-500/20"},medium:{label:"Medium",color:"text-amber-400",bg:"bg-amber-500/20"},low:{label:"Low",color:"text-emerald-400",bg:"bg-emerald-500/20"}};function EP({viewMode:t="table"}){const{user:i}=$t(),a=Gt(),o=!!i?.isOfficialAdmin,[c,u]=N.useState([]),[f,m]=N.useState(!0),[x,v]=N.useState(null),[b,w]=N.useState(""),[j,E]=N.useState(null),[A,k]=N.useState(!1),[O,M]=N.useState(t),[B,T]=N.useState([]),[D,V]=N.useState(!1);N.useEffect(()=>{R(),o?Z():T([])},[o]);const R=async()=>{try{m(!0),v(null);const F=o?await $e.getIssues():await $e.getAssignedIssues(),ve=F.data?.issues||F.issues||[];u(ve)}catch(F){console.error("Error loading issues:",F),v(F.message||"Failed to load issues")}finally{m(!1)}},Z=async()=>{try{if(!o)return;const F=await $e.getTeamMembers();T(F.data?.members||[])}catch(F){console.error("Error loading team members:",F),T([])}},H=c.filter(F=>F.title.toLowerCase().includes(b.toLowerCase())||F.issueId&&F.issueId.toLowerCase().includes(b.toLowerCase())),G=Object.keys(Yo).reduce((F,ve)=>(F[ve]=H.filter(U=>U.status===ve),F),{});if(f)return e.jsx("div",{className:"flex h-96 items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Pe,{className:"h-12 w-12 animate-spin text-rose-500 mx-auto mb-4"}),e.jsx("p",{className:"text-white/60",children:"Loading issues..."})]})});if(x)return e.jsx("div",{className:"flex h-96 items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(vt,{className:"h-12 w-12 text-rose-500 mx-auto mb-4"}),e.jsx("p",{className:"text-rose-400 mb-2",children:"Failed to load issues"}),e.jsx("p",{className:"text-white/60 text-sm mb-4",children:x}),e.jsx("button",{onClick:R,className:"px-4 py-2 rounded-lg bg-rose-500 text-white hover:bg-rose-600 transition-colors",children:"Retry"})]})});const ee=async(F,ve)=>{try{V(!0),await $e.updateIssue(F,{status:ve}),u(U=>U.map(ne=>ne._id===F?{...ne,status:ve}:ne)),console.log(`Issue ${F} status updated to ${ve}`)}catch(U){console.error("Error updating status:",U),alert("Failed to update issue status. Please try again.")}finally{V(!1)}},Y=async(F,ve)=>{try{V(!0),await $e.assignIssue(F,ve.userId||ve._id),u(U=>U.map(ne=>ne._id===F?{...ne,assignedTo:ve,status:"in-progress"}:ne)),k(!1),E(null),console.log(`Issue ${F} assigned to ${ve.username}`)}catch(U){console.error("Error assigning issue:",U),alert("Failed to assign issue. Please try again.")}finally{V(!1)}},K=async F=>{if(confirm("Are you sure you want to delete this issue?"))try{V(!0),await $e.deleteIssue(F),u(ve=>ve.filter(U=>U._id!==F)),console.log(`Issue ${F} deleted successfully`)}catch(ve){console.error("Error deleting issue:",ve),alert("Failed to delete issue. Please try again.")}finally{V(!1)}},le=F=>new Date(F).toLocaleDateString("en-US",{month:"short",day:"numeric"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Issue Management"}),e.jsxs("p",{className:"text-sm text-white/60",children:[c.length," total issues"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Za,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",placeholder:"Search issues...",value:b,onChange:F=>w(F.target.value),className:"h-10 w-48 rounded-lg border border-white/10 bg-white/5 pl-10 pr-4 text-sm text-white placeholder-white/40 outline-none focus:border-rose-500/50"})]}),o&&e.jsxs("div",{className:"flex overflow-hidden rounded-lg border border-white/10",children:[e.jsx("button",{onClick:()=>M("kanban"),className:_e("px-3 py-2 text-sm transition-colors",O==="kanban"?"bg-white/10 text-white":"text-white/40 hover:text-white"),children:"Kanban"}),e.jsx("button",{onClick:()=>M("table"),className:_e("px-3 py-2 text-sm transition-colors",O==="table"?"bg-white/10 text-white":"text-white/40 hover:text-white"),children:"Table"})]})]})]}),!o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:H.map(F=>e.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 p-5 backdrop-blur-sm transition-all hover:border-rose-500/30 hover:bg-white/10",children:[e.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-br from-rose-500/10 to-violet-500/10 opacity-60"}),e.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-0 transition-opacity group-hover:opacity-100 bg-gradient-to-br from-rose-500/10 via-transparent to-violet-500/10"}),e.jsxs("div",{className:"mb-3 flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"mb-1 flex items-center gap-2",children:e.jsx("span",{className:_e("rounded-full px-2 py-0.5 text-xs font-medium",Yo[F.status]?.color),children:Yo[F.status]?.label})}),e.jsx("h4",{className:"truncate text-lg font-semibold text-white",children:F.title}),e.jsx("p",{className:"mt-1 text-xs text-white/40",children:F._id})]}),e.jsx("span",{className:_e("rounded-full px-2 py-0.5 text-xs",Ir[F.priority]?.bg,Ir[F.priority]?.color),children:Ir[F.priority]?.label||F.priority})]}),e.jsxs("div",{className:"space-y-2 text-sm text-white/70",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"h-4 w-4 text-white/40"}),e.jsx("span",{className:"truncate",children:F.location?.address||"Unknown location"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"h-4 w-4 text-white/40"}),e.jsx("span",{children:le(F.createdAt)})]})]}),e.jsx("div",{className:"mt-4 border-t border-white/10 pt-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-white/40",children:"Issue ID"}),e.jsx("span",{className:"text-sm font-semibold text-white",children:F.issueId})]})}),e.jsxs("button",{onClick:()=>a(`/dashboard/official/issue/${F._id}`),className:"mt-4 flex w-full items-center justify-center gap-2 rounded-lg bg-gradient-to-r from-rose-500 to-violet-500 px-4 py-2.5 text-sm font-medium text-white transition-all hover:scale-[1.02] hover:shadow-lg hover:shadow-rose-500/20",children:[e.jsx(Fa,{className:"h-4 w-4"}),"View Details"]})]},F._id))}),H.length===0&&e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 py-16 text-center",children:[e.jsx(vt,{className:"mx-auto mb-4 h-12 w-12 text-white/30"}),e.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"No assigned issues"}),e.jsx("p",{className:"text-sm text-white/60",children:b?"Try a different search.":"You don't have any assigned issues yet."})]})]}),o&&O==="kanban"&&e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:Object.entries(Yo).map(([F,ve])=>e.jsxs("div",{className:"flex w-72 flex-shrink-0 flex-col rounded-xl border border-white/10 bg-white/5",children:[e.jsx("div",{className:"flex items-center justify-between border-b border-white/10 p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:_e("rounded-full px-2 py-1 text-xs font-medium",ve.color),children:ve.label}),e.jsx("span",{className:"text-sm text-white/40",children:G[F]?.length||0})]})}),e.jsxs("div",{className:"flex-1 space-y-3 p-3",children:[G[F]?.map(U=>e.jsxs("div",{className:"group rounded-lg border border-white/10 bg-black/30 p-4 transition-all hover:border-rose-500/30",children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[e.jsx("span",{className:"text-xs text-white/40",children:U.issueId}),e.jsx("span",{className:_e("rounded px-1.5 py-0.5 text-xs",Ir[U.priority]?.bg,Ir[U.priority]?.color),children:U.priority})]}),e.jsx("h4",{className:"mb-2 text-sm font-medium text-white line-clamp-2",children:U.title}),e.jsxs("div",{className:"mb-3 flex items-center gap-2 text-xs text-white/40",children:[e.jsx(Je,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:U.location?.address||"Unknown location"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[U.assignedTo?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-br from-rose-500 to-violet-500 text-xs font-medium text-white",children:U.assignedTo.username?.substring(0,2).toUpperCase()}),e.jsx("span",{className:"text-xs text-white/60",children:U.assignedTo.username})]}):o?e.jsx("button",{onClick:()=>{E(U),k(!0)},className:"text-xs text-rose-400 hover:text-rose-300",disabled:D,children:"Assign"}):e.jsx("span",{className:"text-xs text-white/30",children:"Unassigned"}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("button",{onClick:()=>ee(U._id,F==="reported"?"acknowledged":F==="acknowledged"?"in-progress":F==="in-progress"?"resolved":F),className:"rounded p-1 text-white/40 hover:bg-white/10 hover:text-white",disabled:D||F==="resolved",title:"Move to next stage",children:D?e.jsx(Pe,{className:"h-4 w-4 animate-spin"}):e.jsx(A3,{className:"h-4 w-4"})})})]})]},U._id)),G[F]?.length===0&&e.jsx("div",{className:"py-8 text-center text-sm text-white/20",children:"No issues"})]})]},F))}),o&&O==="table"&&e.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/10 bg-white/5",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/60",children:"ID"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/60",children:"Title"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/60",children:"Priority"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/60",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/60",children:"Assignee"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/60",children:"Location"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/60",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/60",children:"Actions"})]})}),e.jsx("tbody",{children:H.map(F=>e.jsxs("tr",{className:"border-b border-white/5 transition-colors hover:bg-white/5",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-white/60",children:F.issueId}),e.jsx("td",{className:"max-w-[200px] px-4 py-3",children:e.jsx("span",{className:"text-sm text-white line-clamp-1",children:F.title})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:_e("rounded px-2 py-1 text-xs",Ir[F.priority]?.bg,Ir[F.priority]?.color),children:F.priority})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("select",{value:F.status,onChange:ve=>ee(F._id,ve.target.value),disabled:D,className:_e("rounded border-none bg-transparent px-2 py-1 text-xs outline-none cursor-pointer",Yo[F.status]?.color),children:Object.entries(Yo).map(([ve,U])=>e.jsx("option",{value:ve,className:"bg-black",children:U.label},ve))})}),e.jsx("td",{className:"px-4 py-3",children:F.assignedTo?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-br from-rose-500 to-violet-500 text-xs text-white",children:F.assignedTo.username?.substring(0,2).toUpperCase()}),e.jsx("span",{className:"text-xs text-white/60",children:F.assignedTo.username})]}):o?e.jsx("button",{onClick:()=>{E(F),k(!0)},disabled:D,className:"text-xs text-rose-400 hover:text-rose-300",children:"Assign"}):e.jsx("span",{className:"text-xs text-white/30",children:"Unassigned"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-white/40",children:F.location?.address||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-sm text-white/40",children:le(F.createdAt)}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{onClick:()=>K(F._id),disabled:D,className:"rounded p-1 text-white/40 hover:bg-rose-500/20 hover:text-rose-400",title:"Delete issue",children:e.jsx(Q_,{className:"h-4 w-4"})})})]},F._id))})]})}),A&&j&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl border border-white/10 bg-[#0a0a0a] p-6",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-white",children:"Assign Issue"}),e.jsxs("p",{className:"mb-4 text-sm text-white/60",children:["Assign ",e.jsx("span",{className:"text-white",children:j.issueId})," to a team member"]}),e.jsx("div",{className:"space-y-2",children:B.length>0?B.map(F=>e.jsxs("button",{onClick:()=>Y(j._id,F),disabled:D,className:"flex w-full items-center gap-3 rounded-lg border border-white/10 p-3 text-left transition-colors hover:border-rose-500/30 hover:bg-white/5 disabled:opacity-50",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-rose-500 to-violet-500 font-medium text-white",children:F.username?.substring(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:F.username}),e.jsx("p",{className:"text-xs text-white/60",children:F.role||"Team Member"})]})]},F._id)):e.jsx("p",{className:"text-center text-white/60 py-4",children:"No team members available"})}),e.jsx("button",{onClick:()=>{k(!1),E(null)},className:"mt-4 w-full rounded-lg border border-white/10 py-2 text-sm text-white/60 hover:bg-white/5",children:"Cancel"})]})})]})}function AP({issue:t,isOpen:i,onClose:a,onSubmit:o}){const[c,u]=N.useState({verificationOutcome:"",rootCause:"",requiredSteps:"",resourceRequirements:"",remarks:""}),[f,m]=N.useState([]),[x,v]=N.useState([]),[b,w]=N.useState(!1),[j,E]=N.useState({}),A=(T,D)=>{u(V=>({...V,[T]:D})),j[T]&&E(V=>({...V,[T]:null}))},k=T=>{const D=Array.from(T.target.files);D.length>0&&(m(V=>[...V,...D]),D.forEach(V=>{const R=new FileReader;R.onloadend=()=>{v(Z=>[...Z,R.result])},R.readAsDataURL(V)}))},O=T=>{m(D=>D.filter((V,R)=>R!==T)),v(D=>D.filter((V,R)=>R!==T))},M=()=>{const T={};return c.verificationOutcome||(T.verificationOutcome="Please select a verification outcome"),c.verificationOutcome==="verified"&&(c.rootCause.trim()||(T.rootCause="Root cause analysis is required for verified issues"),c.requiredSteps.trim()||(T.requiredSteps="Required steps must be specified")),c.verificationOutcome==="not-verified"&&(c.remarks.trim()||(T.remarks="Please provide remarks explaining why the issue could not be verified")),E(T),Object.keys(T).length===0},B=async T=>{if(T.preventDefault(),!!M()){w(!0);try{const D=new FormData;D.append("reportType","verification"),D.append("outcome",c.verificationOutcome),D.append("rootCause",c.rootCause||""),D.append("remarks",c.remarks||""),f.forEach(V=>{D.append("images",V)}),await o(D),u({verificationOutcome:"",rootCause:"",requiredSteps:"",resourceRequirements:"",remarks:""}),m([]),v([]),a()}catch(D){console.error("Verification submission error:",D)}finally{w(!1)}}};return i?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"relative max-h-[90vh] w-full max-w-2xl overflow-hidden rounded-2xl border border-white/10 bg-[#0a0a0a]",children:[e.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between border-b border-white/10 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 px-6 py-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Issue Verification Report"}),e.jsx("p",{className:"text-sm text-white/60",children:"Document your on-site verification findings"})]}),e.jsx("button",{onClick:a,className:"rounded-full p-2 text-white/60 transition-colors hover:bg-white/10 hover:text-white",children:e.jsx(ls,{className:"h-5 w-5"})})]}),e.jsx("form",{onSubmit:B,className:"max-h-[calc(90vh-140px)] overflow-y-auto p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsx("p",{className:"text-xs text-white/40",children:"Verifying Issue"}),e.jsx("p",{className:"font-medium text-white",children:t?.title}),e.jsxs("p",{className:"text-sm text-white/60",children:["ID: ",t?.issueId||t?._id]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white",children:[e.jsx(W_,{className:"h-4 w-4 text-blue-400"}),"Verification Outcome ",e.jsx("span",{className:"text-rose-400",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>A("verificationOutcome","verified"),className:_e("flex items-center justify-center gap-2 rounded-xl border p-4 transition-all",c.verificationOutcome==="verified"?"border-emerald-500 bg-emerald-500/20 text-emerald-400":"border-white/10 bg-white/5 text-white/60 hover:border-white/20 hover:bg-white/10"),children:[e.jsx(Be,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Verified"})]}),e.jsxs("button",{type:"button",onClick:()=>A("verificationOutcome","not-verified"),className:_e("flex items-center justify-center gap-2 rounded-xl border p-4 transition-all",c.verificationOutcome==="not-verified"?"border-rose-500 bg-rose-500/20 text-rose-400":"border-white/10 bg-white/5 text-white/60 hover:border-white/20 hover:bg-white/10"),children:[e.jsx(Zs,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Not Verified"})]})]}),j.verificationOutcome&&e.jsx("p",{className:"text-sm text-rose-400",children:j.verificationOutcome})]}),c.verificationOutcome==="verified"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white",children:[e.jsx(vt,{className:"h-4 w-4 text-amber-400"}),"Root Cause Analysis ",e.jsx("span",{className:"text-rose-400",children:"*"})]}),e.jsx("textarea",{value:c.rootCause,onChange:T=>A("rootCause",T.target.value),placeholder:"Describe the identified root cause of the issue...",rows:3,className:_e("w-full rounded-xl border bg-white/5 px-4 py-3 text-white placeholder-white/40 outline-none transition-colors",j.rootCause?"border-rose-500":"border-white/10 focus:border-blue-500/50")}),j.rootCause&&e.jsx("p",{className:"text-sm text-rose-400",children:j.rootCause})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white",children:[e.jsx(_f,{className:"h-4 w-4 text-blue-400"}),"Required Remediation Steps ",e.jsx("span",{className:"text-rose-400",children:"*"})]}),e.jsx("textarea",{value:c.requiredSteps,onChange:T=>A("requiredSteps",T.target.value),placeholder:"List the steps required to resolve this issue...",rows:3,className:_e("w-full rounded-xl border bg-white/5 px-4 py-3 text-white placeholder-white/40 outline-none transition-colors",j.requiredSteps?"border-rose-500":"border-white/10 focus:border-blue-500/50")}),j.requiredSteps&&e.jsx("p",{className:"text-sm text-rose-400",children:j.requiredSteps})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white",children:[e.jsx(T0,{className:"h-4 w-4 text-violet-400"}),"Resource Requirements"]}),e.jsx("textarea",{value:c.resourceRequirements,onChange:T=>A("resourceRequirements",T.target.value),placeholder:"Specify any equipment, materials, or personnel required...",rows:2,className:"w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-white placeholder-white/40 outline-none transition-colors focus:border-blue-500/50"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white",children:[e.jsx(Yh,{className:"h-4 w-4 text-cyan-400"}),"Supporting Evidence"]}),e.jsxs("div",{className:"rounded-xl border border-dashed border-white/20 bg-white/5 p-6 text-center",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:k,className:"hidden",id:"evidence-upload"}),e.jsxs("label",{htmlFor:"evidence-upload",className:"flex cursor-pointer flex-col items-center gap-2",children:[e.jsx(Yh,{className:"h-8 w-8 text-white/40"}),e.jsx("p",{className:"text-sm text-white/60",children:"Click to upload photos or evidence"}),e.jsx("p",{className:"text-xs text-white/40",children:"PNG, JPG up to 10MB each"})]})]}),x.length>0&&e.jsx("div",{className:"grid grid-cols-3 gap-3",children:x.map((T,D)=>e.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-lg border border-white/10",children:[e.jsx("img",{src:T,alt:`Evidence ${D+1}`,className:"h-full w-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>O(D),className:"absolute right-1 top-1 rounded-full bg-black/60 p-1 text-white hover:bg-rose-500",children:e.jsx(ls,{className:"h-3 w-3"})})]},D))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white",children:[e.jsx(vs,{className:"h-4 w-4 text-white/60"}),"Additional Remarks",c.verificationOutcome==="not-verified"&&e.jsx("span",{className:"text-rose-400",children:"*"})]}),e.jsx("textarea",{value:c.remarks,onChange:T=>A("remarks",T.target.value),placeholder:c.verificationOutcome==="not-verified"?"Please explain why the issue could not be verified...":"Any additional observations or notes...",rows:3,className:_e("w-full rounded-xl border bg-white/5 px-4 py-3 text-white placeholder-white/40 outline-none transition-colors",j.remarks?"border-rose-500":"border-white/10 focus:border-blue-500/50")}),j.remarks&&e.jsx("p",{className:"text-sm text-rose-400",children:j.remarks})]})]})}),e.jsxs("div",{className:"sticky bottom-0 flex gap-3 border-t border-white/10 bg-[#0a0a0a]/95 px-6 py-4 backdrop-blur-sm",children:[e.jsx("button",{type:"button",onClick:a,className:"flex-1 rounded-xl border border-white/10 py-3 text-sm font-medium text-white/60 transition-all hover:bg-white/5 hover:text-white",children:"Cancel"}),e.jsx("button",{onClick:B,disabled:b||!c.verificationOutcome,className:"flex flex-1 items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 py-3 text-sm font-medium text-white transition-all hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50",children:b?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"h-4 w-4 animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(wi,{className:"h-4 w-4"}),"Submit Verification Report"]})})]})]})}):null}function LP({issue:t,isOpen:i,onClose:a,onSubmit:o}){const[c,u]=N.useState({workSummary:"",stepsTaken:"",resourcesUsed:"",completionConfirmed:!1}),[f,m]=N.useState([]),[x,v]=N.useState([]),[b,w]=N.useState(!1),[j,E]=N.useState({}),A=(T,D)=>{u(V=>({...V,[T]:D})),j[T]&&E(V=>({...V,[T]:null}))},k=T=>{const D=Array.from(T.target.files);D.length>0&&(m(V=>[...V,...D]),D.forEach(V=>{const R=new FileReader;R.onloadend=()=>{v(Z=>[...Z,R.result])},R.readAsDataURL(V)}),j.proofImages&&E(V=>({...V,proofImages:null})))},O=T=>{m(D=>D.filter((V,R)=>R!==T)),v(D=>D.filter((V,R)=>R!==T))},M=()=>{const T={};return c.workSummary.trim()||(T.workSummary="Work summary is required"),c.stepsTaken.trim()||(T.stepsTaken="Please describe the steps taken to resolve the issue"),f.length===0&&(T.proofImages="At least one proof photo is required for resolution"),c.completionConfirmed||(T.completionConfirmed="Please confirm that the work has been completed"),E(T),Object.keys(T).length===0},B=async T=>{if(T.preventDefault(),!!M()){w(!0);try{const D=new FormData;D.append("reportType","resolution"),D.append("workSummary",c.workSummary),D.append("stepsTaken",c.stepsTaken||""),D.append("resourcesUsed",c.resourcesUsed||""),D.append("completionConfirmed",c.completionConfirmed),f.forEach(V=>{D.append("images",V)}),await o(D),u({workSummary:"",stepsTaken:"",resourcesUsed:"",completionConfirmed:!1}),m([]),v([]),a()}catch(D){console.error("Resolution submission error:",D)}finally{w(!1)}}};return i?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"relative max-h-[90vh] w-full max-w-2xl overflow-hidden rounded-2xl border border-white/10 bg-[#0a0a0a]",children:[e.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between border-b border-white/10 bg-gradient-to-r from-emerald-500/10 to-green-500/10 px-6 py-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Resolution Report"}),e.jsx("p",{className:"text-sm text-white/60",children:"Document the completed resolution work"})]}),e.jsx("button",{onClick:a,className:"rounded-full p-2 text-white/60 transition-colors hover:bg-white/10 hover:text-white",children:e.jsx(ls,{className:"h-5 w-5"})})]}),e.jsx("form",{onSubmit:B,className:"max-h-[calc(90vh-140px)] overflow-y-auto p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsx("p",{className:"text-xs text-white/40",children:"Resolving Issue"}),e.jsx("p",{className:"font-medium text-white",children:t?.title}),e.jsxs("p",{className:"text-sm text-white/60",children:["ID: ",t?.issueId||t?._id]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white",children:[e.jsx(Ha,{className:"h-4 w-4 text-emerald-400"}),"Work Summary ",e.jsx("span",{className:"text-rose-400",children:"*"})]}),e.jsx("textarea",{value:c.workSummary,onChange:T=>A("workSummary",T.target.value),placeholder:"Provide a brief summary of the resolution work completed...",rows:3,className:_e("w-full rounded-xl border bg-white/5 px-4 py-3 text-white placeholder-white/40 outline-none transition-colors",j.workSummary?"border-rose-500":"border-white/10 focus:border-emerald-500/50")}),j.workSummary&&e.jsx("p",{className:"text-sm text-rose-400",children:j.workSummary})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white",children:[e.jsx(_f,{className:"h-4 w-4 text-blue-400"}),"Steps Taken ",e.jsx("span",{className:"text-rose-400",children:"*"})]}),e.jsx("textarea",{value:c.stepsTaken,onChange:T=>A("stepsTaken",T.target.value),placeholder:`Detail the specific steps taken to resolve the issue...
1. 
2. 
3. `,rows:4,className:_e("w-full rounded-xl border bg-white/5 px-4 py-3 text-white placeholder-white/40 outline-none transition-colors",j.stepsTaken?"border-rose-500":"border-white/10 focus:border-emerald-500/50")}),j.stepsTaken&&e.jsx("p",{className:"text-sm text-rose-400",children:j.stepsTaken})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white",children:[e.jsx(T0,{className:"h-4 w-4 text-violet-400"}),"Resources Used"]}),e.jsx("textarea",{value:c.resourcesUsed,onChange:T=>A("resourcesUsed",T.target.value),placeholder:"List materials, equipment, or personnel utilized...",rows:2,className:"w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-white placeholder-white/40 outline-none transition-colors focus:border-emerald-500/50"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white",children:[e.jsx(Kr,{className:"h-4 w-4 text-amber-400"}),"Proof of Resolution ",e.jsx("span",{className:"text-rose-400",children:"*"})]}),e.jsxs("div",{className:_e("rounded-xl border border-dashed p-6 text-center transition-colors",j.proofImages?"border-rose-500 bg-rose-500/10":"border-white/20 bg-white/5"),children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:k,className:"hidden",id:"proof-upload"}),e.jsxs("label",{htmlFor:"proof-upload",className:"flex cursor-pointer flex-col items-center gap-2",children:[e.jsx(Yh,{className:"h-8 w-8 text-white/40"}),e.jsx("p",{className:"text-sm text-white/60",children:"Upload photos showing the completed work"}),e.jsx("p",{className:"text-xs text-white/40",children:"At least one photo required  PNG, JPG up to 10MB"})]})]}),j.proofImages&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-rose-400",children:[e.jsx(bs,{className:"h-4 w-4"}),j.proofImages]}),x.length>0&&e.jsx("div",{className:"grid grid-cols-3 gap-3",children:x.map((T,D)=>e.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-lg border border-white/10",children:[e.jsx("img",{src:T,alt:`Proof ${D+1}`,className:"h-full w-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>O(D),className:"absolute right-1 top-1 rounded-full bg-black/60 p-1 text-white hover:bg-rose-500",children:e.jsx(ls,{className:"h-3 w-3"})}),e.jsxs("div",{className:"absolute bottom-1 left-1 rounded bg-black/60 px-1.5 py-0.5 text-xs text-white",children:["Proof ",D+1]})]},D))})]}),e.jsxs("div",{className:_e("rounded-xl border p-4 transition-colors",c.completionConfirmed?"border-emerald-500/50 bg-emerald-500/10":j.completionConfirmed?"border-rose-500 bg-rose-500/10":"border-white/10 bg-white/5"),children:[e.jsxs("label",{className:"flex cursor-pointer items-start gap-3",children:[e.jsx("input",{type:"checkbox",checked:c.completionConfirmed,onChange:T=>A("completionConfirmed",T.target.checked),className:"mt-1 h-5 w-5 rounded border-white/20 bg-white/5 text-emerald-500 focus:ring-emerald-500 focus:ring-offset-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"I confirm that the resolution work has been completed"}),e.jsx("p",{className:"text-sm text-white/60",children:"By checking this box, I verify that all necessary work has been performed and the issue has been resolved to the best of my ability."})]})]}),j.completionConfirmed&&e.jsx("p",{className:"mt-2 text-sm text-rose-400",children:j.completionConfirmed})]})]})}),e.jsxs("div",{className:"sticky bottom-0 flex gap-3 border-t border-white/10 bg-[#0a0a0a]/95 px-6 py-4 backdrop-blur-sm",children:[e.jsx("button",{type:"button",onClick:a,className:"flex-1 rounded-xl border border-white/10 py-3 text-sm font-medium text-white/60 transition-all hover:bg-white/5 hover:text-white",children:"Cancel"}),e.jsx("button",{onClick:B,disabled:b,className:"flex flex-1 items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-emerald-500 to-green-500 py-3 text-sm font-medium text-white transition-all hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50",children:b?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"h-4 w-4 animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-4 w-4"}),"Submit Resolution Report"]})})]})]})}):null}const Hc="http://localhost:3000/api";class MP{async verifyIssue(i,a,o=null){const c=await Ye(`${Hc}/verification/issues/${i}/verify`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:a,remarks:o})});if(!c.ok){const u=await c.json();throw new Error(u.message||"Failed to verify issue")}return c.json()}async getVerificationStats(i){const a=await Ye(`${Hc}/verification/issues/${i}/verification/stats`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!a.ok){const o=await a.json();throw new Error(o.message||"Failed to fetch verification stats")}return a.json()}async getVerifierList(i){const a=await Ye(`${Hc}/verification/issues/${i}/verification/verifiers`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!a.ok){const o=await a.json();throw new Error(o.message||"Failed to fetch verifier list")}return a.json()}async checkUserVerification(i){const a=await Ye(`${Hc}/verification/issues/${i}/verification/check`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!a.ok){const o=await a.json();throw new Error(o.message||"Failed to check verification status")}return a.json()}async getUnverifiedIssues(){const i=await Ye(`${Hc}/verification/community/unverified-issues`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!i.ok){const a=await i.json();throw new Error(a.message||"Failed to fetch unverified issues")}return i.json()}}const fu=new MP;function RP({issueId:t}){const{user:i}=$t(),[a,o]=N.useState(null),[c,u]=N.useState([]),[f,m]=N.useState(!0),[x,v]=N.useState(!1),[b,w]=N.useState(!1),j=i?.role==="official"||i?.role==="community";N.useEffect(()=>{E()},[t]);const E=async()=>{try{m(!0);const M=await fu.getVerificationStats(t);o(M.data)}catch(M){console.error("Error loading verification stats:",M)}finally{m(!1)}},A=async()=>{if(j)try{w(!0);const M=await fu.getVerifierList(t);u(M.data?.verifierList||[])}catch(M){console.error("Error loading verifiers:",M)}finally{w(!1)}},k=()=>{!x&&c.length===0&&A(),v(!x)};if(f)return e.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:e.jsx("div",{className:"flex items-center justify-center py-4",children:e.jsx(Pe,{className:"h-6 w-6 animate-spin text-rose-500"})})});if(!a||a.totalVerifications===0)return e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-violet-500/20",children:e.jsx(os,{className:"h-4 w-4 text-violet-400"})}),e.jsx("h3",{className:"font-semibold text-white",children:"Public Verification"})]}),e.jsx("p",{className:"text-sm text-white/50",children:"No community verifications yet"})]});const O=Math.round(a.verifiedCount/a.totalVerifications*100);return e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 border-b border-white/10 bg-white/5 px-4 py-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-violet-500/20",children:e.jsx(os,{className:"h-4 w-4 text-violet-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:"Public Verification"}),e.jsx("p",{className:"text-xs text-white/50",children:"Community feedback on this issue"})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("button",{onClick:j?k:void 0,className:`rounded-xl border border-emerald-500/20 bg-emerald-500/10 p-3 text-center transition-all ${j?"hover:border-emerald-500/40 cursor-pointer":""}`,children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx(Kn,{className:"h-4 w-4 text-emerald-400"}),e.jsx("span",{className:"text-2xl font-bold text-emerald-400",children:a.verifiedCount})]}),e.jsx("p",{className:"text-xs text-emerald-300/70",children:"Correct"})]}),e.jsxs("button",{onClick:j?k:void 0,className:`rounded-xl border border-rose-500/20 bg-rose-500/10 p-3 text-center transition-all ${j?"hover:border-rose-500/40 cursor-pointer":""}`,children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx(Mx,{className:"h-4 w-4 text-rose-400"}),e.jsx("span",{className:"text-2xl font-bold text-rose-400",children:a.incorrectCount})]}),e.jsx("p",{className:"text-xs text-rose-300/70",children:"Incorrect"})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-3 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx(os,{className:"h-4 w-4 text-white/60"}),e.jsx("span",{className:"text-2xl font-bold text-white",children:a.totalVerifications})]}),e.jsx("p",{className:"text-xs text-white/50",children:"Total"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1 text-xs",children:[e.jsxs("span",{className:"text-emerald-400",children:[O,"% verified as correct"]}),e.jsxs("span",{className:"text-rose-400",children:[100-O,"% incorrect"]})]}),e.jsx("div",{className:"h-2 rounded-full bg-white/10 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-emerald-400 transition-all",style:{width:`${O}%`}})})]}),j&&e.jsx("button",{onClick:k,className:"w-full flex items-center justify-center gap-2 py-2 rounded-lg border border-white/10 text-white/70 hover:bg-white/5 transition-colors",children:x?e.jsxs(e.Fragment,{children:[e.jsx(au,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Hide Verifiers"}),e.jsx(Y3,{className:"h-4 w-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Fa,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"View Verifiers"}),e.jsx(ol,{className:"h-4 w-4"})]})})]}),x&&j&&e.jsx("div",{className:"border-t border-white/10 p-4",children:b?e.jsx("div",{className:"flex items-center justify-center py-4",children:e.jsx(Pe,{className:"h-5 w-5 animate-spin text-rose-500"})}):c.length===0?e.jsx("p",{className:"text-center text-sm text-white/50 py-2",children:"No verified community members"}):e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:c.map(M=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white/5 p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full ${M.status==="correct"?"bg-emerald-500/20":"bg-rose-500/20"}`,children:M.status==="correct"?e.jsx(Kn,{className:"h-4 w-4 text-emerald-400"}):e.jsx(Mx,{className:"h-4 w-4 text-rose-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:M.verifier.name}),e.jsxs("p",{className:"text-xs text-white/50 flex items-center gap-1",children:[e.jsx(Je,{className:"h-3 w-3"}),M.verifier.area]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-white/40",children:M.verifier.aadhaarMasked||"N/A"}),e.jsx("p",{className:"text-xs text-white/40",children:M.verifier.mobileMasked||"N/A"})]})]},M.id))})})]})}const Ur={reported:{label:"Reported",color:"bg-slate-500/20 text-slate-300 border-slate-500/30",icon:bs,description:"Issue has been reported and awaiting acknowledgment"},acknowledged:{label:"Acknowledged",color:"bg-blue-500/20 text-blue-400 border-blue-500/30",icon:Be,description:"Issue acknowledged and pending verification"},"in-progress":{label:"In Progress",color:"bg-amber-500/20 text-amber-400 border-amber-500/30",icon:Ot,description:"Resolution work is currently in progress"},resolved:{label:"Resolved",color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",icon:Be,description:"Issue has been successfully resolved"},rejected:{label:"Rejected",color:"bg-rose-500/20 text-rose-400 border-rose-500/30",icon:vt,description:"Issue has been rejected"}},dh={high:{label:"High",color:"text-rose-400",bg:"bg-rose-500/20",border:"border-rose-500/30"},medium:{label:"Medium",color:"text-amber-400",bg:"bg-amber-500/20",border:"border-amber-500/30"},low:{label:"Low",color:"text-emerald-400",bg:"bg-emerald-500/20",border:"border-emerald-500/30"}};function OP(){const{issueId:t}=p_(),i=Gt(),{user:a}=$t(),o=!!a?.isOfficialAdmin,[c,u]=N.useState(null),[f,m]=N.useState(!0),[x,v]=N.useState(null),[b,w]=N.useState(!1),[j,E]=N.useState(!1),[A,k]=N.useState(!1),[O,M]=N.useState(null),[B,T]=N.useState(null);N.useEffect(()=>{D()},[t]);const D=async()=>{try{m(!0),v(null);const ee=await $e.getIssue(t),Y=ee.data?.issue||ee.issue||ee.data||ee;u(Y);try{const K=await $e.getIssueReports(Y._id),le=K.data?.reports||K.reports||[],F=le.find(U=>U.reportType==="verification"&&U.status==="pending");M(F||null);const ve=le.find(U=>U.reportType==="resolution"&&U.status==="pending");T(ve||null)}catch(K){console.log("Could not fetch reports:",K)}}catch(ee){console.error("Error loading issue:",ee),v(ee.message||"Failed to load issue details")}finally{m(!1)}},V=ee=>new Date(ee).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),R=ee=>new Date(ee).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),Z=async ee=>{try{k(!0),await $e.submitReport(c._id,ee),await D(),w(!1)}catch(Y){console.error("Verification submission error:",Y),alert(Y.message||"Failed to submit verification report")}finally{k(!1)}},H=async ee=>{try{k(!0),await $e.submitReport(c._id,ee),await D(),E(!1)}catch(Y){console.error("Resolution submission error:",Y),alert(Y.message||"Failed to submit resolution report")}finally{k(!1)}};if(f)return e.jsx("div",{className:"flex h-[70vh] items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Pe,{className:"mx-auto mb-4 h-12 w-12 animate-spin text-rose-500"}),e.jsx("p",{className:"text-white/60",children:"Loading issue details..."})]})});if(x||!c)return e.jsx("div",{className:"flex h-[70vh] items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(vt,{className:"mx-auto mb-4 h-12 w-12 text-rose-500"}),e.jsx("p",{className:"mb-2 text-rose-400",children:"Failed to load issue"}),e.jsx("p",{className:"mb-4 text-sm text-white/60",children:x}),e.jsxs("div",{className:"flex justify-center gap-3",children:[e.jsx("button",{onClick:()=>i(-1),className:"rounded-lg border border-white/10 px-4 py-2 text-sm text-white/60 hover:bg-white/5",children:"Go Back"}),e.jsx("button",{onClick:D,className:"rounded-lg bg-rose-500 px-4 py-2 text-sm text-white hover:bg-rose-600",children:"Retry"})]})]})});const G=Ur[c.status]?.icon||bs;return e.jsxs("div",{className:"mx-auto max-w-6xl space-y-6 pb-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>i(-1),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-4 py-2 text-sm text-white/70 transition-all hover:border-white/20 hover:bg-white/10 hover:text-white",children:[e.jsx(Yn,{className:"h-4 w-4"}),"Back to Issues"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/40",children:[e.jsx(qa,{className:"h-4 w-4"}),e.jsx("span",{children:"Official Work Portal"})]})]}),e.jsxs("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-gradient-to-br from-slate-900/80 via-slate-800/50 to-slate-900/80 backdrop-blur-xl",children:[e.jsxs("div",{className:_e("flex items-center justify-between border-b px-6 py-3",Ur[c.status]?.color.replace("bg-","border-").split(" ")[0]+"/20",Ur[c.status]?.color.split(" ")[0]),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(G,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:Ur[c.status]?.label}),e.jsx("span",{className:"ml-3 text-sm opacity-80",children:Ur[c.status]?.description})]})]}),e.jsxs("span",{className:_e("rounded-full border px-3 py-1 text-xs font-medium",dh[c.priority]?.bg,dh[c.priority]?.color,dh[c.priority]?.border),children:[dh[c.priority]?.label||c.priority," Priority"]})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-start lg:justify-between",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs font-medium uppercase tracking-wider text-white/40",children:"Issue Title"}),e.jsx("h1",{className:"text-2xl font-bold text-white lg:text-3xl",children:c.title})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-white/5 px-3 py-1.5",children:[e.jsx(S0,{className:"h-4 w-4 text-rose-400"}),e.jsx("span",{className:"font-mono text-white/70",children:c.issueId||c._id?.slice(-12)})]}),e.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-white/5 px-3 py-1.5",children:[e.jsx(kT,{className:"h-4 w-4 text-violet-400"}),e.jsx("span",{className:"capitalize text-white/70",children:c.category||"General"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4 text-center lg:min-w-[200px]",children:[e.jsx(bi,{className:"mx-auto mb-2 h-5 w-5 text-rose-400"}),e.jsx("p",{className:"text-xs text-white/40",children:"Date Reported"}),e.jsx("p",{className:"font-medium text-white",children:V(c.createdAt)}),e.jsx("p",{className:"text-sm text-white/60",children:R(c.createdAt)})]})]})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[e.jsxs("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-gradient-to-br from-slate-900/50 to-slate-800/30 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 border-b border-white/10 bg-white/5 px-6 py-4",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-rose-500/20",children:e.jsx(wi,{className:"h-4 w-4 text-rose-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-white",children:"Issue Description"}),e.jsx("p",{className:"text-xs text-white/50",children:"Detailed information about the reported issue"})]})]}),e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"whitespace-pre-wrap leading-relaxed text-white/80",children:c.description||"No description provided for this issue."})})]}),e.jsxs("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-gradient-to-br from-slate-900/50 to-slate-800/30 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 border-b border-white/10 bg-white/5 px-6 py-4",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-500/20",children:e.jsx(Je,{className:"h-4 w-4 text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-white",children:"Location Details"}),e.jsx("p",{className:"text-xs text-white/50",children:"Where this issue was reported"})]})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs font-medium uppercase tracking-wider text-white/40",children:"Address"}),e.jsx("p",{className:"text-lg text-white",children:c.location?.address||"Location not specified"})]}),c.location?.coordinates&&e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs font-medium uppercase tracking-wider text-white/40",children:"Latitude"}),e.jsxs("p",{className:"font-mono text-white/70",children:[c.location.coordinates[1]?.toFixed(6),"N"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs font-medium uppercase tracking-wider text-white/40",children:"Longitude"}),e.jsxs("p",{className:"font-mono text-white/70",children:[c.location.coordinates[0]?.toFixed(6),"E"]})]})]})]})})]}),c.images&&c.images.length>0&&e.jsxs("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-gradient-to-br from-slate-900/50 to-slate-800/30 backdrop-blur-sm",children:[e.jsx("div",{className:"flex items-center justify-between border-b border-white/10 bg-white/5 px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-violet-500/20",children:e.jsx(k0,{className:"h-4 w-4 text-violet-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-white",children:"Evidence & Attachments"}),e.jsxs("p",{className:"text-xs text-white/50",children:[c.images.length," file(s) attached"]})]})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:c.images.map((ee,Y)=>e.jsxs("a",{href:ee,target:"_blank",rel:"noopener noreferrer",className:"group relative aspect-video overflow-hidden rounded-xl border border-white/10 bg-black/20 transition-all hover:border-violet-500/50",children:[e.jsx("img",{src:ee,alt:`Evidence ${Y+1}`,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 transition-all group-hover:opacity-100",children:e.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-white/10 px-4 py-2 backdrop-blur-sm",children:[e.jsx(vf,{className:"h-4 w-4 text-white"}),e.jsx("span",{className:"text-sm font-medium text-white",children:"View Full Image"})]})}),e.jsxs("div",{className:"absolute bottom-2 left-2 rounded bg-black/60 px-2 py-1 text-xs text-white backdrop-blur-sm",children:["Evidence #",Y+1]})]},Y))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-gradient-to-br from-slate-900/50 to-slate-800/30 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 border-b border-white/10 bg-white/5 px-6 py-4",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-500/20",children:e.jsx(Vi,{className:"h-4 w-4 text-blue-400"})}),e.jsx("h2",{className:"font-semibold text-white",children:"Reporter Information"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-rose-500 to-violet-500 text-xl font-bold text-white shadow-lg shadow-rose-500/20",children:(c.reportedBy?.username||"U").substring(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.reportedBy?.username||"Unknown User"}),c.reportedBy?.email&&e.jsx("p",{className:"text-sm text-white/50",children:c.reportedBy.email}),e.jsx("p",{className:"mt-1 text-xs text-white/40",children:"Citizen Reporter"})]})]})})]}),e.jsxs("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-gradient-to-br from-slate-900/50 to-slate-800/30 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 border-b border-white/10 bg-white/5 px-6 py-4",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-amber-500/20",children:e.jsx(Ot,{className:"h-4 w-4 text-amber-400"})}),e.jsx("h2",{className:"font-semibold text-white",children:"Issue Timeline"})]}),e.jsxs("div",{className:"divide-y divide-white/5 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Created"}),e.jsx("span",{className:"text-sm font-medium text-white",children:V(c.createdAt).split(",")[1]?.trim()})]}),e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Last Updated"}),e.jsx("span",{className:"text-sm font-medium text-white",children:V(c.updatedAt||c.createdAt).split(",")[1]?.trim()})]}),e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Current Status"}),e.jsx("span",{className:_e("rounded-full px-2 py-0.5 text-xs font-medium",Ur[c.status]?.color),children:Ur[c.status]?.label})]})]})]}),e.jsx(RP,{issueId:c._id,userRole:"official"}),!o&&e.jsxs("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-gradient-to-br from-slate-900/50 to-slate-800/30 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 border-b border-white/10 bg-white/5 px-6 py-4",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-rose-500/20",children:e.jsx(Ha,{className:"h-4 w-4 text-rose-400"})}),e.jsx("h2",{className:"font-semibold text-white",children:"Required Actions"})]}),e.jsxs("div",{className:"p-6",children:[c.status==="acknowledged"&&e.jsx("div",{className:"space-y-4",children:O?e.jsxs("div",{className:"rounded-xl border border-amber-500/30 bg-gradient-to-br from-amber-500/20 to-orange-500/10 p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-amber-500/20 ring-2 ring-amber-500/30",children:e.jsx(Ot,{className:"h-5 w-5 text-amber-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-amber-400",children:"Verification Submitted"}),e.jsx("p",{className:"text-xs text-amber-300/70",children:"Pending Review"})]})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-lg bg-white/5 p-3",children:[e.jsx(Be,{className:"h-4 w-4 text-emerald-400"}),e.jsx("p",{className:"text-xs text-white/80",children:"Your verification report has been submitted successfully. Waiting for team leader review."})]}),e.jsxs("p",{className:"mt-3 text-xs text-white/50",children:["Submitted on: ",O.createdAt?new Date(O.createdAt).toLocaleString():"Recently"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"rounded-lg border border-blue-500/20 bg-blue-500/10 p-4",children:[e.jsx("p",{className:"mb-2 text-sm font-medium text-blue-400",children:"Verification Required"}),e.jsx("p",{className:"text-xs text-white/60",children:"Please visit the location and verify the reported issue."})]}),e.jsxs("button",{onClick:()=>w(!0),disabled:A,className:"flex w-full items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 py-3.5 text-sm font-semibold text-white shadow-lg shadow-blue-500/20 transition-all hover:shadow-xl hover:shadow-blue-500/30 disabled:opacity-50",children:[e.jsx(Ha,{className:"h-5 w-5"}),"Submit Verification Report"]})]})}),c.status==="in-progress"&&e.jsx("div",{className:"space-y-4",children:B?e.jsxs("div",{className:"rounded-xl border border-amber-500/30 bg-gradient-to-br from-amber-500/20 to-orange-500/10 p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-amber-500/20 ring-2 ring-amber-500/30",children:e.jsx(Ot,{className:"h-5 w-5 text-amber-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-amber-400",children:"Resolution Submitted"}),e.jsx("p",{className:"text-xs text-amber-300/70",children:"Pending Review"})]})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-lg bg-white/5 p-3",children:[e.jsx(Be,{className:"h-4 w-4 text-emerald-400"}),e.jsx("p",{className:"text-xs text-white/80",children:"Your resolution report has been submitted successfully. Waiting for team leader review."})]}),e.jsxs("p",{className:"mt-3 text-xs text-white/50",children:["Submitted on: ",B.createdAt?new Date(B.createdAt).toLocaleString():"Recently"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"rounded-lg border border-emerald-500/20 bg-emerald-500/10 p-4",children:[e.jsx("p",{className:"mb-2 text-sm font-medium text-emerald-400",children:"Resolution Required"}),e.jsx("p",{className:"text-xs text-white/60",children:"Complete the resolution work and submit your report with evidence."})]}),e.jsxs("button",{onClick:()=>E(!0),disabled:A,className:"flex w-full items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-emerald-500 to-green-500 py-3.5 text-sm font-semibold text-white shadow-lg shadow-emerald-500/20 transition-all hover:shadow-xl hover:shadow-emerald-500/30 disabled:opacity-50",children:[e.jsx(Be,{className:"h-5 w-5"}),"Submit Resolution Report"]})]})}),c.status!=="acknowledged"&&c.status!=="in-progress"&&e.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4 text-center",children:[e.jsx(Be,{className:"mx-auto mb-2 h-8 w-8 text-white/30"}),e.jsx("p",{className:"text-sm text-white/50",children:c.status==="resolved"?"This issue has been successfully resolved.":c.status==="rejected"?"This issue has been rejected.":"No actions available for current status."})]})]})]})]})]}),e.jsx(AP,{issue:c,isOpen:b,onClose:()=>w(!1),onSubmit:Z}),e.jsx(LP,{issue:c,isOpen:j,onClose:()=>E(!1),onSubmit:H})]})}const hh={"Roads & Infrastructure":Sh,"roads & infrastructure":Sh,roads:Sh,"Water Supply":Ch,"water supply":Ch,water:Ch,Electricity:Wn,electricity:Wn,Sanitation:Rx,sanitation:Rx,"Public Health":kh,"public health":kh,health:kh,Education:Ax,education:Ax,Transportation:Nh,transportation:Nh,transport:Nh,Environment:Ox,environment:Ox,Other:qh,other:qh},PP={bg:"from-purple-500/20 to-indigo-500/20",border:"border-purple-500/30",icon:"text-purple-400",badge:"bg-gradient-to-r from-blue-600 to-purple-600"},B1=t=>{if(!t)return qh;const i=t.toLowerCase();return hh[t]?hh[t]:hh[i]?hh[i]:i.includes("road")?Sh:i.includes("water")?Ch:i.includes("electric")?Wn:i.includes("sanit")?Rx:i.includes("health")?kh:i.includes("educ")?Ax:i.includes("transport")?Nh:i.includes("environ")?Ox:qh},DP=t=>PP,zP=()=>{const{user:t}=$t(),i=Gt(),[a,o]=N.useState([]),[c,u]=N.useState(!0),[f,m]=N.useState(!1),[x,v]=N.useState({}),[b,w]=N.useState({name:"",email:"",phone:"",role:"field-officer",department:""}),j=N.useMemo(()=>{const D={};return a.forEach(V=>{const R=V.department||"Other";D[R]||(D[R]=[]),D[R].push(V)}),D},[a]),E=N.useMemo(()=>{const D={};return Object.entries(j).forEach(([V,R])=>{D[V]={totalMembers:R.length,totalAssigned:R.reduce((Z,H)=>Z+(H.stats?.assigned||0),0),totalCompleted:R.reduce((Z,H)=>Z+(H.stats?.completed||0),0)}}),D},[j]);N.useEffect(()=>{A()},[]),N.useEffect(()=>{const D={};Object.keys(j).forEach(V=>{D[V]=!1}),v(D)},[a]);const A=async()=>{try{u(!0);const D=await $e.getTeamMembers();o(D.data?.members||[])}catch(D){console.error("Failed to fetch team members:",D)}finally{u(!1)}},k=async D=>{D.preventDefault();try{const V=await $e.addTeamMember(b);o([...a,V.data.member]),m(!1),w({name:"",email:"",phone:"",role:"field-officer",department:""}),V.data.member.tempPassword&&alert(`Team member added!

Temp Password: ${V.data.member.tempPassword}

Share this securely.`)}catch(V){alert(V.message||"Failed to add team member")}},O=async D=>{if(confirm("Remove this team member? This will delete their account and unassign all issues."))try{await $e.removeTeamMember(D),o(a.filter(V=>V._id!==D))}catch(V){alert(V.message||"Failed to remove team member")}},M=D=>{i("/dashboard/official/chat",{state:{member:D}})},B=D=>{v(V=>({...V,[D]:!V[D]}))},T=D=>DP();return t?.isOfficialAdmin?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[e.jsx(os,{className:"w-8 h-8"}),"Team Management"]}),e.jsx("p",{className:"text-gray-300 mt-2",children:"Manage your team members organized by department"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>i("/dashboard/official/chat"),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white rounded-xl hover:shadow-lg transition-all",children:[e.jsx(vs,{className:"w-5 h-5"}),"Open Messages"]}),e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all",children:[e.jsx(HT,{className:"w-5 h-5"}),"Add Member"]})]})]}),a.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3 mb-8",children:Object.entries(E).map(([D,V])=>{const R=T(),Z=B1(D);return e.jsxs(rs.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`bg-gradient-to-br ${R.bg} backdrop-blur-xl rounded-xl p-3 border ${R.border} cursor-pointer hover:scale-105 transition-all`,onClick:()=>{document.getElementById(`dept-${D.replace(/\s+/g,"-")}`)?.scrollIntoView({behavior:"smooth"})},children:[e.jsx("div",{className:`w-8 h-8 rounded-lg ${R.badge} flex items-center justify-center mb-2`,children:e.jsx(Z,{className:"w-4 h-4 text-white"})}),e.jsx("p",{className:"text-xs text-gray-300 truncate",children:D}),e.jsx("p",{className:"text-xl font-bold text-white",children:V.totalMembers})]},D)})}),c?e.jsxs("div",{className:"text-center text-white py-12",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"mt-4",children:"Loading..."})]}):a.length===0?e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl p-12 border border-white/20 text-center",children:[e.jsx(os,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Team Members"}),e.jsx("button",{onClick:()=>m(!0),className:"mt-4 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl",children:"Add First Member"})]}):e.jsx("div",{className:"space-y-6",children:Object.entries(j).map(([D,V])=>{const R=T(),Z=E[D],H=x[D];return e.jsxs(rs.div,{id:`dept-${D.replace(/\s+/g,"-")}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-gradient-to-br ${R.bg} backdrop-blur-xl rounded-2xl border ${R.border} overflow-hidden`,children:[(()=>{const G=B1(D);return e.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-white/5 transition-all",onClick:()=>B(D),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl ${R.badge} flex items-center justify-center`,children:e.jsx(G,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[D,e.jsxs("span",{className:`text-sm font-normal px-2 py-0.5 rounded-full ${R.badge} text-white`,children:[V.length," ",V.length===1?"member":"members"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-300 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(iu,{className:"w-3 h-3 text-amber-400"}),Z.totalAssigned," assigned"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Be,{className:"w-3 h-3 text-emerald-400"}),Z.totalCompleted," completed"]})]})]})]}),e.jsx(rs.div,{animate:{rotate:H?180:0},transition:{duration:.2},children:e.jsx(ol,{className:"w-6 h-6 text-white"})})]})})(),e.jsx(ex,{children:H&&e.jsx(rs.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsx("div",{className:"p-4 pt-0 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:V.map(G=>e.jsxs(rs.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white/10 backdrop-blur-xl rounded-xl p-4 border border-white/10 hover:border-white/30 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:G.avatar||G.name?.slice(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:G.name}),e.jsx("p",{className:"text-xs text-gray-400 capitalize",children:G.role?.replace("-"," ")})]})]}),G.unreadMessages>0&&e.jsx("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-xs text-white",children:G.unreadMessages})]}),e.jsxs("div",{className:"space-y-1 mb-3 text-xs text-gray-300",children:[e.jsxs("div",{className:"flex items-center gap-2 truncate",children:[e.jsx(gl,{className:"w-3 h-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:G.email})]}),G.phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bf,{className:"w-3 h-3"}),G.phone]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center",children:[e.jsx("p",{className:"text-lg font-bold text-amber-400",children:G.stats?.assigned||0}),e.jsx("p",{className:"text-xs text-gray-400",children:"Assigned"})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center",children:[e.jsx("p",{className:"text-lg font-bold text-emerald-400",children:G.stats?.completed||0}),e.jsx("p",{className:"text-xs text-gray-400",children:"Done"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>M(G),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-all",children:[e.jsx(vs,{className:"w-4 h-4"}),"Message"]}),e.jsx("button",{onClick:()=>O(G._id),className:"px-3 py-2 bg-red-600/80 hover:bg-red-600 text-white rounded-lg transition-all",children:e.jsx(wf,{className:"w-4 h-4"})})]})]},G._id))})})})]},D)})}),e.jsx(ex,{children:f&&e.jsx(rs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:()=>m(!1),children:e.jsxs(rs.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-slate-800 rounded-2xl p-8 max-w-md w-full",onClick:D=>D.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Add Team Member"}),e.jsx("button",{onClick:()=>m(!1),className:"p-2 hover:bg-white/10 rounded-lg",children:e.jsx(ls,{className:"w-6 h-6 text-gray-400"})})]}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name*"}),e.jsx("input",{type:"text",required:!0,value:b.name,onChange:D=>w({...b,name:D.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-purple-500",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email*"}),e.jsx("input",{type:"email",required:!0,value:b.email,onChange:D=>w({...b,email:D.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-purple-500",placeholder:"john@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",value:b.phone,onChange:D=>w({...b,phone:D.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-purple-500",placeholder:"+1234567890"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Role"}),e.jsxs("select",{value:b.role,onChange:D=>w({...b,role:D.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-purple-500",children:[e.jsx("option",{value:"field-officer",children:"Field Officer"}),e.jsx("option",{value:"supervisor",children:"Supervisor"}),e.jsx("option",{value:"inspector",children:"Inspector"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Department"}),e.jsxs("select",{value:b.department,onChange:D=>w({...b,department:D.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-purple-500",children:[e.jsx("option",{value:"",className:"bg-slate-800",children:"Select Department"}),e.jsx("option",{value:"Roads & Infrastructure",className:"bg-slate-800",children:"Roads & Infrastructure"}),e.jsx("option",{value:"Water Supply",className:"bg-slate-800",children:"Water Supply"}),e.jsx("option",{value:"Electricity",className:"bg-slate-800",children:"Electricity"}),e.jsx("option",{value:"Sanitation",className:"bg-slate-800",children:"Sanitation"}),e.jsx("option",{value:"Public Health",className:"bg-slate-800",children:"Public Health"}),e.jsx("option",{value:"Education",className:"bg-slate-800",children:"Education"}),e.jsx("option",{value:"Transportation",className:"bg-slate-800",children:"Transportation"}),e.jsx("option",{value:"Environment",className:"bg-slate-800",children:"Environment"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>m(!1),className:"flex-1 px-6 py-3 bg-white/10 text-white rounded-xl hover:bg-white/20 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all",children:"Add Member"})]})]})]})})}),e.jsx(ex,{})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl p-8 border border-white/20 text-center",children:[e.jsx(ls,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-300",children:"Only team leaders can access team management."})]})})},gn=Object.create(null);gn.open="0";gn.close="1";gn.ping="2";gn.pong="3";gn.message="4";gn.upgrade="5";gn.noop="6";const zh=Object.create(null);Object.keys(gn).forEach(t=>{zh[gn[t]]=t});const r0={type:"error",data:"parser error"},wN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",_N=typeof ArrayBuffer=="function",jN=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,yg=({type:t,data:i},a,o)=>wN&&i instanceof Blob?a?o(i):I1(i,o):_N&&(i instanceof ArrayBuffer||jN(i))?a?o(i):I1(new Blob([i]),o):o(gn[t]+(i||"")),I1=(t,i)=>{const a=new FileReader;return a.onload=function(){const o=a.result.split(",")[1];i("b"+(o||""))},a.readAsDataURL(t)};function U1(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let hx;function BP(t,i){if(wN&&t.data instanceof Blob)return t.data.arrayBuffer().then(U1).then(i);if(_N&&(t.data instanceof ArrayBuffer||jN(t.data)))return i(U1(t.data));yg(t,!1,a=>{hx||(hx=new TextEncoder),i(hx.encode(a))})}const V1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<V1.length;t++)Yc[V1.charCodeAt(t)]=t;const IP=t=>{let i=t.length*.75,a=t.length,o,c=0,u,f,m,x;t[t.length-1]==="="&&(i--,t[t.length-2]==="="&&i--);const v=new ArrayBuffer(i),b=new Uint8Array(v);for(o=0;o<a;o+=4)u=Yc[t.charCodeAt(o)],f=Yc[t.charCodeAt(o+1)],m=Yc[t.charCodeAt(o+2)],x=Yc[t.charCodeAt(o+3)],b[c++]=u<<2|f>>4,b[c++]=(f&15)<<4|m>>2,b[c++]=(m&3)<<6|x&63;return v},UP=typeof ArrayBuffer=="function",bg=(t,i)=>{if(typeof t!="string")return{type:"message",data:NN(t,i)};const a=t.charAt(0);return a==="b"?{type:"message",data:VP(t.substring(1),i)}:zh[a]?t.length>1?{type:zh[a],data:t.substring(1)}:{type:zh[a]}:r0},VP=(t,i)=>{if(UP){const a=IP(t);return NN(a,i)}else return{base64:!0,data:t}},NN=(t,i)=>i==="blob"?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,SN="",HP=(t,i)=>{const a=t.length,o=new Array(a);let c=0;t.forEach((u,f)=>{yg(u,!1,m=>{o[f]=m,++c===a&&i(o.join(SN))})})},FP=(t,i)=>{const a=t.split(SN),o=[];for(let c=0;c<a.length;c++){const u=bg(a[c],i);if(o.push(u),u.type==="error")break}return o};function ZP(){return new TransformStream({transform(t,i){BP(t,a=>{const o=a.length;let c;if(o<126)c=new Uint8Array(1),new DataView(c.buffer).setUint8(0,o);else if(o<65536){c=new Uint8Array(3);const u=new DataView(c.buffer);u.setUint8(0,126),u.setUint16(1,o)}else{c=new Uint8Array(9);const u=new DataView(c.buffer);u.setUint8(0,127),u.setBigUint64(1,BigInt(o))}t.data&&typeof t.data!="string"&&(c[0]|=128),i.enqueue(c),i.enqueue(a)})}})}let fx;function fh(t){return t.reduce((i,a)=>i+a.length,0)}function mh(t,i){if(t[0].length===i)return t.shift();const a=new Uint8Array(i);let o=0;for(let c=0;c<i;c++)a[c]=t[0][o++],o===t[0].length&&(t.shift(),o=0);return t.length&&o<t[0].length&&(t[0]=t[0].slice(o)),a}function qP(t,i){fx||(fx=new TextDecoder);const a=[];let o=0,c=-1,u=!1;return new TransformStream({transform(f,m){for(a.push(f);;){if(o===0){if(fh(a)<1)break;const x=mh(a,1);u=(x[0]&128)===128,c=x[0]&127,c<126?o=3:c===126?o=1:o=2}else if(o===1){if(fh(a)<2)break;const x=mh(a,2);c=new DataView(x.buffer,x.byteOffset,x.length).getUint16(0),o=3}else if(o===2){if(fh(a)<8)break;const x=mh(a,8),v=new DataView(x.buffer,x.byteOffset,x.length),b=v.getUint32(0);if(b>Math.pow(2,21)-1){m.enqueue(r0);break}c=b*Math.pow(2,32)+v.getUint32(4),o=3}else{if(fh(a)<c)break;const x=mh(a,c);m.enqueue(bg(u?x:fx.decode(x),i)),o=0}if(c===0||c>t){m.enqueue(r0);break}}}})}const CN=4;function qt(t){if(t)return GP(t)}function GP(t){for(var i in qt.prototype)t[i]=qt.prototype[i];return t}qt.prototype.on=qt.prototype.addEventListener=function(t,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(i),this};qt.prototype.once=function(t,i){function a(){this.off(t,a),i.apply(this,arguments)}return a.fn=i,this.on(t,a),this};qt.prototype.off=qt.prototype.removeListener=qt.prototype.removeAllListeners=qt.prototype.removeEventListener=function(t,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var a=this._callbacks["$"+t];if(!a)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var o,c=0;c<a.length;c++)if(o=a[c],o===i||o.fn===i){a.splice(c,1);break}return a.length===0&&delete this._callbacks["$"+t],this};qt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),a=this._callbacks["$"+t],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(a){a=a.slice(0);for(var o=0,c=a.length;o<c;++o)a[o].apply(this,i)}return this};qt.prototype.emitReserved=qt.prototype.emit;qt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};qt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Rf=typeof Promise=="function"&&typeof Promise.resolve=="function"?i=>Promise.resolve().then(i):(i,a)=>a(i,0),gi=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),$P="arraybuffer";function kN(t,...i){return i.reduce((a,o)=>(t.hasOwnProperty(o)&&(a[o]=t[o]),a),{})}const YP=gi.setTimeout,XP=gi.clearTimeout;function Of(t,i){i.useNativeTimers?(t.setTimeoutFn=YP.bind(gi),t.clearTimeoutFn=XP.bind(gi)):(t.setTimeoutFn=gi.setTimeout.bind(gi),t.clearTimeoutFn=gi.clearTimeout.bind(gi))}const KP=1.33;function WP(t){return typeof t=="string"?QP(t):Math.ceil((t.byteLength||t.size)*KP)}function QP(t){let i=0,a=0;for(let o=0,c=t.length;o<c;o++)i=t.charCodeAt(o),i<128?a+=1:i<2048?a+=2:i<55296||i>=57344?a+=3:(o++,a+=4);return a}function TN(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function JP(t){let i="";for(let a in t)t.hasOwnProperty(a)&&(i.length&&(i+="&"),i+=encodeURIComponent(a)+"="+encodeURIComponent(t[a]));return i}function eD(t){let i={},a=t.split("&");for(let o=0,c=a.length;o<c;o++){let u=a[o].split("=");i[decodeURIComponent(u[0])]=decodeURIComponent(u[1])}return i}class tD extends Error{constructor(i,a,o){super(i),this.description=a,this.context=o,this.type="TransportError"}}class wg extends qt{constructor(i){super(),this.writable=!1,Of(this,i),this.opts=i,this.query=i.query,this.socket=i.socket,this.supportsBinary=!i.forceBase64}onError(i,a,o){return super.emitReserved("error",new tD(i,a,o)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(i){this.readyState==="open"&&this.write(i)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(i){const a=bg(i,this.socket.binaryType);this.onPacket(a)}onPacket(i){super.emitReserved("packet",i)}onClose(i){this.readyState="closed",super.emitReserved("close",i)}pause(i){}createUri(i,a={}){return i+"://"+this._hostname()+this._port()+this.opts.path+this._query(a)}_hostname(){const i=this.opts.hostname;return i.indexOf(":")===-1?i:"["+i+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(i){const a=JP(i);return a.length?"?"+a:""}}class sD extends wg{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(i){this.readyState="pausing";const a=()=>{this.readyState="paused",i()};if(this._polling||!this.writable){let o=0;this._polling&&(o++,this.once("pollComplete",function(){--o||a()})),this.writable||(o++,this.once("drain",function(){--o||a()}))}else a()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(i){const a=o=>{if(this.readyState==="opening"&&o.type==="open"&&this.onOpen(),o.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(o)};FP(i,this.socket.binaryType).forEach(a),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const i=()=>{this.write([{type:"close"}])};this.readyState==="open"?i():this.once("open",i)}write(i){this.writable=!1,HP(i,a=>{this.doWrite(a,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const i=this.opts.secure?"https":"http",a=this.query||{};return this.opts.timestampRequests!==!1&&(a[this.opts.timestampParam]=TN()),!this.supportsBinary&&!a.sid&&(a.b64=1),this.createUri(i,a)}}let EN=!1;try{EN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const iD=EN;function nD(){}class aD extends sD{constructor(i){if(super(i),typeof location<"u"){const a=location.protocol==="https:";let o=location.port;o||(o=a?"443":"80"),this.xd=typeof location<"u"&&i.hostname!==location.hostname||o!==i.port}}doWrite(i,a){const o=this.request({method:"POST",data:i});o.on("success",a),o.on("error",(c,u)=>{this.onError("xhr post error",c,u)})}doPoll(){const i=this.request();i.on("data",this.onData.bind(this)),i.on("error",(a,o)=>{this.onError("xhr poll error",a,o)}),this.pollXhr=i}}class mn extends qt{constructor(i,a,o){super(),this.createRequest=i,Of(this,o),this._opts=o,this._method=o.method||"GET",this._uri=a,this._data=o.data!==void 0?o.data:null,this._create()}_create(){var i;const a=kN(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");a.xdomain=!!this._opts.xd;const o=this._xhr=this.createRequest(a);try{o.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(let c in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(c)&&o.setRequestHeader(c,this._opts.extraHeaders[c])}}catch{}if(this._method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{o.setRequestHeader("Accept","*/*")}catch{}(i=this._opts.cookieJar)===null||i===void 0||i.addCookies(o),"withCredentials"in o&&(o.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(o.timeout=this._opts.requestTimeout),o.onreadystatechange=()=>{var c;o.readyState===3&&((c=this._opts.cookieJar)===null||c===void 0||c.parseCookies(o.getResponseHeader("set-cookie"))),o.readyState===4&&(o.status===200||o.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof o.status=="number"?o.status:0)},0))},o.send(this._data)}catch(c){this.setTimeoutFn(()=>{this._onError(c)},0);return}typeof document<"u"&&(this._index=mn.requestsCount++,mn.requests[this._index]=this)}_onError(i){this.emitReserved("error",i,this._xhr),this._cleanup(!0)}_cleanup(i){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=nD,i)try{this._xhr.abort()}catch{}typeof document<"u"&&delete mn.requests[this._index],this._xhr=null}}_onLoad(){const i=this._xhr.responseText;i!==null&&(this.emitReserved("data",i),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}mn.requestsCount=0;mn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",H1);else if(typeof addEventListener=="function"){const t="onpagehide"in gi?"pagehide":"unload";addEventListener(t,H1,!1)}}function H1(){for(let t in mn.requests)mn.requests.hasOwnProperty(t)&&mn.requests[t].abort()}const rD=(function(){const t=AN({xdomain:!1});return t&&t.responseType!==null})();class oD extends aD{constructor(i){super(i);const a=i&&i.forceBase64;this.supportsBinary=rD&&!a}request(i={}){return Object.assign(i,{xd:this.xd},this.opts),new mn(AN,this.uri(),i)}}function AN(t){const i=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!i||iD))return new XMLHttpRequest}catch{}if(!i)try{return new gi[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const LN=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class lD extends wg{get name(){return"websocket"}doOpen(){const i=this.uri(),a=this.opts.protocols,o=LN?{}:kN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(o.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(i,a,o)}catch(c){return this.emitReserved("error",c)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=i=>this.onClose({description:"websocket connection closed",context:i}),this.ws.onmessage=i=>this.onData(i.data),this.ws.onerror=i=>this.onError("websocket error",i)}write(i){this.writable=!1;for(let a=0;a<i.length;a++){const o=i[a],c=a===i.length-1;yg(o,this.supportsBinary,u=>{try{this.doWrite(o,u)}catch{}c&&Rf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const i=this.opts.secure?"wss":"ws",a=this.query||{};return this.opts.timestampRequests&&(a[this.opts.timestampParam]=TN()),this.supportsBinary||(a.b64=1),this.createUri(i,a)}}const mx=gi.WebSocket||gi.MozWebSocket;class cD extends lD{createSocket(i,a,o){return LN?new mx(i,a,o):a?new mx(i,a):new mx(i)}doWrite(i,a){this.ws.send(a)}}class uD extends wg{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(i){return this.emitReserved("error",i)}this._transport.closed.then(()=>{this.onClose()}).catch(i=>{this.onError("webtransport error",i)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(i=>{const a=qP(Number.MAX_SAFE_INTEGER,this.socket.binaryType),o=i.readable.pipeThrough(a).getReader(),c=ZP();c.readable.pipeTo(i.writable),this._writer=c.writable.getWriter();const u=()=>{o.read().then(({done:m,value:x})=>{m||(this.onPacket(x),u())}).catch(m=>{})};u();const f={type:"open"};this.query.sid&&(f.data=`{"sid":"${this.query.sid}"}`),this._writer.write(f).then(()=>this.onOpen())})})}write(i){this.writable=!1;for(let a=0;a<i.length;a++){const o=i[a],c=a===i.length-1;this._writer.write(o).then(()=>{c&&Rf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var i;(i=this._transport)===null||i===void 0||i.close()}}const dD={websocket:cD,webtransport:uD,polling:oD},hD=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,fD=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function o0(t){if(t.length>8e3)throw"URI too long";const i=t,a=t.indexOf("["),o=t.indexOf("]");a!=-1&&o!=-1&&(t=t.substring(0,a)+t.substring(a,o).replace(/:/g,";")+t.substring(o,t.length));let c=hD.exec(t||""),u={},f=14;for(;f--;)u[fD[f]]=c[f]||"";return a!=-1&&o!=-1&&(u.source=i,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=mD(u,u.path),u.queryKey=pD(u,u.query),u}function mD(t,i){const a=/\/{2,9}/g,o=i.replace(a,"/").split("/");return(i.slice(0,1)=="/"||i.length===0)&&o.splice(0,1),i.slice(-1)=="/"&&o.splice(o.length-1,1),o}function pD(t,i){const a={};return i.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(o,c,u){c&&(a[c]=u)}),a}const l0=typeof addEventListener=="function"&&typeof removeEventListener=="function",Bh=[];l0&&addEventListener("offline",()=>{Bh.forEach(t=>t())},!1);class Ua extends qt{constructor(i,a){if(super(),this.binaryType=$P,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,i&&typeof i=="object"&&(a=i,i=null),i){const o=o0(i);a.hostname=o.host,a.secure=o.protocol==="https"||o.protocol==="wss",a.port=o.port,o.query&&(a.query=o.query)}else a.host&&(a.hostname=o0(a.host).host);Of(this,a),this.secure=a.secure!=null?a.secure:typeof location<"u"&&location.protocol==="https:",a.hostname&&!a.port&&(a.port=this.secure?"443":"80"),this.hostname=a.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=a.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},a.transports.forEach(o=>{const c=o.prototype.name;this.transports.push(c),this._transportsByName[c]=o}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},a),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=eD(this.opts.query)),l0&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Bh.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(i){const a=Object.assign({},this.opts.query);a.EIO=CN,a.transport=i,this.id&&(a.sid=this.id);const o=Object.assign({},this.opts,{query:a,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[i]);return new this._transportsByName[i](o)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const i=this.opts.rememberUpgrade&&Ua.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const a=this.createTransport(i);a.open(),this.setTransport(a)}setTransport(i){this.transport&&this.transport.removeAllListeners(),this.transport=i,i.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",a=>this._onClose("transport close",a))}onOpen(){this.readyState="open",Ua.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",i),this.emitReserved("heartbeat"),i.type){case"open":this.onHandshake(JSON.parse(i.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const a=new Error("server error");a.code=i.data,this._onError(a);break;case"message":this.emitReserved("data",i.data),this.emitReserved("message",i.data);break}}onHandshake(i){this.emitReserved("handshake",i),this.id=i.sid,this.transport.query.sid=i.sid,this._pingInterval=i.pingInterval,this._pingTimeout=i.pingTimeout,this._maxPayload=i.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const i=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+i,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},i),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const i=this._getWritablePackets();this.transport.send(i),this._prevBufferLen=i.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let a=1;for(let o=0;o<this.writeBuffer.length;o++){const c=this.writeBuffer[o].data;if(c&&(a+=WP(c)),o>0&&a>this._maxPayload)return this.writeBuffer.slice(0,o);a+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const i=Date.now()>this._pingTimeoutTime;return i&&(this._pingTimeoutTime=0,Rf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),i}write(i,a,o){return this._sendPacket("message",i,a,o),this}send(i,a,o){return this._sendPacket("message",i,a,o),this}_sendPacket(i,a,o,c){if(typeof a=="function"&&(c=a,a=void 0),typeof o=="function"&&(c=o,o=null),this.readyState==="closing"||this.readyState==="closed")return;o=o||{},o.compress=o.compress!==!1;const u={type:i,data:a,options:o};this.emitReserved("packetCreate",u),this.writeBuffer.push(u),c&&this.once("flush",c),this.flush()}close(){const i=()=>{this._onClose("forced close"),this.transport.close()},a=()=>{this.off("upgrade",a),this.off("upgradeError",a),i()},o=()=>{this.once("upgrade",a),this.once("upgradeError",a)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?o():i()}):this.upgrading?o():i()),this}_onError(i){if(Ua.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",i),this._onClose("transport error",i)}_onClose(i,a){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),l0&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const o=Bh.indexOf(this._offlineEventListener);o!==-1&&Bh.splice(o,1)}this.readyState="closed",this.id=null,this.emitReserved("close",i,a),this.writeBuffer=[],this._prevBufferLen=0}}}Ua.protocol=CN;class xD extends Ua{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let i=0;i<this._upgrades.length;i++)this._probe(this._upgrades[i])}_probe(i){let a=this.createTransport(i),o=!1;Ua.priorWebsocketSuccess=!1;const c=()=>{o||(a.send([{type:"ping",data:"probe"}]),a.once("packet",w=>{if(!o)if(w.type==="pong"&&w.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",a),!a)return;Ua.priorWebsocketSuccess=a.name==="websocket",this.transport.pause(()=>{o||this.readyState!=="closed"&&(b(),this.setTransport(a),a.send([{type:"upgrade"}]),this.emitReserved("upgrade",a),a=null,this.upgrading=!1,this.flush())})}else{const j=new Error("probe error");j.transport=a.name,this.emitReserved("upgradeError",j)}}))};function u(){o||(o=!0,b(),a.close(),a=null)}const f=w=>{const j=new Error("probe error: "+w);j.transport=a.name,u(),this.emitReserved("upgradeError",j)};function m(){f("transport closed")}function x(){f("socket closed")}function v(w){a&&w.name!==a.name&&u()}const b=()=>{a.removeListener("open",c),a.removeListener("error",f),a.removeListener("close",m),this.off("close",x),this.off("upgrading",v)};a.once("open",c),a.once("error",f),a.once("close",m),this.once("close",x),this.once("upgrading",v),this._upgrades.indexOf("webtransport")!==-1&&i!=="webtransport"?this.setTimeoutFn(()=>{o||a.open()},200):a.open()}onHandshake(i){this._upgrades=this._filterUpgrades(i.upgrades),super.onHandshake(i)}_filterUpgrades(i){const a=[];for(let o=0;o<i.length;o++)~this.transports.indexOf(i[o])&&a.push(i[o]);return a}}let gD=class extends xD{constructor(i,a={}){const o=typeof i=="object"?i:a;(!o.transports||o.transports&&typeof o.transports[0]=="string")&&(o.transports=(o.transports||["polling","websocket","webtransport"]).map(c=>dD[c]).filter(c=>!!c)),super(i,o)}};function vD(t,i="",a){let o=t;a=a||typeof location<"u"&&location,t==null&&(t=a.protocol+"//"+a.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=a.protocol+t:t=a.host+t),/^(https?|wss?):\/\//.test(t)||(typeof a<"u"?t=a.protocol+"//"+t:t="https://"+t),o=o0(t)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";const u=o.host.indexOf(":")!==-1?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+u+":"+o.port+i,o.href=o.protocol+"://"+u+(a&&a.port===o.port?"":":"+o.port),o}const yD=typeof ArrayBuffer=="function",bD=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,MN=Object.prototype.toString,wD=typeof Blob=="function"||typeof Blob<"u"&&MN.call(Blob)==="[object BlobConstructor]",_D=typeof File=="function"||typeof File<"u"&&MN.call(File)==="[object FileConstructor]";function _g(t){return yD&&(t instanceof ArrayBuffer||bD(t))||wD&&t instanceof Blob||_D&&t instanceof File}function Ih(t,i){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let a=0,o=t.length;a<o;a++)if(Ih(t[a]))return!0;return!1}if(_g(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ih(t.toJSON(),!0);for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&Ih(t[a]))return!0;return!1}function jD(t){const i=[],a=t.data,o=t;return o.data=c0(a,i),o.attachments=i.length,{packet:o,buffers:i}}function c0(t,i){if(!t)return t;if(_g(t)){const a={_placeholder:!0,num:i.length};return i.push(t),a}else if(Array.isArray(t)){const a=new Array(t.length);for(let o=0;o<t.length;o++)a[o]=c0(t[o],i);return a}else if(typeof t=="object"&&!(t instanceof Date)){const a={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=c0(t[o],i));return a}return t}function ND(t,i){return t.data=u0(t.data,i),delete t.attachments,t}function u0(t,i){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<i.length)return i[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let a=0;a<t.length;a++)t[a]=u0(t[a],i);else if(typeof t=="object")for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(t[a]=u0(t[a],i));return t}const RN=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],SD=5;var Ze;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Ze||(Ze={}));class CD{constructor(i){this.replacer=i}encode(i){return(i.type===Ze.EVENT||i.type===Ze.ACK)&&Ih(i)?this.encodeAsBinary({type:i.type===Ze.EVENT?Ze.BINARY_EVENT:Ze.BINARY_ACK,nsp:i.nsp,data:i.data,id:i.id}):[this.encodeAsString(i)]}encodeAsString(i){let a=""+i.type;return(i.type===Ze.BINARY_EVENT||i.type===Ze.BINARY_ACK)&&(a+=i.attachments+"-"),i.nsp&&i.nsp!=="/"&&(a+=i.nsp+","),i.id!=null&&(a+=i.id),i.data!=null&&(a+=JSON.stringify(i.data,this.replacer)),a}encodeAsBinary(i){const a=jD(i),o=this.encodeAsString(a.packet),c=a.buffers;return c.unshift(o),c}}class jg extends qt{constructor(i){super(),this.reviver=i}add(i){let a;if(typeof i=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");a=this.decodeString(i);const o=a.type===Ze.BINARY_EVENT;o||a.type===Ze.BINARY_ACK?(a.type=o?Ze.EVENT:Ze.ACK,this.reconstructor=new kD(a),a.attachments===0&&super.emitReserved("decoded",a)):super.emitReserved("decoded",a)}else if(_g(i)||i.base64)if(this.reconstructor)a=this.reconstructor.takeBinaryData(i),a&&(this.reconstructor=null,super.emitReserved("decoded",a));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+i)}decodeString(i){let a=0;const o={type:Number(i.charAt(0))};if(Ze[o.type]===void 0)throw new Error("unknown packet type "+o.type);if(o.type===Ze.BINARY_EVENT||o.type===Ze.BINARY_ACK){const u=a+1;for(;i.charAt(++a)!=="-"&&a!=i.length;);const f=i.substring(u,a);if(f!=Number(f)||i.charAt(a)!=="-")throw new Error("Illegal attachments");o.attachments=Number(f)}if(i.charAt(a+1)==="/"){const u=a+1;for(;++a&&!(i.charAt(a)===","||a===i.length););o.nsp=i.substring(u,a)}else o.nsp="/";const c=i.charAt(a+1);if(c!==""&&Number(c)==c){const u=a+1;for(;++a;){const f=i.charAt(a);if(f==null||Number(f)!=f){--a;break}if(a===i.length)break}o.id=Number(i.substring(u,a+1))}if(i.charAt(++a)){const u=this.tryParse(i.substr(a));if(jg.isPayloadValid(o.type,u))o.data=u;else throw new Error("invalid payload")}return o}tryParse(i){try{return JSON.parse(i,this.reviver)}catch{return!1}}static isPayloadValid(i,a){switch(i){case Ze.CONNECT:return rf(a);case Ze.DISCONNECT:return a===void 0;case Ze.CONNECT_ERROR:return typeof a=="string"||rf(a);case Ze.EVENT:case Ze.BINARY_EVENT:return Array.isArray(a)&&(typeof a[0]=="number"||typeof a[0]=="string"&&RN.indexOf(a[0])===-1);case Ze.ACK:case Ze.BINARY_ACK:return Array.isArray(a)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class kD{constructor(i){this.packet=i,this.buffers=[],this.reconPack=i}takeBinaryData(i){if(this.buffers.push(i),this.buffers.length===this.reconPack.attachments){const a=ND(this.reconPack,this.buffers);return this.finishedReconstruction(),a}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function TD(t){return typeof t=="string"}const ED=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};function AD(t){return t===void 0||ED(t)}function rf(t){return Object.prototype.toString.call(t)==="[object Object]"}function LD(t,i){switch(t){case Ze.CONNECT:return i===void 0||rf(i);case Ze.DISCONNECT:return i===void 0;case Ze.EVENT:return Array.isArray(i)&&(typeof i[0]=="number"||typeof i[0]=="string"&&RN.indexOf(i[0])===-1);case Ze.ACK:return Array.isArray(i);case Ze.CONNECT_ERROR:return typeof i=="string"||rf(i);default:return!1}}function MD(t){return TD(t.nsp)&&AD(t.id)&&LD(t.type,t.data)}const RD=Object.freeze(Object.defineProperty({__proto__:null,Decoder:jg,Encoder:CD,get PacketType(){return Ze},isPacketValid:MD,protocol:SD},Symbol.toStringTag,{value:"Module"}));function Pi(t,i,a){return t.on(i,a),function(){t.off(i,a)}}const OD=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ON extends qt{constructor(i,a,o){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=i,this.nsp=a,o&&o.auth&&(this.auth=o.auth),this._opts=Object.assign({},o),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const i=this.io;this.subs=[Pi(i,"open",this.onopen.bind(this)),Pi(i,"packet",this.onpacket.bind(this)),Pi(i,"error",this.onerror.bind(this)),Pi(i,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...i){return i.unshift("message"),this.emit.apply(this,i),this}emit(i,...a){var o,c,u;if(OD.hasOwnProperty(i))throw new Error('"'+i.toString()+'" is a reserved event name');if(a.unshift(i),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(a),this;const f={type:Ze.EVENT,data:a};if(f.options={},f.options.compress=this.flags.compress!==!1,typeof a[a.length-1]=="function"){const b=this.ids++,w=a.pop();this._registerAckCallback(b,w),f.id=b}const m=(c=(o=this.io.engine)===null||o===void 0?void 0:o.transport)===null||c===void 0?void 0:c.writable,x=this.connected&&!(!((u=this.io.engine)===null||u===void 0)&&u._hasPingExpired());return this.flags.volatile&&!m||(x?(this.notifyOutgoingListeners(f),this.packet(f)):this.sendBuffer.push(f)),this.flags={},this}_registerAckCallback(i,a){var o;const c=(o=this.flags.timeout)!==null&&o!==void 0?o:this._opts.ackTimeout;if(c===void 0){this.acks[i]=a;return}const u=this.io.setTimeoutFn(()=>{delete this.acks[i];for(let m=0;m<this.sendBuffer.length;m++)this.sendBuffer[m].id===i&&this.sendBuffer.splice(m,1);a.call(this,new Error("operation has timed out"))},c),f=(...m)=>{this.io.clearTimeoutFn(u),a.apply(this,m)};f.withError=!0,this.acks[i]=f}emitWithAck(i,...a){return new Promise((o,c)=>{const u=(f,m)=>f?c(f):o(m);u.withError=!0,a.push(u),this.emit(i,...a)})}_addToQueue(i){let a;typeof i[i.length-1]=="function"&&(a=i.pop());const o={id:this._queueSeq++,tryCount:0,pending:!1,args:i,flags:Object.assign({fromQueue:!0},this.flags)};i.push((c,...u)=>(this._queue[0],c!==null?o.tryCount>this._opts.retries&&(this._queue.shift(),a&&a(c)):(this._queue.shift(),a&&a(null,...u)),o.pending=!1,this._drainQueue())),this._queue.push(o),this._drainQueue()}_drainQueue(i=!1){if(!this.connected||this._queue.length===0)return;const a=this._queue[0];a.pending&&!i||(a.pending=!0,a.tryCount++,this.flags=a.flags,this.emit.apply(this,a.args))}packet(i){i.nsp=this.nsp,this.io._packet(i)}onopen(){typeof this.auth=="function"?this.auth(i=>{this._sendConnectPacket(i)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(i){this.packet({type:Ze.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},i):i})}onerror(i){this.connected||this.emitReserved("connect_error",i)}onclose(i,a){this.connected=!1,delete this.id,this.emitReserved("disconnect",i,a),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(i=>{if(!this.sendBuffer.some(o=>String(o.id)===i)){const o=this.acks[i];delete this.acks[i],o.withError&&o.call(this,new Error("socket has been disconnected"))}})}onpacket(i){if(i.nsp===this.nsp)switch(i.type){case Ze.CONNECT:i.data&&i.data.sid?this.onconnect(i.data.sid,i.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ze.EVENT:case Ze.BINARY_EVENT:this.onevent(i);break;case Ze.ACK:case Ze.BINARY_ACK:this.onack(i);break;case Ze.DISCONNECT:this.ondisconnect();break;case Ze.CONNECT_ERROR:this.destroy();const o=new Error(i.data.message);o.data=i.data.data,this.emitReserved("connect_error",o);break}}onevent(i){const a=i.data||[];i.id!=null&&a.push(this.ack(i.id)),this.connected?this.emitEvent(a):this.receiveBuffer.push(Object.freeze(a))}emitEvent(i){if(this._anyListeners&&this._anyListeners.length){const a=this._anyListeners.slice();for(const o of a)o.apply(this,i)}super.emit.apply(this,i),this._pid&&i.length&&typeof i[i.length-1]=="string"&&(this._lastOffset=i[i.length-1])}ack(i){const a=this;let o=!1;return function(...c){o||(o=!0,a.packet({type:Ze.ACK,id:i,data:c}))}}onack(i){const a=this.acks[i.id];typeof a=="function"&&(delete this.acks[i.id],a.withError&&i.data.unshift(null),a.apply(this,i.data))}onconnect(i,a){this.id=i,this.recovered=a&&this._pid===a,this._pid=a,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(i=>this.emitEvent(i)),this.receiveBuffer=[],this.sendBuffer.forEach(i=>{this.notifyOutgoingListeners(i),this.packet(i)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(i=>i()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ze.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(i){return this.flags.compress=i,this}get volatile(){return this.flags.volatile=!0,this}timeout(i){return this.flags.timeout=i,this}onAny(i){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(i),this}prependAny(i){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(i),this}offAny(i){if(!this._anyListeners)return this;if(i){const a=this._anyListeners;for(let o=0;o<a.length;o++)if(i===a[o])return a.splice(o,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(i){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(i),this}prependAnyOutgoing(i){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(i),this}offAnyOutgoing(i){if(!this._anyOutgoingListeners)return this;if(i){const a=this._anyOutgoingListeners;for(let o=0;o<a.length;o++)if(i===a[o])return a.splice(o,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(i){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const a=this._anyOutgoingListeners.slice();for(const o of a)o.apply(this,i.data)}}}function Sl(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Sl.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var i=Math.random(),a=Math.floor(i*this.jitter*t);t=(Math.floor(i*10)&1)==0?t-a:t+a}return Math.min(t,this.max)|0};Sl.prototype.reset=function(){this.attempts=0};Sl.prototype.setMin=function(t){this.ms=t};Sl.prototype.setMax=function(t){this.max=t};Sl.prototype.setJitter=function(t){this.jitter=t};class d0 extends qt{constructor(i,a){var o;super(),this.nsps={},this.subs=[],i&&typeof i=="object"&&(a=i,i=void 0),a=a||{},a.path=a.path||"/socket.io",this.opts=a,Of(this,a),this.reconnection(a.reconnection!==!1),this.reconnectionAttempts(a.reconnectionAttempts||1/0),this.reconnectionDelay(a.reconnectionDelay||1e3),this.reconnectionDelayMax(a.reconnectionDelayMax||5e3),this.randomizationFactor((o=a.randomizationFactor)!==null&&o!==void 0?o:.5),this.backoff=new Sl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(a.timeout==null?2e4:a.timeout),this._readyState="closed",this.uri=i;const c=a.parser||RD;this.encoder=new c.Encoder,this.decoder=new c.Decoder,this._autoConnect=a.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(i){return arguments.length?(this._reconnection=!!i,i||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(i){return i===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=i,this)}reconnectionDelay(i){var a;return i===void 0?this._reconnectionDelay:(this._reconnectionDelay=i,(a=this.backoff)===null||a===void 0||a.setMin(i),this)}randomizationFactor(i){var a;return i===void 0?this._randomizationFactor:(this._randomizationFactor=i,(a=this.backoff)===null||a===void 0||a.setJitter(i),this)}reconnectionDelayMax(i){var a;return i===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=i,(a=this.backoff)===null||a===void 0||a.setMax(i),this)}timeout(i){return arguments.length?(this._timeout=i,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(i){if(~this._readyState.indexOf("open"))return this;this.engine=new gD(this.uri,this.opts);const a=this.engine,o=this;this._readyState="opening",this.skipReconnect=!1;const c=Pi(a,"open",function(){o.onopen(),i&&i()}),u=m=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",m),i?i(m):this.maybeReconnectOnOpen()},f=Pi(a,"error",u);if(this._timeout!==!1){const m=this._timeout,x=this.setTimeoutFn(()=>{c(),u(new Error("timeout")),a.close()},m);this.opts.autoUnref&&x.unref(),this.subs.push(()=>{this.clearTimeoutFn(x)})}return this.subs.push(c),this.subs.push(f),this}connect(i){return this.open(i)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const i=this.engine;this.subs.push(Pi(i,"ping",this.onping.bind(this)),Pi(i,"data",this.ondata.bind(this)),Pi(i,"error",this.onerror.bind(this)),Pi(i,"close",this.onclose.bind(this)),Pi(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(i){try{this.decoder.add(i)}catch(a){this.onclose("parse error",a)}}ondecoded(i){Rf(()=>{this.emitReserved("packet",i)},this.setTimeoutFn)}onerror(i){this.emitReserved("error",i)}socket(i,a){let o=this.nsps[i];return o?this._autoConnect&&!o.active&&o.connect():(o=new ON(this,i,a),this.nsps[i]=o),o}_destroy(i){const a=Object.keys(this.nsps);for(const o of a)if(this.nsps[o].active)return;this._close()}_packet(i){const a=this.encoder.encode(i);for(let o=0;o<a.length;o++)this.engine.write(a[o],i.options)}cleanup(){this.subs.forEach(i=>i()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(i,a){var o;this.cleanup(),(o=this.engine)===null||o===void 0||o.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",i,a),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const i=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const a=this.backoff.duration();this._reconnecting=!0;const o=this.setTimeoutFn(()=>{i.skipReconnect||(this.emitReserved("reconnect_attempt",i.backoff.attempts),!i.skipReconnect&&i.open(c=>{c?(i._reconnecting=!1,i.reconnect(),this.emitReserved("reconnect_error",c)):i.onreconnect()}))},a);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}}onreconnect(){const i=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",i)}}const Fc={};function Uh(t,i){typeof t=="object"&&(i=t,t=void 0),i=i||{};const a=vD(t,i.path||"/socket.io"),o=a.source,c=a.id,u=a.path,f=Fc[c]&&u in Fc[c].nsps,m=i.forceNew||i["force new connection"]||i.multiplex===!1||f;let x;return m?x=new d0(o,i):(Fc[c]||(Fc[c]=new d0(o,i)),x=Fc[c]),a.query&&!i.query&&(i.query=a.queryKey),x.socket(a.path,i)}Object.assign(Uh,{Manager:d0,Socket:ON,io:Uh,connect:Uh});const ph="http://localhost:3000/api",PD="http://localhost:3000",F1=()=>{const{memberId:t}=p_(),i=Gt(),a=Zi(),{user:o}=$t(),c=!!a.state?.member,[u,f]=N.useState([]),[m,x]=N.useState(null),[v,b]=N.useState([]),[w,j]=N.useState(""),[E,A]=N.useState(!0),[k,O]=N.useState(!1),[M,B]=N.useState(""),[T,D]=N.useState(null),[V,R]=N.useState([]),[Z,H]=N.useState([]),G=N.useRef(null),ee=N.useRef(null),Y=N.useRef(null);N.useEffect(()=>{const ae=Uh(PD,{withCredentials:!0,transports:["websocket","polling"]});return ae.on("connect",()=>{console.log(" Socket connected"),o?.id&&ae.emit("join",o.id)}),ae.on("receiveMessage",te=>{console.log(" Received message via socket:",te),b(I=>I.some(W=>W._id===te._id)?I:[...I,{_id:te._id,from:{_id:te.senderId},to:{_id:te.receiverId},message:te.message,timestamp:te.createdAt,read:!1}]),f(I=>I.map($=>$.recipientId===te.senderId||$.recipientId===te.receiverId?{...$,lastMessage:te.message,lastMessageTime:te.createdAt,unreadCount:$.recipientId===te.senderId?($.unreadCount||0)+1:$.unreadCount}:$))}),ae.on("messageSent",te=>{console.log(" Message sent confirmed via socket:",te),b(I=>I.map($=>$.pending&&$.message===te.message&&$.to._id===te.receiverId?{...$,_id:te._id,pending:!1}:$))}),ae.on("messageError",te=>{console.error(" Message error:",te)}),ae.on("userOnline",te=>{console.log(" User online:",te),R(I=>[...new Set([...I,te])])}),ae.on("userOffline",te=>{console.log(" User offline:",te),R(I=>I.filter($=>$!==te))}),ae.on("userTyping",({userId:te})=>{console.log(" User typing:",te),H(I=>[...new Set([...I,te])])}),ae.on("userStoppedTyping",({userId:te})=>{console.log(" User stopped typing:",te),H(I=>I.filter($=>$!==te))}),ae.on("connect_error",te=>{console.error(" Socket connection error:",te)}),D(ae),()=>{ae.disconnect()}},[o]),N.useEffect(()=>{K()},[]),N.useEffect(()=>{m&&le(m.recipientId)},[m]),N.useEffect(()=>{const ae=a.state?.member;if(ae&&!m){const te=ae.userId||ae._id||ae.id,I=u.find($=>$.recipientId===te||$.recipientId===ae._id||$.recipientId===ae.userId||$.email===ae.email);I?x(I):te&&x({recipientId:te,name:ae.name||ae.username,email:ae.email,avatar:ae.avatar||ae.name?.slice(0,2).toUpperCase(),role:ae.role||ae.designation,lastMessage:null,lastMessageTime:new Date().toISOString(),unreadCount:0})}else if(t&&u.length>0&&!m){const te=u.find(I=>I.recipientId===t);te&&x(te)}},[u,t,a.state,m]),N.useEffect(()=>{G.current?.scrollIntoView({behavior:"smooth"})},[v]);const K=async()=>{try{A(!0);const ae=await fetch(`${ph}/messages/conversations`,{credentials:"include"});if(ae.ok){const te=await ae.json();f(te.data?.conversations||[])}}catch(ae){console.error("Failed to load conversations:",ae)}finally{A(!1)}},le=async ae=>{try{const te=await fetch(`${ph}/messages/${ae}`,{credentials:"include"});if(te.ok){const I=await te.json();b(I.messages||[]),await fetch(`${ph}/messages/${ae}/mark-read`,{method:"PATCH",credentials:"include"}),f($=>$.map(W=>W.recipientId===ae?{...W,unreadCount:0}:W))}}catch(te){console.error("Failed to load messages:",te)}},F=async ae=>{if(ae.preventDefault(),!w.trim()||!m||k)return;const te=w.trim();j(""),O(!0);const I={_id:`temp-${Date.now()}`,from:{_id:o.id},to:{_id:m.recipientId},message:te,timestamp:new Date().toISOString(),read:!1,pending:!0};b($=>[...$,I]);try{if(T?.connected)console.log(" Sending via Socket.IO:",{to:m.recipientId,message:te}),T.emit("sendMessage",{senderId:o.id,receiverId:m.recipientId,message:te}),f($=>$.map(W=>W.recipientId===m.recipientId?{...W,lastMessage:te,lastMessageTime:new Date().toISOString()}:W));else{console.log(" Sending via API (socket not connected)");const $=await fetch(`${ph}/messages/send`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({receiverId:m.recipientId,message:te})});if($.ok){const W=await $.json();b(fe=>fe.map(be=>be._id===I._id?{...be,_id:W.data?._id||be._id,pending:!1}:be)),f(fe=>fe.map(be=>be.recipientId===m.recipientId?{...be,lastMessage:te,lastMessageTime:new Date().toISOString()}:be))}else throw new Error("Failed to send message")}}catch($){console.error("Failed to send message:",$),b(W=>W.filter(fe=>fe._id!==I._id)),j(te)}finally{O(!1),ee.current?.focus()}},ve=()=>{!T?.connected||!m||(T.emit("typing",{senderId:o.id,receiverId:m.recipientId}),Y.current&&clearTimeout(Y.current),Y.current=setTimeout(()=>{T.emit("stopTyping",{senderId:o.id,receiverId:m.recipientId})},2e3))},U=u.filter(ae=>ae.name?.toLowerCase().includes(M.toLowerCase())||ae.email?.toLowerCase().includes(M.toLowerCase())),ne=ae=>{if(!ae)return"";const te=new Date(ae),$=new Date-te;return $<6e4?"Just now":$<36e5?`${Math.floor($/6e4)}m ago`:$<864e5?te.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):te.toLocaleDateString([],{month:"short",day:"numeric"})},J=ae=>V.includes(ae);return c&&m?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:e.jsx("div",{className:"flex h-screen",children:e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-white/10 bg-white/5 backdrop-blur-xl",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>i(-1),className:"p-2 hover:bg-white/10 rounded-lg transition-all",children:e.jsx(Yn,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:m.avatar||m.name?.slice(0,2).toUpperCase()}),J(m.recipientId)&&e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-4 h-4 bg-emerald-500 rounded-full border-2 border-slate-900"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:m.name}),e.jsx("p",{className:"text-sm text-gray-400",children:m.email})]})]})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[v.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[e.jsx(vs,{className:"w-16 h-16 text-purple-400/50 mb-4"}),e.jsx("p",{className:"text-gray-400",children:"No messages yet. Start the conversation!"})]}):v.map((ae,te)=>{const I=ae.from?._id===o?.id;return e.jsx(rs.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${I?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs md:max-w-md lg:max-w-lg px-4 py-2 rounded-2xl ${I?"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-br-md":"bg-white/10 text-white rounded-bl-md"}`,children:[e.jsx("p",{children:ae.message}),e.jsxs("div",{className:`flex items-center gap-1 mt-1 text-xs ${I?"text-white/70 justify-end":"text-gray-400"}`,children:[e.jsx("span",{children:ne(ae.timestamp)}),I&&(ae.read?e.jsx(Ex,{className:"w-3 h-3"}):e.jsx(Va,{className:"w-3 h-3"}))]})]})},ae._id||te)}),e.jsx("div",{ref:G})]}),Z.includes(m.recipientId)&&e.jsxs("div",{className:"px-4 py-2 text-sm text-purple-300 flex items-center gap-2",children:[e.jsxs("span",{className:"flex gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsxs("span",{children:[m.name," is typing..."]})]}),e.jsx("div",{className:"p-4 border-t border-white/10 bg-white/5",children:e.jsxs("form",{onSubmit:F,className:"flex items-center gap-3",children:[e.jsx("input",{ref:ee,type:"text",value:w,onChange:ae=>{j(ae.target.value),ve()},placeholder:"Type your message...",className:"flex-1 px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-purple-500 transition-all"}),e.jsx("button",{type:"submit",disabled:!w.trim()||k,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg hover:shadow-purple-500/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:k?e.jsx(Pe,{className:"w-5 h-5 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(ru,{className:"w-5 h-5"}),e.jsx("span",{children:"Send"})]})})]})})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:e.jsxs("div",{className:"flex h-screen",children:[e.jsxs("div",{className:`w-full md:w-80 lg:w-96 bg-white/5 backdrop-blur-xl border-r border-white/10 flex flex-col ${m?"hidden md:flex":"flex"}`,children:[e.jsxs("div",{className:"p-4 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>i(-1),className:"p-2 hover:bg-white/10 rounded-lg transition-all",children:e.jsx(Yn,{className:"w-5 h-5 text-white"})}),e.jsx("h1",{className:"text-xl font-bold text-white",children:"Conversations"})]}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full animate-pulse"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Za,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:M,onChange:ae=>B(ae.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-purple-500"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:E?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Pe,{className:"w-8 h-8 text-purple-500 animate-spin"})}):U.length===0?e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsx(vs,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No conversations yet"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Add team members from Team Management to start chatting"}),e.jsx("button",{onClick:()=>i("/dashboard/official/team"),className:"mt-4 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-sm rounded-lg hover:shadow-lg transition-all",children:"Go to Team Management"})]}):e.jsx("div",{className:"divide-y divide-white/5",children:U.map(ae=>e.jsxs(rs.button,{onClick:()=>x(ae),className:`w-full p-4 flex items-center gap-3 hover:bg-white/5 transition-all text-left ${m?.recipientId===ae.recipientId?"bg-white/10":""}`,whileHover:{x:4},children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:ae.avatar||ae.name?.slice(0,2).toUpperCase()}),J(ae.recipientId)&&e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-emerald-500 rounded-full border-2 border-slate-900"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-white truncate",children:ae.name}),e.jsx("span",{className:"text-xs text-gray-400",children:ne(ae.lastMessageTime)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-400 truncate",children:ae.lastMessage||"No messages yet"}),ae.unreadCount>0&&e.jsx("span",{className:"min-w-[20px] h-5 flex items-center justify-center bg-purple-500 text-white text-xs rounded-full px-1.5",children:ae.unreadCount})]})]})]},ae.recipientId))})})]}),e.jsx("div",{className:`flex-1 flex flex-col ${m?"flex":"hidden md:flex"}`,children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-4 border-b border-white/10 bg-white/5 backdrop-blur-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>x(null),className:"md:hidden p-2 hover:bg-white/10 rounded-lg transition-all",children:e.jsx(Yn,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:m.avatar||m.name?.slice(0,2).toUpperCase()}),J(m.recipientId)&&e.jsx("div",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 bg-emerald-500 rounded-full border-2 border-slate-800"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-white",children:m.name}),e.jsx("p",{className:"text-xs text-gray-400",children:J(m.recipientId)?"Online":m.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 hover:bg-white/10 rounded-lg transition-all text-gray-400 hover:text-white",children:e.jsx(bf,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 hover:bg-white/10 rounded-lg transition-all text-gray-400 hover:text-white",children:e.jsx(Xh,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 hover:bg-white/10 rounded-lg transition-all text-gray-400 hover:text-white",children:e.jsx(Q_,{className:"w-5 h-5"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[v.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500/20 to-purple-600/20 flex items-center justify-center mb-4",children:e.jsx(vs,{className:"w-10 h-10 text-purple-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:"Start a conversation"}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Send a message to ",m.name]})]}):v.map((ae,te)=>{const I=ae.from?._id===o?.id||ae.sender===o?.id,$=te===0||new Date(v[te-1]?.timestamp).toDateString()!==new Date(ae.timestamp).toDateString();return e.jsxs("div",{children:[$&&e.jsx("div",{className:"flex items-center justify-center my-4",children:e.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-xs text-gray-400",children:new Date(ae.timestamp).toLocaleDateString([],{weekday:"long",month:"short",day:"numeric"})})}),e.jsx(rs.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${I?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 ${I?"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-br-md":"bg-white/10 text-gray-200 rounded-bl-md"} ${ae.pending?"opacity-70":""}`,children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:ae.message}),e.jsxs("div",{className:`flex items-center gap-1 mt-1 ${I?"justify-end":"justify-start"}`,children:[e.jsx("span",{className:"text-xs opacity-70",children:new Date(ae.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),I&&(ae.pending?e.jsx(Pe,{className:"w-3 h-3 animate-spin opacity-70"}):ae.read?e.jsx(Ex,{className:"w-3 h-3 text-blue-300"}):e.jsx(Va,{className:"w-3 h-3 opacity-70"}))]})]})})]},ae._id)}),e.jsx("div",{ref:G})]}),m&&Z.includes(m.recipientId)&&e.jsxs("div",{className:"px-4 py-2 text-sm text-purple-300 flex items-center gap-2",children:[e.jsxs("span",{className:"flex gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsxs("span",{children:[m.name," is typing..."]})]}),e.jsx("div",{className:"p-4 border-t border-white/10 bg-white/5",children:e.jsxs("form",{onSubmit:F,className:"flex items-center gap-3",children:[e.jsx("input",{ref:ee,type:"text",value:w,onChange:ae=>{j(ae.target.value),ve()},placeholder:"Type your message...",className:"flex-1 px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-purple-500 transition-all"}),e.jsx("button",{type:"submit",disabled:!w.trim()||k,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg hover:shadow-purple-500/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:k?e.jsx(Pe,{className:"w-5 h-5 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(ru,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Send"})]})})]})})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-500/20 to-purple-600/20 flex items-center justify-center mb-6",children:e.jsx(vs,{className:"w-12 h-12 text-purple-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Team Chat"}),e.jsx("p",{className:"text-gray-400 max-w-md",children:"Select a conversation from the sidebar to start chatting with your team members"})]})})]})})},px=[{title:"Total Issues",value:"1,284",change:"+12%",trend:"up",color:"rose"},{title:"Resolved",value:"847",change:"+8%",trend:"up",color:"emerald"},{title:"Avg. Resolution Time",value:"2.4 days",change:"-15%",trend:"up",color:"violet"},{title:"Pending",value:"156",change:"+3%",trend:"down",color:"amber"}],xx=[{category:"Potholes",count:342,percentage:27,color:"bg-rose-500"},{category:"Street Lights",count:256,percentage:20,color:"bg-violet-500"},{category:"Garbage",count:198,percentage:15,color:"bg-amber-500"},{category:"Water/Drainage",count:178,percentage:14,color:"bg-cyan-500"},{category:"Traffic",count:156,percentage:12,color:"bg-emerald-500"},{category:"Other",count:154,percentage:12,color:"bg-gray-500"}],gx=[{month:"Jan",reported:120,resolved:98},{month:"Feb",reported:145,resolved:130},{month:"Mar",reported:132,resolved:125},{month:"Apr",reported:168,resolved:142},{month:"May",reported:189,resolved:170},{month:"Jun",reported:156,resolved:148},{month:"Jul",reported:178,resolved:165},{month:"Aug",reported:203,resolved:185},{month:"Sep",reported:187,resolved:172},{month:"Oct",reported:195,resolved:180},{month:"Nov",reported:210,resolved:195},{month:"Dec",reported:225,resolved:200}],vx=[{name:"Roads & Infrastructure",issues:456,resolved:389,avgTime:"2.1 days"},{name:"Sanitation",issues:312,resolved:287,avgTime:"1.5 days"},{name:"Electricity",issues:245,resolved:198,avgTime:"3.2 days"},{name:"Water Supply",issues:178,resolved:142,avgTime:"2.8 days"},{name:"Parks & Recreation",issues:93,resolved:85,avgTime:"4.5 days"}];function DD(){const[t,i]=N.useState("month"),[a,o]=N.useState(null),[c,u]=N.useState(!0),[f,m]=N.useState(null);N.useEffect(()=>{x()},[t]);const x=async()=>{try{u(!0),m(null);const k=await $e.getAnalytics({period:t});o(k.data||null)}catch(k){console.error("Error loading analytics:",k),m(k.message||"Failed to load analytics"),o({overviewStats:px,categoryData:xx,monthlyData:gx,departmentData:vx})}finally{u(!1)}},v=()=>{try{const k=a||{overviewStats:px,categoryData:xx,monthlyData:gx,departmentData:vx};let O=`CitizenVoice Analytics Report
`;O+=`Period: ${t}
`,O+=`Generated: ${new Date().toLocaleString()}

`,O+=`OVERVIEW STATISTICS
`,O+=`Metric,Value,Change
`,k.overviewStats.forEach(D=>{O+=`${D.title},${D.value},${D.change}
`}),O+=`

ISSUES BY CATEGORY
`,O+=`Category,Count,Percentage
`,k.categoryData.forEach(D=>{O+=`${D.category},${D.count},${D.percentage}%
`}),O+=`

MONTHLY TREND
`,O+=`Month,Reported,Resolved
`,k.monthlyData.forEach(D=>{O+=`${D.month},${D.reported},${D.resolved}
`}),O+=`

DEPARTMENT PERFORMANCE
`,O+=`Department,Total Issues,Resolved,Resolution Rate,Avg Time
`,k.departmentData.forEach(D=>{const V=Math.round(D.resolved/D.issues*100);O+=`${D.name},${D.issues},${D.resolved},${V}%,${D.avgTime}
`});const M=new Blob([O],{type:"text/csv;charset=utf-8;"}),B=URL.createObjectURL(M),T=document.createElement("a");T.setAttribute("href",B),T.setAttribute("download",`analytics-report-${t}-${Date.now()}.csv`),document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(B)}catch(k){console.error("Error exporting data:",k),alert("Failed to export analytics data. Please try again.")}},b=a?.overviewStats||px,w=a?.categoryData||xx,j=a?.monthlyData||gx,E=a?.departmentData||vx,A=Math.max(...j.map(k=>Math.max(k.reported,k.resolved)));return c?e.jsx("div",{className:"flex h-96 items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Pe,{className:"h-12 w-12 animate-spin text-rose-500 mx-auto mb-4"}),e.jsx("p",{className:"text-white/60",children:"Loading analytics..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Analytics"}),e.jsx("p",{className:"text-sm text-white/60",children:"Performance overview and insights"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex overflow-hidden rounded-lg border border-white/10",children:["week","month","quarter","year"].map(k=>e.jsx("button",{onClick:()=>i(k),className:_e("px-3 py-2 text-xs transition-colors",t===k?"bg-white/10 text-white":"text-white/40 hover:text-white"),children:k.charAt(0).toUpperCase()+k.slice(1)},k))}),e.jsxs("button",{onClick:v,className:"flex items-center gap-2 rounded-lg border border-white/10 px-3 py-2 text-sm text-white/60 hover:bg-white/5",children:[e.jsx(N0,{className:"h-4 w-4"}),"Export"]})]})]}),f&&e.jsx("div",{className:"rounded-xl border border-amber-500/20 bg-amber-500/10 p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"h-5 w-5 text-amber-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-amber-400",children:"Using cached data"}),e.jsx("p",{className:"text-xs text-white/60",children:f})]})]})}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:b.map((k,O)=>e.jsxs("div",{className:_e("rounded-xl border border-white/10 bg-gradient-to-br p-6",k.color==="rose"?"from-rose-500/10 to-transparent":k.color==="emerald"?"from-emerald-500/10 to-transparent":k.color==="violet"?"from-violet-500/10 to-transparent":"from-amber-500/10 to-transparent"),children:[e.jsx("p",{className:"text-sm text-white/60",children:k.title}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-white",children:k.value}),e.jsxs("div",{className:"mt-2 flex items-center gap-1 text-sm",children:[k.trend==="up"?e.jsx(si,{className:"h-4 w-4 text-emerald-400"}):e.jsx(ou,{className:"h-4 w-4 text-rose-400"}),e.jsx("span",{className:k.trend==="up"?"text-emerald-400":"text-rose-400",children:k.change}),e.jsxs("span",{className:"text-white/40",children:["vs last ",t]})]})]},O))}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsxs("h3",{className:"mb-6 flex items-center gap-2 text-lg font-semibold text-white",children:[e.jsx(K_,{className:"h-5 w-5 text-rose-400"}),"Issues by Category"]}),e.jsx("div",{className:"space-y-4",children:w.map(k=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white",children:k.category}),e.jsxs("span",{className:"text-white/60",children:[k.count," (",k.percentage,"%)"]})]}),e.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-white/10",children:e.jsx("div",{className:_e("h-full rounded-full",k.color),style:{width:`${k.percentage}%`}})})]},k.category))})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsxs("h3",{className:"mb-6 flex items-center gap-2 text-lg font-semibold text-white",children:[e.jsx(iu,{className:"h-5 w-5 text-violet-400"}),"Monthly Trend"]}),e.jsx("div",{className:"flex h-64 items-end gap-2",children:j.map((k,O)=>e.jsxs("div",{className:"group flex flex-1 flex-col items-center gap-1",children:[e.jsxs("div",{className:"relative flex w-full justify-center gap-1",children:[e.jsx("div",{className:"w-2 rounded-t bg-rose-500/60 transition-all group-hover:bg-rose-500",style:{height:`${k.reported/A*200}px`}}),e.jsx("div",{className:"w-2 rounded-t bg-emerald-500/60 transition-all group-hover:bg-emerald-500",style:{height:`${k.resolved/A*200}px`}})]}),e.jsx("span",{className:"text-xs text-white/40",children:k.month})]},`${k.month}-${O}`))}),e.jsxs("div",{className:"mt-4 flex justify-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-3 w-3 rounded-full bg-rose-500"}),e.jsx("span",{className:"text-xs text-white/60",children:"Reported"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-3 w-3 rounded-full bg-emerald-500"}),e.jsx("span",{className:"text-xs text-white/60",children:"Resolved"})]})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsxs("h3",{className:"mb-6 flex items-center gap-2 text-lg font-semibold text-white",children:[e.jsx(gf,{className:"h-5 w-5 text-cyan-400"}),"Department Performance"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/10",children:[e.jsx("th",{className:"pb-3 text-left text-xs font-medium text-white/60",children:"Department"}),e.jsx("th",{className:"pb-3 text-right text-xs font-medium text-white/60",children:"Total Issues"}),e.jsx("th",{className:"pb-3 text-right text-xs font-medium text-white/60",children:"Resolved"}),e.jsx("th",{className:"pb-3 text-right text-xs font-medium text-white/60",children:"Resolution Rate"}),e.jsx("th",{className:"pb-3 text-right text-xs font-medium text-white/60",children:"Avg. Time"}),e.jsx("th",{className:"pb-3 text-left text-xs font-medium text-white/60",children:"Performance"})]})}),e.jsx("tbody",{children:E.map((k,O)=>{const M=Math.round(k.resolved/k.issues*100);return e.jsxs("tr",{className:"border-b border-white/5 transition-colors hover:bg-white/5",children:[e.jsx("td",{className:"py-4 text-sm text-white",children:k.name}),e.jsx("td",{className:"py-4 text-right text-sm text-white/60",children:k.issues}),e.jsx("td",{className:"py-4 text-right text-sm text-white/60",children:k.resolved}),e.jsx("td",{className:"py-4 text-right",children:e.jsxs("span",{className:_e("rounded px-2 py-1 text-xs",M>=85?"bg-emerald-500/20 text-emerald-400":M>=70?"bg-amber-500/20 text-amber-400":"bg-rose-500/20 text-rose-400"),children:[M,"%"]})}),e.jsx("td",{className:"py-4 text-right text-sm text-white/60",children:k.avgTime}),e.jsx("td",{className:"py-4",children:e.jsx("div",{className:"h-2 w-24 overflow-hidden rounded-full bg-white/10",children:e.jsx("div",{className:_e("h-full rounded-full",M>=85?"bg-emerald-500":M>=70?"bg-amber-500":"bg-rose-500"),style:{width:`${M}%`}})})})]},O)})})]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"rounded-xl border border-emerald-500/20 bg-emerald-500/10 p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(si,{className:"h-5 w-5 text-emerald-400"}),e.jsx("span",{className:"font-medium text-emerald-400",children:"Best Performer"})]}),e.jsxs("p",{className:"text-sm text-white",children:[e.jsx("strong",{children:"Sanitation"})," department has the best resolution rate at 92% with avg. resolution time of 1.5 days."]})]}),e.jsxs("div",{className:"rounded-xl border border-amber-500/20 bg-amber-500/10 p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(iu,{className:"h-5 w-5 text-amber-400"}),e.jsx("span",{className:"font-medium text-amber-400",children:"Peak Hours"})]}),e.jsxs("p",{className:"text-sm text-white",children:["Most issues are reported between ",e.jsx("strong",{children:"9 AM - 11 AM"})," on weekdays. Consider allocating more resources during these hours."]})]}),e.jsxs("div",{className:"rounded-xl border border-rose-500/20 bg-rose-500/10 p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(ou,{className:"h-5 w-5 text-rose-400"}),e.jsx("span",{className:"font-medium text-rose-400",children:"Attention Needed"})]}),e.jsxs("p",{className:"text-sm text-white",children:[e.jsx("strong",{children:"Parks & Recreation"})," has the longest average resolution time at 4.5 days. Review resource allocation."]})]})]})]})}const Z1={high:{label:"High",color:"text-rose-400",bg:"bg-rose-500/20",border:"border-rose-500/30"},medium:{label:"Medium",color:"text-amber-400",bg:"bg-amber-500/20",border:"border-amber-500/30"},low:{label:"Low",color:"text-emerald-400",bg:"bg-emerald-500/20",border:"border-emerald-500/30"}};function zD({report:t,isOpen:i,onClose:a,onComplete:o}){const[c,u]=N.useState(null),[f,m]=N.useState(""),[x,v]=N.useState(!1),[b,w]=N.useState(null),[j,E]=N.useState(!1);if(!i||!t)return null;const A=t.issue||{},k=Z1[A.priority]||Z1.medium,O=A.priority==="high",M=V=>new Date(V).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),B=V=>new Date(V).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),T=async()=>{if(!c){w("Please select a decision (Approve or Reject)");return}if(c==="reject"&&!f.trim()){w("Remarks are mandatory when rejecting a verification");return}if(c==="approve"&&!j){w("Please confirm the verification details before approving");return}try{v(!0),w(null),await $e.reviewReport(t._id,{decision:c,remarks:f.trim(),newStatus:c==="approve"?"in-progress":A.status}),o()}catch(V){console.error("Review submission error:",V),w(V.message||"Failed to submit review")}finally{v(!1)}},D=()=>{u(null),m(""),w(null),E(!1),a()};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto bg-black/70 p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"relative w-full max-w-4xl overflow-hidden rounded-2xl border border-white/10 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 shadow-2xl",children:[O&&e.jsxs("div",{className:"flex items-center justify-center gap-2 bg-gradient-to-r from-rose-500 to-orange-500 py-2 text-sm font-semibold text-white",children:[e.jsx(Wn,{className:"h-4 w-4"}),"HIGH PRIORITY ISSUE"]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 bg-blue-500/10 px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-500/20",children:e.jsx(Ha,{className:"h-5 w-5 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Verification Review"}),e.jsx("p",{className:"text-sm text-white/60",children:"Review field verification report"})]})]}),e.jsx("button",{onClick:D,className:"rounded-lg p-2 text-white/60 transition-colors hover:bg-white/10 hover:text-white",children:e.jsx(ls,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"max-h-[70vh] overflow-y-auto p-6",children:[e.jsxs("div",{className:"mb-6 rounded-xl border border-white/10 bg-white/5 p-5",children:[e.jsx("div",{className:"mb-4 flex items-start justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-0.5 text-xs text-white/60",children:[e.jsx(S0,{className:"h-3 w-3"}),A.issueId||A._id?.slice(-8)]}),e.jsxs("span",{className:_e("rounded-full border px-2 py-0.5 text-xs font-medium",k.bg,k.color,k.border),children:[k.label," Priority"]})]}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:A.title})]})}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Je,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/40",children:"Location"}),e.jsx("p",{className:"text-sm text-white",children:A.location?.address||"N/A"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(bi,{className:"mt-0.5 h-4 w-4 text-violet-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/40",children:"Reported On"}),e.jsx("p",{className:"text-sm text-white",children:M(A.createdAt)})]})]})]})]}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("h4",{className:"flex items-center gap-2 text-sm font-semibold uppercase tracking-wider text-white/70",children:[e.jsx(wi,{className:"h-4 w-4"}),"Verification Report Details"]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 text-lg font-bold text-white",children:(t.submittedBy?.username||"U").substring(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/40",children:"Field Officer"}),e.jsx("p",{className:"font-medium text-white",children:t.submittedBy?.username||"Unknown"}),e.jsx("p",{className:"text-xs text-white/50",children:t.submittedBy?.email})]})]})}),e.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-violet-500/20",children:e.jsx(Ot,{className:"h-6 w-6 text-violet-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/40",children:"Submitted At"}),e.jsx("p",{className:"font-medium text-white",children:M(t.submittedAt)}),e.jsx("p",{className:"text-xs text-white/50",children:B(t.submittedAt)})]})]})})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsx("p",{className:"mb-2 text-xs text-white/40",children:"Field Verification Outcome"}),e.jsxs("span",{className:_e("inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-medium",t.outcome==="verified"?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-rose-400"),children:[t.outcome==="verified"?e.jsx(Be,{className:"h-4 w-4"}):e.jsx(Zs,{className:"h-4 w-4"}),t.outcome==="verified"?"Issue Verified":"Issue Not Verified"]})]}),t.rootCause&&e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsx("p",{className:"mb-2 text-xs text-white/40",children:"Root Cause Analysis"}),e.jsx("p",{className:"whitespace-pre-wrap text-sm text-white",children:t.rootCause})]}),t.remarks&&e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsx("p",{className:"mb-2 text-xs text-white/40",children:"Officer Remarks"}),e.jsx("p",{className:"whitespace-pre-wrap text-sm text-white",children:t.remarks})]})]}),t.evidence&&t.evidence.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-semibold uppercase tracking-wider text-white/70",children:[e.jsx(k0,{className:"h-4 w-4"}),"Field Evidence (",t.evidence.length," images)"]}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:t.evidence.map((V,R)=>e.jsxs("a",{href:V,target:"_blank",rel:"noopener noreferrer",className:"group relative aspect-video overflow-hidden rounded-xl border border-white/10 bg-black/20 transition-all hover:border-blue-500/50",children:[e.jsx("img",{src:V,alt:`Evidence ${R+1}`,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 opacity-0 transition-opacity group-hover:opacity-100",children:e.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-white/10 px-3 py-2 backdrop-blur-sm",children:[e.jsx(vf,{className:"h-4 w-4 text-white"}),e.jsx("span",{className:"text-sm text-white",children:"View Full"})]})})]},R))})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-slate-800/50 to-slate-700/30 p-5",children:[e.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-semibold uppercase tracking-wider text-white",children:[e.jsx(qa,{className:"h-4 w-4 text-rose-400"}),"Admin Decision"]}),e.jsxs("div",{className:"mb-4 grid gap-3 sm:grid-cols-2",children:[e.jsxs("button",{onClick:()=>u("approve"),className:_e("flex items-center justify-center gap-2 rounded-xl border-2 p-4 transition-all",c==="approve"?"border-emerald-500 bg-emerald-500/20 text-emerald-400":"border-white/10 text-white/60 hover:border-emerald-500/50 hover:bg-emerald-500/10"),children:[e.jsx(Be,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Approve"})]}),e.jsxs("button",{onClick:()=>u("reject"),className:_e("flex items-center justify-center gap-2 rounded-xl border-2 p-4 transition-all",c==="reject"?"border-rose-500 bg-rose-500/20 text-rose-400":"border-white/10 text-white/60 hover:border-rose-500/50 hover:bg-rose-500/10"),children:[e.jsx(Zs,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Reject"})]})]}),c==="approve"&&e.jsx("div",{className:"mb-4 rounded-lg border border-blue-500/20 bg-blue-500/10 p-3",children:e.jsxs("p",{className:"flex items-center gap-2 text-sm text-blue-400",children:[e.jsx(vt,{className:"h-4 w-4"}),"Approving will change issue status to ",e.jsx("strong",{children:'"In Progress"'})]})}),c==="approve"&&e.jsxs("label",{className:"mb-4 flex cursor-pointer items-start gap-3 rounded-lg border border-white/10 bg-white/5 p-3",children:[e.jsx("input",{type:"checkbox",checked:j,onChange:V=>E(V.target.checked),className:"mt-0.5 h-4 w-4 rounded border-white/20 bg-white/10 text-emerald-500 focus:ring-emerald-500/50"}),e.jsx("span",{className:"text-sm text-white/80",children:"I confirm that I have reviewed the verification details and evidence, and approve this verification report."})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"mb-2 flex items-center gap-2 text-sm text-white/70",children:[e.jsx(vs,{className:"h-4 w-4"}),"Admin Remarks",c==="reject"&&e.jsx("span",{className:"text-rose-400",children:"*"})]}),e.jsx("textarea",{value:f,onChange:V=>m(V.target.value),placeholder:c==="reject"?"Please provide reason for rejection (required)...":"Add any additional remarks (optional)...",rows:3,className:"w-full resize-none rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white placeholder-white/30 transition-colors focus:border-rose-500/50 focus:outline-none"})]}),b&&e.jsx("div",{className:"mb-4 rounded-lg border border-rose-500/30 bg-rose-500/10 p-3",children:e.jsxs("p",{className:"flex items-center gap-2 text-sm text-rose-400",children:[e.jsx(vt,{className:"h-4 w-4"}),b]})}),e.jsx("button",{onClick:T,disabled:x||!c,className:_e("flex w-full items-center justify-center gap-2 rounded-xl py-3.5 text-sm font-semibold text-white transition-all disabled:opacity-50",c==="approve"?"bg-gradient-to-r from-emerald-500 to-green-500 hover:shadow-lg hover:shadow-emerald-500/25":c==="reject"?"bg-gradient-to-r from-rose-500 to-red-500 hover:shadow-lg hover:shadow-rose-500/25":"bg-white/10"),children:x?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"h-5 w-5 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[c==="approve"?e.jsx(Be,{className:"h-5 w-5"}):c==="reject"?e.jsx(Zs,{className:"h-5 w-5"}):e.jsx(qa,{className:"h-5 w-5"}),c==="approve"?"Approve Verification":c==="reject"?"Reject Verification":"Select Decision"]})})]})]})]})})}const q1={high:{label:"High",color:"text-rose-400",bg:"bg-rose-500/20",border:"border-rose-500/30"},medium:{label:"Medium",color:"text-amber-400",bg:"bg-amber-500/20",border:"border-amber-500/30"},low:{label:"Low",color:"text-emerald-400",bg:"bg-emerald-500/20",border:"border-emerald-500/30"}};function BD({report:t,isOpen:i,onClose:a,onComplete:o}){const[c,u]=N.useState(null),[f,m]=N.useState(""),[x,v]=N.useState(!1),[b,w]=N.useState(null),[j,E]=N.useState(!1),[A,k]=N.useState(!0);if(!i||!t)return null;const O=t.issue||{},M=q1[O.priority]||q1.medium,B=O.priority==="high",T=Z=>new Date(Z).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),D=Z=>new Date(Z).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),V=async()=>{if(!c){w("Please select a decision (Approve or Reject)");return}if(c==="reject"&&!f.trim()){w("Remarks are mandatory when rejecting a resolution");return}if(c==="approve"&&!j){w("Please confirm the resolution details before approving");return}try{v(!0),w(null),await $e.reviewReport(t._id,{decision:c,remarks:f.trim(),newStatus:c==="approve"?"resolved":"in-progress",notifyReporter:c==="approve"&&A}),o()}catch(Z){console.error("Review submission error:",Z),w(Z.message||"Failed to submit review")}finally{v(!1)}},R=()=>{u(null),m(""),w(null),E(!1),k(!0),a()};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto bg-black/70 p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"relative w-full max-w-4xl overflow-hidden rounded-2xl border border-white/10 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 shadow-2xl",children:[B&&e.jsxs("div",{className:"flex items-center justify-center gap-2 bg-gradient-to-r from-rose-500 to-orange-500 py-2 text-sm font-semibold text-white",children:[e.jsx(Wn,{className:"h-4 w-4"}),"HIGH PRIORITY ISSUE"]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 bg-emerald-500/10 px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-emerald-500/20",children:e.jsx(Be,{className:"h-5 w-5 text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Resolution Review"}),e.jsx("p",{className:"text-sm text-white/60",children:"Review field resolution report and proof"})]})]}),e.jsx("button",{onClick:R,className:"rounded-lg p-2 text-white/60 transition-colors hover:bg-white/10 hover:text-white",children:e.jsx(ls,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"max-h-[70vh] overflow-y-auto p-6",children:[e.jsxs("div",{className:"mb-6 rounded-xl border border-white/10 bg-white/5 p-5",children:[e.jsx("div",{className:"mb-4 flex items-start justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-0.5 text-xs text-white/60",children:[e.jsx(S0,{className:"h-3 w-3"}),O.issueId||O._id?.slice(-8)]}),e.jsxs("span",{className:_e("rounded-full border px-2 py-0.5 text-xs font-medium",M.bg,M.color,M.border),children:[M.label," Priority"]})]}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:O.title})]})}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Je,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/40",children:"Location"}),e.jsx("p",{className:"text-sm text-white",children:O.location?.address||"N/A"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Vi,{className:"mt-0.5 h-4 w-4 text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/40",children:"Reported By"}),e.jsx("p",{className:"text-sm text-white",children:O.reportedBy?.username||"Unknown"})]})]})]})]}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("h4",{className:"flex items-center gap-2 text-sm font-semibold uppercase tracking-wider text-white/70",children:[e.jsx(wi,{className:"h-4 w-4"}),"Resolution Report Details"]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-emerald-500 to-green-500 text-lg font-bold text-white",children:(t.submittedBy?.username||"U").substring(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/40",children:"Resolution Officer"}),e.jsx("p",{className:"font-medium text-white",children:t.submittedBy?.username||"Unknown"}),e.jsx("p",{className:"text-xs text-white/50",children:t.submittedBy?.email})]})]})}),e.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-violet-500/20",children:e.jsx(Ot,{className:"h-6 w-6 text-violet-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/40",children:"Submitted At"}),e.jsx("p",{className:"font-medium text-white",children:T(t.submittedAt)}),e.jsx("p",{className:"text-xs text-white/50",children:D(t.submittedAt)})]})]})})]}),t.workSummary&&e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(_f,{className:"h-4 w-4 text-amber-400"}),e.jsx("p",{className:"text-xs text-white/40",children:"Work Summary"})]}),e.jsx("p",{className:"whitespace-pre-wrap text-sm text-white",children:t.workSummary})]}),t.stepsTaken&&e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(Hk,{className:"h-4 w-4 text-blue-400"}),e.jsx("p",{className:"text-xs text-white/40",children:"Steps Taken"})]}),e.jsx("p",{className:"whitespace-pre-wrap text-sm text-white",children:t.stepsTaken})]}),t.resourcesUsed&&e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(T0,{className:"h-4 w-4 text-violet-400"}),e.jsx("p",{className:"text-xs text-white/40",children:"Resources Used"})]}),e.jsx("p",{className:"whitespace-pre-wrap text-sm text-white",children:t.resourcesUsed})]}),t.remarks&&e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(vs,{className:"h-4 w-4 text-rose-400"}),e.jsx("p",{className:"text-xs text-white/40",children:"Officer Remarks"})]}),e.jsx("p",{className:"whitespace-pre-wrap text-sm text-white",children:t.remarks})]})]}),t.proof&&t.proof.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-semibold uppercase tracking-wider text-white/70",children:[e.jsx(k0,{className:"h-4 w-4"}),"Resolution Proof (",t.proof.length," images)"]}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:t.proof.map((Z,H)=>e.jsxs("a",{href:Z,target:"_blank",rel:"noopener noreferrer",className:"group relative aspect-video overflow-hidden rounded-xl border border-white/10 bg-black/20 transition-all hover:border-emerald-500/50",children:[e.jsx("img",{src:Z,alt:`Proof ${H+1}`,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 opacity-0 transition-opacity group-hover:opacity-100",children:e.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-white/10 px-3 py-2 backdrop-blur-sm",children:[e.jsx(vf,{className:"h-4 w-4 text-white"}),e.jsx("span",{className:"text-sm text-white",children:"View Full"})]})}),e.jsxs("div",{className:"absolute bottom-2 left-2 rounded bg-emerald-500/80 px-2 py-1 text-xs font-medium text-white backdrop-blur-sm",children:["Proof #",H+1]})]},H))})]}),t.completionConfirmed&&e.jsx("div",{className:"mb-6 rounded-xl border border-emerald-500/30 bg-emerald-500/10 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Be,{className:"h-5 w-5 text-emerald-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-emerald-400",children:"Officer Completion Confirmed"}),e.jsx("p",{className:"text-sm text-white/60",children:"The field officer has confirmed that the resolution work is complete and satisfactory."})]})]})}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-slate-800/50 to-slate-700/30 p-5",children:[e.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-semibold uppercase tracking-wider text-white",children:[e.jsx(qa,{className:"h-4 w-4 text-rose-400"}),"Admin Decision"]}),e.jsxs("div",{className:"mb-4 grid gap-3 sm:grid-cols-2",children:[e.jsxs("button",{onClick:()=>u("approve"),className:_e("flex items-center justify-center gap-2 rounded-xl border-2 p-4 transition-all",c==="approve"?"border-emerald-500 bg-emerald-500/20 text-emerald-400":"border-white/10 text-white/60 hover:border-emerald-500/50 hover:bg-emerald-500/10"),children:[e.jsx(Be,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Approve Resolution"})]}),e.jsxs("button",{onClick:()=>u("reject"),className:_e("flex items-center justify-center gap-2 rounded-xl border-2 p-4 transition-all",c==="reject"?"border-rose-500 bg-rose-500/20 text-rose-400":"border-white/10 text-white/60 hover:border-rose-500/50 hover:bg-rose-500/10"),children:[e.jsx(Zs,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Reject Resolution"})]})]}),c==="approve"&&e.jsx("div",{className:"mb-4 rounded-lg border border-emerald-500/20 bg-emerald-500/10 p-3",children:e.jsxs("p",{className:"flex items-center gap-2 text-sm text-emerald-400",children:[e.jsx(vt,{className:"h-4 w-4"}),"Approving will mark issue as ",e.jsx("strong",{children:'"Resolved"'})]})}),c==="reject"&&e.jsx("div",{className:"mb-4 rounded-lg border border-amber-500/20 bg-amber-500/10 p-3",children:e.jsxs("p",{className:"flex items-center gap-2 text-sm text-amber-400",children:[e.jsx(vt,{className:"h-4 w-4"}),"Issue will remain ",e.jsx("strong",{children:'"In Progress"'})," for re-work"]})}),c==="approve"&&e.jsxs("div",{className:"mb-4 space-y-3",children:[e.jsxs("label",{className:"flex cursor-pointer items-start gap-3 rounded-lg border border-white/10 bg-white/5 p-3",children:[e.jsx("input",{type:"checkbox",checked:j,onChange:Z=>E(Z.target.checked),className:"mt-0.5 h-4 w-4 rounded border-white/20 bg-white/10 text-emerald-500 focus:ring-emerald-500/50"}),e.jsx("span",{className:"text-sm text-white/80",children:"I confirm that I have reviewed the resolution details and proof images, and verify that the issue has been properly resolved."})]}),e.jsxs("label",{className:"flex cursor-pointer items-start gap-3 rounded-lg border border-white/10 bg-white/5 p-3",children:[e.jsx("input",{type:"checkbox",checked:A,onChange:Z=>k(Z.target.checked),className:"mt-0.5 h-4 w-4 rounded border-white/20 bg-white/10 text-blue-500 focus:ring-blue-500/50"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ii,{className:"h-4 w-4 text-blue-400"}),e.jsx("span",{className:"text-sm text-white/80",children:"Notify the issue reporter that their issue has been resolved"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"mb-2 flex items-center gap-2 text-sm text-white/70",children:[e.jsx(vs,{className:"h-4 w-4"}),"Admin Remarks",c==="reject"&&e.jsx("span",{className:"text-rose-400",children:"*"})]}),e.jsx("textarea",{value:f,onChange:Z=>m(Z.target.value),placeholder:c==="reject"?"Please provide reason for rejection and what needs to be fixed (required)...":"Add any additional remarks or feedback (optional)...",rows:3,className:"w-full resize-none rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white placeholder-white/30 transition-colors focus:border-rose-500/50 focus:outline-none"})]}),b&&e.jsx("div",{className:"mb-4 rounded-lg border border-rose-500/30 bg-rose-500/10 p-3",children:e.jsxs("p",{className:"flex items-center gap-2 text-sm text-rose-400",children:[e.jsx(vt,{className:"h-4 w-4"}),b]})}),e.jsx("button",{onClick:V,disabled:x||!c,className:_e("flex w-full items-center justify-center gap-2 rounded-xl py-3.5 text-sm font-semibold text-white transition-all disabled:opacity-50",c==="approve"?"bg-gradient-to-r from-emerald-500 to-green-500 hover:shadow-lg hover:shadow-emerald-500/25":c==="reject"?"bg-gradient-to-r from-rose-500 to-red-500 hover:shadow-lg hover:shadow-rose-500/25":"bg-white/10"),children:x?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"h-5 w-5 animate-spin"}),"Processing..."]}):e.jsx(e.Fragment,{children:c==="approve"?e.jsxs(e.Fragment,{children:[e.jsx(ru,{className:"h-5 w-5"}),"Approve & Mark Resolved"]}):c==="reject"?e.jsxs(e.Fragment,{children:[e.jsx(Zs,{className:"h-5 w-5"}),"Reject Resolution"]}):e.jsxs(e.Fragment,{children:[e.jsx(qa,{className:"h-5 w-5"}),"Select Decision"]})})})]})]})]})})}const of={high:{label:"High",color:"text-rose-400",bg:"bg-rose-500/20",border:"border-rose-500/30",weight:3,glow:"shadow-rose-500/20"},medium:{label:"Medium",color:"text-amber-400",bg:"bg-amber-500/20",border:"border-amber-500/30",weight:2,glow:"shadow-amber-500/20"},low:{label:"Low",color:"text-emerald-400",bg:"bg-emerald-500/20",border:"border-emerald-500/30",weight:1,glow:"shadow-emerald-500/20"}},G1={verification:{label:"Verification",icon:Ha,color:"text-blue-400",bg:"bg-blue-500/20",border:"border-blue-500/30"},resolution:{label:"Resolution",icon:Be,color:"text-emerald-400",bg:"bg-emerald-500/20",border:"border-emerald-500/30"}};function ID(){const{user:t}=$t(),i=!!t?.isOfficialAdmin,[a,o]=N.useState("verification"),[c,u]=N.useState([]),[f,m]=N.useState(!0),[x,v]=N.useState(null),[b,w]=N.useState(!1),[j,E]=N.useState(null),[A,k]=N.useState(!1),[O,M]=N.useState(!1),[B,T]=N.useState({totalPending:0,highPriority:0,verificationCount:0,resolutionCount:0});N.useEffect(()=>{i&&D()},[a,i]);const D=async()=>{try{m(!0),v(null);const K=await $e.getPendingReports(a),le=K.data||K,F=V(le.reports||[]);u(F),T({totalPending:le.totalPending||F.length,highPriority:F.filter(ve=>ve.issue?.priority==="high").length,verificationCount:le.verificationCount||0,resolutionCount:le.resolutionCount||0})}catch(K){console.error("Error loading pending reports:",K),v(K.message||"Failed to load pending reports")}finally{m(!1)}},V=K=>[...K].sort((le,F)=>{const ve=of[le.issue?.priority]?.weight||0,U=of[F.issue?.priority]?.weight||0;return U!==ve?U-ve:new Date(le.submittedAt)-new Date(F.submittedAt)}),R=async()=>{w(!0),await D(),w(!1)},Z=K=>{E(K),K.reportType==="verification"?k(!0):M(!0)},H=async()=>{k(!1),M(!1),E(null),await D()},G=K=>new Date(K).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),ee=K=>new Date(K).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),Y=K=>{const F=new Date-new Date(K),ve=Math.floor(F/(1e3*60*60)),U=Math.floor(ve/24);return U>0?`${U}d ago`:ve>0?`${ve}h ago`:"Just now"};return i?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Review Queue"}),e.jsx("p",{className:"text-sm text-white/60",children:"Review and approve pending verification and resolution reports"})]}),e.jsxs("button",{onClick:R,disabled:b,className:"flex items-center gap-2 rounded-xl border border-white/10 bg-white/5 px-4 py-2 text-sm text-white/70 transition-all hover:bg-white/10 disabled:opacity-50",children:[e.jsx(Ui,{className:_e("h-4 w-4",b&&"animate-spin")}),"Refresh"]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-slate-900/50 to-slate-800/30 p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-violet-500/20",children:e.jsx(wi,{className:"h-5 w-5 text-violet-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:B.totalPending}),e.jsx("p",{className:"text-xs text-white/50",children:"Total Pending"})]})]})}),e.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-slate-900/50 to-slate-800/30 p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-rose-500/20",children:e.jsx(Wn,{className:"h-5 w-5 text-rose-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:B.highPriority}),e.jsx("p",{className:"text-xs text-white/50",children:"High Priority"})]})]})}),e.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-slate-900/50 to-slate-800/30 p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/20",children:e.jsx(Ha,{className:"h-5 w-5 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:B.verificationCount}),e.jsx("p",{className:"text-xs text-white/50",children:"Verifications"})]})]})}),e.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-slate-900/50 to-slate-800/30 p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/20",children:e.jsx(Be,{className:"h-5 w-5 text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:B.resolutionCount}),e.jsx("p",{className:"text-xs text-white/50",children:"Resolutions"})]})]})})]}),e.jsxs("div",{className:"flex gap-2 rounded-xl border border-white/10 bg-white/5 p-1.5",children:[e.jsxs("button",{onClick:()=>o("verification"),className:_e("flex flex-1 items-center justify-center gap-2 rounded-lg px-4 py-2.5 text-sm font-medium transition-all",a==="verification"?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg":"text-white/60 hover:bg-white/5 hover:text-white"),children:[e.jsx(Ha,{className:"h-4 w-4"}),"Verification Requests"]}),e.jsxs("button",{onClick:()=>o("resolution"),className:_e("flex flex-1 items-center justify-center gap-2 rounded-lg px-4 py-2.5 text-sm font-medium transition-all",a==="resolution"?"bg-gradient-to-r from-emerald-500 to-green-500 text-white shadow-lg":"text-white/60 hover:bg-white/5 hover:text-white"),children:[e.jsx(Be,{className:"h-4 w-4"}),"Resolution Requests"]})]}),f?e.jsx("div",{className:"flex h-[40vh] items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Pe,{className:"mx-auto mb-4 h-10 w-10 animate-spin text-rose-500"}),e.jsx("p",{className:"text-white/60",children:"Loading pending reports..."})]})}):x?e.jsx("div",{className:"flex h-[40vh] items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(vt,{className:"mx-auto mb-4 h-10 w-10 text-rose-500"}),e.jsx("p",{className:"mb-2 text-rose-400",children:x}),e.jsx("button",{onClick:D,className:"rounded-lg bg-rose-500 px-4 py-2 text-sm text-white hover:bg-rose-600",children:"Retry"})]})}):c.length===0?e.jsx("div",{className:"flex h-[40vh] items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Be,{className:"mx-auto mb-4 h-16 w-16 text-emerald-500/50"}),e.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"All Caught Up!"}),e.jsxs("p",{className:"text-white/60",children:["No pending ",a," requests at the moment."]})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/50",children:[e.jsx("span",{children:"Priority:"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-500"}),e.jsx("span",{children:"High"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-amber-500"}),e.jsx("span",{children:"Medium"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"}),e.jsx("span",{children:"Low"})]})]}),e.jsx("div",{className:"space-y-3",children:c.map(K=>e.jsx(UD,{report:K,onReview:()=>Z(K),formatDate:G,formatTime:ee,getTimeAgo:Y},K._id))})]}),j&&e.jsxs(e.Fragment,{children:[e.jsx(zD,{report:j,isOpen:A,onClose:()=>{k(!1),E(null)},onComplete:H}),e.jsx(BD,{report:j,isOpen:O,onClose:()=>{M(!1),E(null)},onComplete:H})]})]}):e.jsx("div",{className:"flex h-[60vh] items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(qa,{className:"mx-auto mb-4 h-16 w-16 text-rose-500/50"}),e.jsx("h2",{className:"mb-2 text-xl font-semibold text-white",children:"Access Restricted"}),e.jsx("p",{className:"text-white/60",children:"This page is only accessible to Official Administrators."})]})})}function UD({report:t,onReview:i,formatDate:a,formatTime:o,getTimeAgo:c}){const u=t.issue||{},f=of[u.priority]||of.medium,m=u.priority==="high",x=G1[t.reportType]||G1.verification,v=x.icon;return e.jsxs("div",{className:_e("group relative overflow-hidden rounded-xl border bg-gradient-to-br from-slate-900/80 to-slate-800/50 p-5 backdrop-blur-sm transition-all hover:border-white/20",m?"border-rose-500/30 shadow-lg shadow-rose-500/10":"border-white/10"),children:[m&&e.jsx("div",{className:"absolute left-0 top-0 h-full w-1 bg-gradient-to-b from-rose-500 to-orange-500"}),e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:_e("flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs font-medium",x.bg,x.color,x.border),children:[e.jsx(v,{className:"h-3 w-3"}),x.label]}),e.jsxs("span",{className:_e("flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs font-medium",f.bg,f.color,f.border),children:[m&&e.jsx(Wn,{className:"h-3 w-3"}),f.label," Priority"]}),e.jsxs("span",{className:"flex items-center gap-1.5 rounded-full border border-white/10 bg-white/5 px-2.5 py-1 text-xs text-white/60",children:[e.jsx(Ot,{className:"h-3 w-3"}),c(t.submittedAt)]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white group-hover:text-rose-400 transition-colors",children:u.title||"Untitled Issue"}),e.jsx("p",{className:"mt-1 text-sm text-white/50 line-clamp-1",children:u.description||"No description available"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-white/50",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Je,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"line-clamp-1",children:u.location?.address||"Location N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Vi,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:["By: ",t.submittedBy?.username||"Unknown"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(bi,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:a(t.submittedAt)})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 lg:flex-col lg:items-end",children:[e.jsxs("button",{onClick:i,className:_e("flex items-center gap-2 rounded-xl px-5 py-2.5 text-sm font-semibold text-white transition-all",t.reportType==="verification"?"bg-gradient-to-r from-blue-500 to-cyan-500 hover:shadow-lg hover:shadow-blue-500/25":"bg-gradient-to-r from-emerald-500 to-green-500 hover:shadow-lg hover:shadow-emerald-500/25"),children:[e.jsx(Fa,{className:"h-4 w-4"}),"Review"]}),e.jsxs("span",{className:"text-xs text-white/40",children:["ID: ",u.issueId||u._id?.slice(-8)]})]})]}),t.reportType==="verification"&&t.outcome&&e.jsxs("div",{className:"mt-4 rounded-lg border border-white/5 bg-white/5 p-3",children:[e.jsx("p",{className:"text-xs text-white/40 mb-1",children:"Field Outcome"}),e.jsx("span",{className:_e("inline-block rounded-full px-2 py-0.5 text-xs font-medium",t.outcome==="verified"?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-rose-400"),children:t.outcome==="verified"?"Verified":"Not Verified"})]})]})}const yx={pending:23,assigned:12,resolvedToday:8,avgTime:"2.4 days",todayActivity:{received:15,resolved:8,inProgress:12,escalated:2},priorityIssues:[{issueId:"ISS-005",title:"Traffic signal malfunction at Main & 5th",priority:"high",status:"reported",location:"Main & 5th Intersection",createdAt:"2 hours ago"},{issueId:"ISS-001",title:"Large pothole causing accidents",priority:"high",status:"in-progress",location:"123 Main Street",createdAt:"3 days ago"}]};function VD(){const t=Gt(),{user:i}=$t(),a=!!i?.isOfficialAdmin,[o,c]=N.useState("high"),[u,f]=N.useState(yx),[m,x]=N.useState(!0),[v,b]=N.useState([]),[w,j]=N.useState(!0);N.useEffect(()=>{A(),a?E():j(!1)},[a]);const E=async()=>{try{j(!0);const D=(await $e.getTeamMembers()).data?.members||[];b(D)}catch(T){console.error("Error loading team members:",T),b([])}finally{j(!1)}},A=async()=>{try{x(!0);const T=await $e.getOfficialStats();f(T.data||yx)}catch(T){console.error("Error loading stats:",T),f(yx)}finally{x(!1)}},k=T=>{t("/dashboard/official/assigned",{state:{selectedIssue:T}})},O=T=>{alert(`${T} functionality coming soon.`)},B=(u.priorityIssues||[]).filter(T=>o==="high"?T.priority==="high":o==="overdue"?!1:o==="new"?T.status==="reported":!0);return e.jsxs("div",{className:"space-y-8",children:[e.jsx("button",{onClick:()=>t("/dashboard/official/chat"),className:"fixed bottom-6 right-6 z-50 flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg shadow-purple-500/30 hover:shadow-xl hover:shadow-purple-500/40 transition-all hover:scale-110",title:"Open Messages",children:e.jsx(vs,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white sm:text-3xl",children:"Official Dashboard "}),e.jsx("p",{className:"text-white/60",children:"Manage and resolve community issues efficiently."})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(yi,{title:"Pending Issues",value:m?"...":u.pending,icon:ej,color:"amber",onClick:()=>t("/dashboard/official/assigned")}),e.jsx(yi,{title:"Assigned to Me",value:m?"...":u.assigned,icon:os,color:"violet",onClick:()=>t("/dashboard/official/assigned")}),e.jsx(yi,{title:"Resolved Today",value:m?"...":u.resolvedToday,icon:Be,color:"emerald",trend:"up",trendValue:15,onClick:()=>t("/dashboard/official/analytics")}),e.jsx(yi,{title:"Avg. Resolution Time",value:m?"...":u.avgTime,icon:Ot,color:"cyan",trend:"up",trendValue:8,onClick:()=>t("/dashboard/official/analytics")})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Priority Queue"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>c("high"),className:`rounded-full px-3 py-1 text-xs transition-all ${o==="high"?"bg-rose-500/20 text-rose-400":"bg-white/10 text-white/60 hover:bg-white/20"}`,children:"High Priority"}),e.jsx("button",{onClick:()=>c("overdue"),className:`rounded-full px-3 py-1 text-xs transition-all ${o==="overdue"?"bg-rose-500/20 text-rose-400":"bg-white/10 text-white/60 hover:bg-white/20"}`,children:"Overdue"}),e.jsx("button",{onClick:()=>c("new"),className:`rounded-full px-3 py-1 text-xs transition-all ${o==="new"?"bg-rose-500/20 text-rose-400":"bg-white/10 text-white/60 hover:bg-white/20"}`,children:"New"})]})]}),e.jsx("div",{className:"space-y-3",children:B.length>0?B.map(T=>e.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-rose-500/20 bg-rose-500/10 p-4 transition-all hover:bg-rose-500/20",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-rose-500/20",children:e.jsx(vt,{className:"h-5 w-5 text-rose-400"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-white/40",children:T.issueId}),e.jsx("span",{className:`rounded px-1.5 py-0.5 text-xs ${T.status==="reported"?"bg-gray-500/20 text-gray-400":"bg-amber-500/20 text-amber-400"}`,children:T.status})]}),e.jsx("h4",{className:"font-medium text-white",children:T.title}),e.jsxs("div",{className:"mt-1 flex items-center gap-3 text-xs text-white/40",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"h-3 w-3"}),typeof T.location=="string"?T.location:T.location?.address||"Unknown"]}),e.jsx("span",{children:""}),e.jsx("span",{children:new Date(T.createdAt).toLocaleDateString()})]})]})]}),e.jsx("button",{onClick:()=>k(T),className:"rounded-lg bg-rose-500 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-rose-600",children:"Take Action"})]},T._id||T.issueId)):e.jsx("div",{className:"text-center py-8 text-white/40",children:"No issues in this category"})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsxs("h3",{className:"mb-4 flex items-center gap-2 text-lg font-semibold text-white",children:[e.jsx(si,{className:"h-5 w-5 text-emerald-400"}),"Today's Activity"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Issues Received"}),e.jsx("span",{className:"font-semibold text-white",children:m?"...":u.todayActivity?.received||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Issues Resolved"}),e.jsx("span",{className:"font-semibold text-emerald-400",children:m?"...":u.todayActivity?.resolved||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"In Progress"}),e.jsx("span",{className:"font-semibold text-amber-400",children:m?"...":u.todayActivity?.inProgress||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Escalated"}),e.jsx("span",{className:"font-semibold text-rose-400",children:m?"...":u.todayActivity?.escalated||0})]})]})]}),a&&e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white",children:[e.jsx(os,{className:"h-5 w-5 text-violet-400"}),"Team Status"]}),e.jsxs("button",{onClick:()=>t("/dashboard/official/team"),className:"flex items-center gap-1 text-sm text-rose-400 hover:text-rose-300",children:["View all",e.jsx(Bi,{className:"h-4 w-4"})]})]}),e.jsx("div",{className:"space-y-3",children:w?e.jsx("div",{className:"flex items-center justify-center py-4",children:e.jsx(Pe,{className:"h-6 w-6 animate-spin text-rose-500"})}):v.length===0?e.jsx("div",{className:"text-center py-4 text-white/40 text-sm",children:"No team members yet"}):v.slice(0,4).map(T=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white/5 p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-rose-500 to-violet-500 text-xs font-medium text-white",children:(T.name||T.username||"??").split(" ").map(D=>D[0]).join("")}),e.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 h-2.5 w-2.5 rounded-full border-2 border-[#0a0a0a] ${T.status==="active"?"bg-emerald-500":T.status==="busy"||T.stats?.assigned>10?"bg-amber-500":"bg-gray-500"}`})]}),e.jsx("span",{className:"text-sm text-white",children:T.name||T.username})]}),e.jsxs("span",{className:"text-sm text-white/40",children:[T.stats?.assigned||0," tasks"]})]},T._id||T.id))})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-white",children:"Quick Actions"}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{label:"Create Work Order",icon:""},{label:"Schedule Inspection",icon:""},{label:"Request Resources",icon:""},{label:"Generate Report",icon:""}].map(T=>e.jsxs("button",{onClick:()=>O(T.label),className:"flex items-center gap-3 rounded-xl border border-white/10 bg-white/5 p-4 transition-all hover:border-rose-500/30 hover:bg-white/10 hover:scale-105",children:[e.jsx("span",{className:"text-2xl",children:T.icon}),e.jsx("span",{className:"text-sm font-medium text-white",children:T.label})]},T.label))})]})]})}function $1(){return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white sm:text-3xl",children:"Official Area Management Map"}),e.jsx("p",{className:"text-sm text-white/60",children:"Monitor and manage issues across your jurisdiction"})]})}),e.jsx(vg,{userRole:"official",defaultCenter:[28.6139,77.209],defaultZoom:12,height:"calc(100vh - 250px)"})]})}function HD(){const[t,i]=Jt.useState("Roads & Infrastructure"),[a,o]=Jt.useState({newAssignments:!0,statusUpdates:!0,teamMessages:!0,dailySummary:!0}),[c,u]=Jt.useState(!1),f=async()=>{u(!0),setTimeout(()=>{u(!1),alert(`Settings saved successfully!

Note: Backend integration pending.`)},1e3)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Settings"}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold text-white",children:"Official Profile"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60",children:"Department"}),e.jsx("input",{type:"text",value:t,onChange:m=>i(m.target.value),className:"mt-1 w-full rounded-lg border border-white/10 bg-white/5 px-4 py-2 text-white outline-none focus:border-rose-500/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60",children:"Notification Preferences"}),e.jsx("div",{className:"mt-2 space-y-2",children:[{key:"newAssignments",label:"New issue assignments"},{key:"statusUpdates",label:"Status updates"},{key:"teamMessages",label:"Team messages"},{key:"dailySummary",label:"Daily summary"}].map(m=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a[m.key],onChange:x=>o({...a,[m.key]:x.target.checked}),className:"rounded border-white/20 bg-white/5 text-rose-500 cursor-pointer"}),e.jsx("span",{className:"text-sm text-white/80",children:m.label})]},m.key))})]}),e.jsx("button",{onClick:f,disabled:c,className:"w-full rounded-lg bg-gradient-to-r from-rose-500 to-violet-500 px-4 py-2 text-sm font-medium text-white transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Saving...":"Save Settings"})]})]})]})}function FD(){return e.jsx(hg,{role:"official",children:e.jsxs(cf,{children:[e.jsx(qe,{index:!0,element:e.jsx(VD,{})}),e.jsx(qe,{path:"assigned",element:e.jsx(EP,{})}),e.jsx(qe,{path:"issue/:issueId",element:e.jsx(OP,{})}),e.jsx(qe,{path:"review-queue",element:e.jsx(ID,{})}),e.jsx(qe,{path:"team",element:e.jsx(zP,{})}),e.jsx(qe,{path:"chat",element:e.jsx(F1,{})}),e.jsx(qe,{path:"chat/:memberId",element:e.jsx(F1,{})}),e.jsx(qe,{path:"analytics",element:e.jsx(DD,{})}),e.jsx(qe,{path:"map",element:e.jsx($1,{})}),e.jsx(qe,{path:"heatmap",element:e.jsx($1,{})}),e.jsx(qe,{path:"settings",element:e.jsx(HD,{})})]})})}const ZD="modulepreload",qD=function(t){return"/"+t},Y1={},GD=function(i,a,o){let c=Promise.resolve();if(a&&a.length>0){let x=function(v){return Promise.all(v.map(b=>Promise.resolve(b).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");c=x(a.map(v=>{if(v=qD(v),v in Y1)return;Y1[v]=!0;const b=v.endsWith(".css"),w=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${w}`))return;const j=document.createElement("link");if(j.rel=b?"stylesheet":ZD,b||(j.as="script"),j.crossOrigin="",j.href=v,m&&j.setAttribute("nonce",m),document.head.appendChild(j),b)return new Promise((E,A)=>{j.addEventListener("load",E),j.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return c.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return i().catch(u)})},X1={reported:{label:"Reported",color:"bg-gray-500/20 text-gray-400"},acknowledged:{label:"Acknowledged",color:"bg-blue-500/20 text-blue-400"},"in-progress":{label:"In Progress",color:"bg-amber-500/20 text-amber-400"},resolved:{label:"Resolved",color:"bg-emerald-500/20 text-emerald-400"},rejected:{label:"Rejected",color:"bg-rose-500/20 text-rose-400"}},$D={pothole:"",streetlight:"",garbage:"",water:"",traffic:"",noise:"",safety:"",other:""},xh=t=>t?.id||t?._id;function YD({issue:t,onClose:i,onUpdate:a}){const{user:o,loading:c}=$t(),[u,f]=N.useState(t),[m,x]=N.useState([]),[v,b]=N.useState(""),[w,j]=N.useState(!1),[E,A]=N.useState(!0),[k,O]=N.useState(!1),[M,B]=N.useState(!1);N.useEffect(()=>{console.log(" [IssueDetailModal] Current user:",o)},[o]),N.useEffect(()=>{u&&u._id&&(T(),D())},[u?._id]);const T=async()=>{try{const G=(await $e.getIssue(u._id)).data?.issue;if(G){f(G);const ee=xh(o);if(o&&ee){const Y=G.upvotes||[],K=Array.isArray(Y)?Y.some(le=>le?typeof le=="string"?le===ee:le._id&&le._id===ee:!1):!1;B(K)}}}catch(H){console.error("Failed to fetch issue details:",H)}},D=async()=>{try{A(!0);const H=await $e.getComments(u._id);x(H.data?.comments||[])}catch(H){console.error("Failed to fetch comments:",H)}finally{A(!1)}},V=async()=>{console.log(" [IssueDetailModal] Attempting to upvote, user:",o);const H=xh(o);if(!o||!H){console.warn(" [IssueDetailModal] User not authenticated for upvote"),alert("Please login to upvote");return}try{j(!0);const G=await $e.upvoteIssue(u._id);B(G.data?.hasUpvoted||G.data?.action==="added");const ee=Array.isArray(u.upvotes)?u.upvotes:[],Y=G.data?.hasUpvoted||G.data?.action==="added",K=xh(o),le=Y?[...ee,K]:ee.filter(ve=>ve?(typeof ve=="string"?ve:ve._id||ve)!==K:!1),F={...u,upvotes:le};f(F),a&&a(F)}catch(G){console.error("Failed to upvote:",G),alert("Failed to upvote issue: "+(G.message||"Unknown error"))}finally{j(!1)}},R=async H=>{if(H.preventDefault(),!v.trim())return;console.log(" [IssueDetailModal] Attempting to add comment, user:",o);const G=xh(o);if(!o||!G){console.warn(" [IssueDetailModal] User not authenticated for comment"),alert("Please login to comment");return}try{O(!0);const Y=(await $e.addComment(u._id,v.trim())).data?.comment;Y&&x([...m,Y]);const K=Array.isArray(u.comments)?u.comments:[],le={...u,comments:[...K,Y]};f(le),b(""),a&&a(le)}catch(ee){console.error("Failed to add comment:",ee),alert("Failed to add comment: "+(ee.message||"Unknown error"))}finally{O(!1)}},Z=H=>{const ee=new Date-new Date(H),Y=Math.floor(ee/1e3),K=Math.floor(Y/60),le=Math.floor(K/60),F=Math.floor(le/24);return F>0?`${F}d ago`:le>0?`${le}h ago`:K>0?`${K}m ago`:"Just now"};return u?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-hidden rounded-2xl border border-white/10 bg-gradient-to-br from-gray-900 via-gray-900 to-black shadow-2xl",children:[e.jsx("div",{className:"sticky top-0 z-10 border-b border-white/10 bg-gray-900/95 backdrop-blur-sm px-6 py-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-2xl",children:$D[u.category]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:u.title}),e.jsx("p",{className:"text-sm text-white/40",children:u.issueId||u._id})]})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("span",{className:_e("rounded-full px-3 py-1 text-xs font-medium",X1[u.status]?.color),children:X1[u.status]?.label}),e.jsxs("span",{className:"text-xs text-white/40 flex items-center gap-1",children:[e.jsx(Ot,{className:"h-3 w-3"}),Z(u.createdAt)]}),e.jsxs("span",{className:"text-xs text-white/40 flex items-center gap-1",children:[e.jsx(Vi,{className:"h-3 w-3"}),u.reportedBy?.username||u.reporter||"Anonymous"]})]})]}),e.jsx("button",{onClick:i,className:"rounded-lg p-2 text-white/60 hover:bg-white/10 hover:text-white transition-colors",children:e.jsx(ls,{className:"h-5 w-5"})})]})}),e.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-180px)] px-6 py-4 space-y-6",children:[u.images&&u.images.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-4",children:u.images.map((H,G)=>e.jsx("img",{src:H,alt:`Issue ${G+1}`,className:"w-full h-48 object-cover rounded-lg border border-white/10"},G))}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Description"}),e.jsx("p",{className:"text-white/70 leading-relaxed",children:u.description})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-white/80 mb-2 flex items-center gap-2",children:[e.jsx(Je,{className:"h-4 w-4"}),"Location"]}),e.jsx("p",{className:"text-white/70",children:u.location?.address}),u.location?.city&&e.jsxs("p",{className:"text-sm text-white/50",children:[u.location.city,", ",u.location.state]})]}),e.jsxs("div",{className:"flex items-center gap-4 py-4 border-y border-white/10",children:[e.jsxs("button",{onClick:V,disabled:w||!o||c,title:o?c?"Loading...":"":"Please login to upvote",className:_e("flex items-center gap-2 px-4 py-2 rounded-lg transition-all",M?"bg-rose-500/20 text-rose-400 hover:bg-rose-500/30":"bg-white/5 text-white/60 hover:bg-white/10",(!o||c)&&"opacity-50 cursor-not-allowed"),children:[w?e.jsx(Pe,{className:"h-4 w-4 animate-spin"}):e.jsx(Kn,{className:_e("h-4 w-4",M&&"fill-current")}),e.jsx("span",{className:"font-medium",children:Array.isArray(u.upvotes)?u.upvotes.length:0}),e.jsx("span",{className:"text-sm",children:M?"Upvoted":"Upvote"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-white/60",children:[e.jsx($h,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:m.length||0}),e.jsx("span",{className:"text-sm",children:"Comments"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Comments"}),e.jsx("form",{onSubmit:R,className:"mb-6",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-rose-500 to-violet-500",children:e.jsx("span",{className:"text-sm font-bold text-white",children:o?.username?.[0]?.toUpperCase()||"U"})})}),e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsx("input",{type:"text",value:v,onChange:H=>b(H.target.value),placeholder:o?"Add a comment...":"Login to comment...",className:"flex-1 rounded-lg border border-white/10 bg-white/5 px-4 py-2 text-white placeholder-white/40 outline-none focus:border-rose-500/50 focus:bg-white/10",disabled:k||!o||c}),e.jsx("button",{type:"submit",disabled:k||!v.trim()||!o||c,title:o?c?"Loading...":"":"Please login to comment",className:"flex items-center gap-2 rounded-lg bg-rose-500 px-4 py-2 text-white transition-colors hover:bg-rose-600 disabled:opacity-50 disabled:cursor-not-allowed",children:k?e.jsx(Pe,{className:"h-4 w-4 animate-spin"}):e.jsx(ru,{className:"h-4 w-4"})})]})]})}),e.jsx("div",{className:"space-y-4",children:E?e.jsxs("div",{className:"flex items-center justify-center py-8 text-white/40",children:[e.jsx(Pe,{className:"h-6 w-6 animate-spin mr-2"}),"Loading comments..."]}):m.length>0?m.map((H,G)=>e.jsxs("div",{className:"flex gap-3 rounded-lg bg-white/5 p-4 border border-white/5",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-violet-500 to-cyan-500",children:e.jsx("span",{className:"text-sm font-bold text-white",children:H.user?.username?.[0]?.toUpperCase()||"?"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-white",children:H.user?.username||"Anonymous"}),e.jsx("span",{className:"text-xs text-white/40",children:Z(H.createdAt)})]}),e.jsx("p",{className:"text-white/70",children:H.text})]})]},G)):e.jsxs("div",{className:"text-center py-8 text-white/40",children:[e.jsx($h,{className:"h-12 w-12 mx-auto mb-2 opacity-20"}),e.jsx("p",{children:"No comments yet. Be the first to comment!"})]})})]})]})]})}):null}const Zc={reported:{label:"Reported",color:"bg-gray-500/20 text-gray-400"},acknowledged:{label:"Acknowledged",color:"bg-blue-500/20 text-blue-400"},"in-progress":{label:"In Progress",color:"bg-amber-500/20 text-amber-400"},resolved:{label:"Resolved",color:"bg-emerald-500/20 text-emerald-400"}},K1={pothole:"",streetlight:"",garbage:"",water:"",traffic:"",noise:"",safety:"",other:""},XD=[{value:"all",label:"All States"},{value:"Andhra Pradesh",label:"Andhra Pradesh"},{value:"Delhi",label:"Delhi"},{value:"Karnataka",label:"Karnataka"},{value:"Maharashtra",label:"Maharashtra"},{value:"Tamil Nadu",label:"Tamil Nadu"},{value:"Uttar Pradesh",label:"Uttar Pradesh"},{value:"West Bengal",label:"West Bengal"}];function KD({onViewIssue:t}){let i=null;try{i=vn()}catch{}const a=i?.activeDistrict,[o,c]=N.useState([]),[u,f]=N.useState(!0),[m,x]=N.useState(""),[v,b]=N.useState("grid"),[w,j]=N.useState(!1),[E,A]=N.useState(null),[k,O]=N.useState({state:"all",district:"",category:"all",status:"all"});N.useEffect(()=>{M()},[k,a]);const M=async()=>{f(!0);try{let R=[];if(a)R=(await Di.getDistrictIssues(1,100,{...k.category!=="all"&&{category:k.category},...k.status!=="all"&&{status:k.status}}))?.data?.issues||[];else{const H={limit:100,...k.state!=="all"&&{state:k.state},...k.district&&{district:k.district},...k.category!=="all"&&{category:k.category},...k.status!=="all"&&{status:k.status}};R=(await $e.getAllIssues(H))?.data?.issues||[]}const Z=R.map(H=>({...H,id:H._id,upvotes:H.upvotes?.length||0,comments:H.comments?.length||0,verifications:H.verifiedCount||0,image:H.images?.[0]||null,reporter:H.reportedBy?.username||"Anonymous"}));c(Z)}catch(R){console.error("Error fetching issues:",R)}finally{f(!1)}},B=o.filter(R=>R.title?.toLowerCase().includes(m.toLowerCase())||R.description?.toLowerCase().includes(m.toLowerCase())),T=R=>{const H=new Date-new Date(R),G=Math.floor(H/(1e3*60*60*24));if(G>0)return`${G}d ago`;const ee=Math.floor(H/(1e3*60*60));return ee>0?`${ee}h ago`:"Just now"},D=R=>{A(R),t&&t(R)},V=R=>{const Z={...R,id:R._id,upvotes:Array.isArray(R.upvotes)?R.upvotes.length:R.upvotes||0,comments:Array.isArray(R.comments)?R.comments.length:R.comments||0,verifications:R.verifiedCount||0,image:R.images?.[0]||null,reporter:R.reportedBy?.username||"Anonymous"};c(H=>H.map(G=>G._id===R._id?Z:G)),A(Z)};return u?e.jsxs("div",{className:"flex h-64 items-center justify-center",children:[e.jsx(Pe,{className:"h-8 w-8 animate-spin text-rose-500"}),e.jsx("span",{className:"ml-2 text-white/60",children:"Loading area issues..."})]}):a?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Area Issues"}),e.jsxs("p",{className:"text-sm text-white/60",children:[B.length," issues in your area"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:M,className:"rounded-lg p-2 text-white/60 hover:bg-white/10 hover:text-white",title:"Refresh",children:e.jsx(Ui,{className:"h-4 w-4"})}),e.jsxs("div",{className:"relative",children:[e.jsx(Za,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",placeholder:"Search issues...",value:m,onChange:R=>x(R.target.value),className:"h-10 w-48 rounded-lg border border-white/10 bg-white/5 pl-10 pr-4 text-sm text-white placeholder-white/40 outline-none focus:border-rose-500/50"})]}),e.jsxs("button",{onClick:()=>j(!w),className:_e("flex h-10 items-center gap-2 rounded-lg border px-3 text-sm transition-colors",w?"border-rose-500 bg-rose-500/20 text-rose-400":"border-white/10 bg-white/5 text-white/60"),children:[e.jsx(yf,{className:"h-4 w-4"}),"Filters"]}),e.jsx("div",{className:"flex overflow-hidden rounded-lg border border-white/10",children:[{mode:"grid",icon:J_},{mode:"list",icon:sj},{mode:"map",icon:Xc}].map(({mode:R,icon:Z})=>e.jsx("button",{onClick:()=>b(R),className:_e("p-2 transition-colors",v===R?"bg-white/10 text-white":"text-white/40 hover:text-white"),children:e.jsx(Z,{className:"h-4 w-4"})},R))})]})]}),w&&e.jsxs("div",{className:"flex flex-wrap gap-4 rounded-lg border border-white/10 bg-white/5 p-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"State"}),e.jsx("select",{value:k.state,onChange:R=>O({...k,state:R.target.value,district:""}),className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-white",children:XD.map(R=>e.jsx("option",{value:R.value,className:"bg-black",children:R.label},R.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"District"}),e.jsx("input",{type:"text",value:k.district,onChange:R=>O({...k,district:R.target.value}),placeholder:"Enter district",className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-white placeholder-white/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Category"}),e.jsxs("select",{value:k.category,onChange:R=>O({...k,category:R.target.value}),className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-white",children:[e.jsx("option",{value:"all",className:"bg-black",children:"All Categories"}),Object.entries(K1).map(([R,Z])=>e.jsxs("option",{value:R,className:"bg-black",children:[Z," ",R.charAt(0).toUpperCase()+R.slice(1)]},R))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Status"}),e.jsxs("select",{value:k.status,onChange:R=>O({...k,status:R.target.value}),className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-white",children:[e.jsx("option",{value:"all",className:"bg-black",children:"All Status"}),Object.entries(Zc).map(([R,Z])=>e.jsx("option",{value:R,className:"bg-black",children:Z.label},R))]})]})]}),v==="map"&&e.jsx("div",{className:"flex h-[400px] items-center justify-center rounded-xl border border-white/10 bg-white/5",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Xc,{className:"mx-auto mb-2 h-16 w-16 text-white/20"}),e.jsx("p",{className:"text-lg text-white/40",children:"Interactive Area Map"}),e.jsxs("p",{className:"text-sm text-white/20",children:["Showing ",B.length," issues in your area"]})]})}),v!=="map"&&e.jsx("div",{className:_e(v==="grid"?"grid gap-4 sm:grid-cols-2 lg:grid-cols-3":"space-y-3"),children:B.map(R=>e.jsxs("div",{onClick:()=>D(R),className:_e("group cursor-pointer overflow-hidden rounded-xl border border-white/10 bg-white/5 transition-all hover:border-rose-500/30",v==="list"&&"flex items-center gap-4 p-4"),children:[v==="grid"&&R.image&&e.jsxs("div",{className:"relative h-32 overflow-hidden",children:[e.jsx("img",{src:R.image,alt:R.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),e.jsx("span",{className:_e("absolute bottom-2 left-2 rounded-full px-2 py-1 text-xs",Zc[R.status]?.color),children:Zc[R.status]?.label})]}),e.jsxs("div",{className:_e(v==="grid"?"p-4":"flex-1"),children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:K1[R.category]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white line-clamp-1",children:R.title}),e.jsx("p",{className:"text-xs text-white/40",children:R.id})]})]}),v==="list"&&e.jsx("span",{className:_e("rounded-full px-2 py-1 text-xs",Zc[R.status]?.color),children:Zc[R.status]?.label})]}),v==="grid"&&e.jsx("p",{className:"mb-3 text-sm text-white/60 line-clamp-2",children:R.description}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/40",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"h-3 w-3"}),R.location?.district||R.location?.city||"Unknown"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"h-3 w-3"}),T(R.updatedAt)]})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between border-t border-white/5 pt-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("span",{className:"flex items-center gap-1 text-sm text-white/60",children:[e.jsx(Kn,{className:"h-4 w-4"}),R.upvotes]}),e.jsxs("span",{className:"flex items-center gap-1 text-sm text-white/60",children:[e.jsx($h,{className:"h-4 w-4"}),R.comments]})]}),e.jsx(ll,{className:"h-4 w-4 text-white/40 transition-transform group-hover:translate-x-1 group-hover:text-rose-400"})]})]})]},R.id))}),B.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl border border-white/10 bg-white/5 py-12",children:[e.jsx("div",{className:"mb-4 text-4xl",children:""}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"No issues found"}),e.jsx("p",{className:"text-sm text-white/60",children:"Try adjusting your filters"})]}),E&&e.jsx(YD,{issue:E,onClose:()=>A(null),onUpdate:V})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[e.jsx(Je,{className:"h-16 w-16 text-amber-400 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No Community Selected"}),e.jsx("p",{className:"text-white/60 text-center max-w-md mb-6",children:"Please select a community area to view issues in your neighborhood."})]})}function WD(){const t=Gt(),{user:i,refreshUser:a}=$t();let o=null;try{o=vn()}catch{}const c=o?.activeDistrict,[u,f]=N.useState([]),[m,x]=N.useState(!0),[v,b]=N.useState(null),[w,j]=N.useState(null),[E,A]=N.useState(null),[k,O]=N.useState(""),[M,B]=N.useState("all"),[T,D]=N.useState(null),[V,R]=N.useState(!0);N.useEffect(()=>{(async()=>{try{a&&await a();const F=(await Yr.checkProfileCompletion()).data?.isProfileComplete??!1;D(F)}catch(le){console.error("Error checking profile:",le),D(i?.isProfileComplete??!1)}finally{R(!1)}})()},[]),N.useEffect(()=>{!V&&T&&Z()},[V,T,c]);const Z=async()=>{try{x(!0),b(null);let K;c?K=await Di.getVerificationQueue(1,50):K=await fu.getUnverifiedIssues(),f(K.data?.issues||[])}catch(K){console.error("Error loading issues:",K),b(K.message||"Failed to load issues")}finally{x(!1)}},H=async(K,le)=>{if(!T){t("/profile");return}try{j(K),await fu.verifyIssue(K,le,k),f(F=>F.filter(ve=>ve._id!==K)),A(null),O("")}catch(F){console.error("Error verifying issue:",F),alert(F.message||"Failed to verify issue")}finally{j(null)}},G=K=>new Date(K).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),ee=K=>{switch(K){case"high":return"text-rose-400 bg-rose-500/20";case"medium":return"text-amber-400 bg-amber-500/20";default:return"text-emerald-400 bg-emerald-500/20"}},Y=K=>({pothole:"",streetlight:"",garbage:"",water:"",traffic:"",noise:"",safety:"",other:""})[K]||"";return V?e.jsxs("div",{className:"flex h-64 items-center justify-center",children:[e.jsx(Pe,{className:"h-8 w-8 animate-spin text-rose-500"}),e.jsx("span",{className:"ml-2 text-white/60",children:"Checking profile..."})]}):c?T?m?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(Pe,{className:"h-12 w-12 animate-spin text-rose-500"})}):v?e.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[e.jsx(bs,{className:"h-12 w-12 text-rose-400 mb-4"}),e.jsx("p",{className:"text-white/60",children:v}),e.jsxs("button",{onClick:Z,className:"mt-4 flex items-center gap-2 px-4 py-2 rounded-lg bg-white/10 text-white hover:bg-white/20",children:[e.jsx(Ui,{className:"h-4 w-4"}),"Retry"]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Verify Issues"}),e.jsx("p",{className:"text-white/60",children:"Help verify reported issues in your community"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/10 text-white/70 hover:bg-white/20 transition-colors",children:[e.jsx(Ui,{className:"h-4 w-4"}),"Refresh"]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsx("p",{className:"text-sm text-white/60",children:"To Verify"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:u.length})]}),e.jsxs("div",{className:"rounded-xl border border-emerald-500/20 bg-emerald-500/10 p-4",children:[e.jsx("p",{className:"text-sm text-emerald-400",children:"High Priority"}),e.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:u.filter(K=>K.priority==="high").length})]}),e.jsxs("div",{className:"rounded-xl border border-amber-500/20 bg-amber-500/10 p-4",children:[e.jsx("p",{className:"text-sm text-amber-400",children:"Medium Priority"}),e.jsx("p",{className:"text-2xl font-bold text-amber-400",children:u.filter(K=>K.priority==="medium").length})]}),e.jsxs("div",{className:"rounded-xl border border-blue-500/20 bg-blue-500/10 p-4",children:[e.jsx("p",{className:"text-sm text-blue-400",children:"Low Priority"}),e.jsx("p",{className:"text-2xl font-bold text-blue-400",children:u.filter(K=>K.priority==="low").length})]})]}),u.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(Be,{className:"mx-auto h-16 w-16 text-emerald-400 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"All Caught Up!"}),e.jsx("p",{className:"text-white/60",children:"No issues waiting for your verification"})]}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:u.map(K=>e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 overflow-hidden hover:border-white/20 transition-all",children:[K.images&&K.images.length>0&&e.jsxs("div",{className:"relative h-40 bg-white/5",children:[e.jsx("img",{src:`http://localhost:3000${K.images[0]}`,alt:K.title,className:"w-full h-full object-cover",onError:le=>{le.target.style.display="none"}}),K.images.length>1&&e.jsxs("span",{className:"absolute bottom-2 right-2 bg-black/60 text-white text-xs px-2 py-1 rounded-full",children:["+",K.images.length-1," more"]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:Y(K.category)}),e.jsx("span",{className:"text-xs text-white/40",children:K.issueId})]}),e.jsx("span",{className:_e("px-2 py-0.5 rounded-full text-xs font-medium",ee(K.priority)),children:K.priority})]}),e.jsx("h3",{className:"font-semibold text-white mb-2 line-clamp-2",children:K.title}),e.jsx("p",{className:"text-sm text-white/60 line-clamp-2 mb-3",children:K.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-white/50 mb-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"h-3 w-3"}),K.location?.address?.slice(0,30)||"Unknown","..."]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(bi,{className:"h-3 w-3"}),G(K.createdAt)]})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4 text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1 text-emerald-400",children:[e.jsx(Kn,{className:"h-3 w-3"}),K.verifiedCount||0," correct"]}),e.jsxs("span",{className:"flex items-center gap-1 text-rose-400",children:[e.jsx(Mx,{className:"h-3 w-3"}),K.incorrectCount||0," incorrect"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>H(K._id,"correct"),disabled:w===K._id,className:"flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 transition-colors disabled:opacity-50",children:[w===K._id?e.jsx(Pe,{className:"h-4 w-4 animate-spin"}):e.jsx(Be,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Correct"})]}),e.jsxs("button",{onClick:()=>H(K._id,"incorrect"),disabled:w===K._id,className:"flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg bg-rose-500/20 text-rose-400 hover:bg-rose-500/30 transition-colors disabled:opacity-50",children:[w===K._id?e.jsx(Pe,{className:"h-4 w-4 animate-spin"}):e.jsx(Zs,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Incorrect"})]})]})]})]},K._id))})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[e.jsx(bs,{className:"h-16 w-16 text-amber-400 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Profile Incomplete"}),e.jsx("p",{className:"text-white/60 text-center max-w-md mb-6",children:"Please complete your profile before verifying issues. This helps maintain the integrity of community verifications."}),e.jsx("button",{onClick:()=>t("/profile"),className:"px-6 py-3 rounded-xl bg-gradient-to-r from-rose-500 to-pink-500 text-white font-semibold",children:"Complete Profile"})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[e.jsx(Je,{className:"h-16 w-16 text-amber-400 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No Community Selected"}),e.jsx("p",{className:"text-white/60 text-center max-w-md mb-6",children:"Please select a community area to view and verify issues."})]})}const QD=[{rank:1,name:"Sarah K.",points:2450,verifications:89,badge:""},{rank:2,name:"Mike T.",points:2180,verifications:76,badge:""},{rank:3,name:"Emily R.",points:1920,verifications:64,badge:""},{rank:4,name:"John D.",points:1650,verifications:52,badge:""},{rank:5,name:"Lisa M.",points:1480,verifications:48,badge:""}],JD=[{department:"Roads Dept",responseTime:"2.1 days",resolved:89,pending:23},{department:"Sanitation",responseTime:"1.5 days",resolved:156,pending:12},{department:"Electricity",responseTime:"3.8 days",resolved:67,pending:34},{department:"Water Supply",responseTime:"2.9 days",resolved:45,pending:18}];function e8(){let t=null;try{t=vn()}catch{}const i=t?.activeDistrict,[a,o]=N.useState("month"),[c,u]=N.useState(!0),[f,m]=N.useState([]),[x,v]=N.useState([]),[b,w]=N.useState([]),[j,E]=N.useState(QD);N.useEffect(()=>{i&&k()},[a,i]);const A=M=>{const B=M.length,T=M.filter(le=>le.status==="resolved").length,D=M.filter(le=>["reported","acknowledged","in-progress"].includes(le.status)).length,V=B>0?Math.round(T/B*100):0,R=M.filter(le=>le.status==="resolved"&&le.updatedAt&&le.createdAt),Z=R.length>0?(R.reduce((le,F)=>{const ve=new Date(F.createdAt),U=new Date(F.updatedAt);return le+(U-ve)/(1e3*60*60*24)},0)/R.length).toFixed(1):"N/A";m([{title:"Total Area Issues",value:B.toString(),change:`+${D}`,trend:"up",period:"active",icon:wi,color:"rose"},{title:"Resolution Rate",value:`${V}%`,change:`${T} resolved`,trend:"up",period:"",icon:Be,color:"emerald"},{title:"Active Issues",value:D.toString(),change:"needs attention",trend:D>10?"down":"up",period:"",icon:os,color:"violet"},{title:"Avg. Resolution Time",value:Z!=="N/A"?`${Z} days`:"N/A",change:"",trend:"up",period:"",icon:Ot,color:"cyan"}]);const H={};M.forEach(le=>{const F=le.category||"other";H[F]=(H[F]||0)+1});const G=Object.entries(H).map(([le,F])=>({category:le.charAt(0).toUpperCase()+le.slice(1),count:F,percentage:Math.round(F/B*100),trend:"stable"})).sort((le,F)=>F.count-le.count);v(G);const ee={},Y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];M.forEach(le=>{const F=new Date(le.createdAt),ve=`${F.getFullYear()}-${F.getMonth()}`;ee[ve]||(ee[ve]={month:Y[F.getMonth()],reported:0,resolved:0}),ee[ve].reported++,le.status==="resolved"&&ee[ve].resolved++});const K=Object.values(ee).sort((le,F)=>Y.indexOf(le.month)-Y.indexOf(F.month)).slice(-6);w(K.length>0?K:[{month:"N/A",reported:0,resolved:0}])},k=async()=>{u(!0);try{let M,B;i?[M,B]=await Promise.all([Di.getDistrictStats(a==="week"?7:a==="quarter"?90:a==="year"?365:30),Di.getDistrictLeaderboard(10)]):[M,B]=await Promise.all([$e.getCommunityStats(),$e.getCommunityLeaderboard(10)]);const T=M?.data?.stats||M?.data||M||{},D=B?.data||B||{};if(T.overviewStats&&!Array.isArray(T.overviewStats)&&typeof T.overviewStats=="object"){const V=T.overviewStats,R=V.totalIssues??0,Z=V.resolved??0,H=(V.reported??0)+(V.acknowledged??0)+(V.inProgress??0),G=R>0?Math.round(Z/R*100):0;m([{title:"Total Area Issues",value:R.toString(),change:`+${H}`,trend:"up",period:"active",icon:wi,color:"rose"},{title:"Resolution Rate",value:`${G}%`,change:`${Z} resolved`,trend:"up",period:"",icon:Be,color:"emerald"},{title:"Active Issues",value:H.toString(),change:"needs attention",trend:H>10?"down":"up",period:"",icon:os,color:"violet"},{title:"Avg. Resolution Time",value:"N/A",change:"",trend:"up",period:"",icon:Ot,color:"cyan"}])}else Array.isArray(T.overviewStats)&&m(T.overviewStats);if(Array.isArray(T.categoryBreakdown)&&T.categoryBreakdown.length>0){const V=T.categoryBreakdown.reduce((Z,H)=>Z+(H.count||0),0),R=T.categoryBreakdown.map(Z=>({category:Z.category.charAt(0).toUpperCase()+Z.category.slice(1),count:Z.count||0,percentage:V>0?Math.round(Z.count/V*100):0,trend:"stable"}));v(R)}Array.isArray(T.monthlyTrend)&&T.monthlyTrend.length>0&&w(T.monthlyTrend),D.leaderboard&&Array.isArray(D.leaderboard)?E(D.leaderboard):Array.isArray(D)&&E(D)}catch(M){console.error("Error fetching community stats:",M);try{const B=await $e.getIssues({limit:500}),T=B?.data?.issues||B?.issues||[];T.length>0&&A(T)}catch(B){console.error("Fallback failed to fetch issues:",B)}}finally{u(!1)}},O=Math.max(...b.flatMap(M=>[M.reported,M.resolved]),1);return i?c?e.jsxs("div",{className:"flex h-64 items-center justify-center",children:[e.jsx(Pe,{className:"h-8 w-8 animate-spin text-rose-500"}),e.jsx("span",{className:"ml-2 text-white/60",children:"Loading statistics..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Community Statistics"}),e.jsx("p",{className:"text-sm text-white/60",children:"Transparency dashboard for our community"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:k,className:"rounded-lg p-2 text-white/60 hover:bg-white/10 hover:text-white",title:"Refresh",children:e.jsx(Ui,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex overflow-hidden rounded-lg border border-white/10",children:["week","month","quarter","year"].map(M=>e.jsx("button",{onClick:()=>o(M),className:_e("px-3 py-2 text-xs transition-colors",a===M?"bg-white/10 text-white":"text-white/40 hover:text-white"),children:M.charAt(0).toUpperCase()+M.slice(1)},M))}),e.jsxs("button",{className:"flex items-center gap-2 rounded-lg border border-white/10 px-3 py-2 text-sm text-white/60 hover:bg-white/5",children:[e.jsx(N0,{className:"h-4 w-4"}),"Export"]}),e.jsxs("button",{className:"flex items-center gap-2 rounded-lg border border-white/10 px-3 py-2 text-sm text-white/60 hover:bg-white/5",children:[e.jsx(mT,{className:"h-4 w-4"}),"Share"]})]})]}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:f.map((M,B)=>{const T=M.icon;return e.jsxs("div",{className:_e("rounded-xl border border-white/10 bg-gradient-to-br p-6",M.color==="rose"?"from-rose-500/10 to-transparent":M.color==="emerald"?"from-emerald-500/10 to-transparent":M.color==="violet"?"from-violet-500/10 to-transparent":"from-cyan-500/10 to-transparent"),children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx(T,{className:_e("h-6 w-6",M.color==="rose"?"text-rose-400":M.color==="emerald"?"text-emerald-400":M.color==="violet"?"text-violet-400":"text-cyan-400")}),M.trend==="up"?e.jsx(si,{className:"h-4 w-4 text-emerald-400"}):e.jsx(ou,{className:"h-4 w-4 text-rose-400"})]}),e.jsx("p",{className:"text-sm text-white/60",children:M.title}),e.jsx("p",{className:"mt-1 text-3xl font-bold text-white",children:M.value}),e.jsxs("p",{className:"mt-1 text-xs text-white/40",children:[e.jsx("span",{className:M.trend==="up"?"text-emerald-400":"text-rose-400",children:M.change})," ",M.period]})]},B)})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsxs("h3",{className:"mb-6 flex items-center gap-2 text-lg font-semibold text-white",children:[e.jsx(iu,{className:"h-5 w-5 text-rose-400"}),"Monthly Trend"]}),e.jsx("div",{className:"flex h-48 items-end gap-3",children:b.map(M=>e.jsxs("div",{className:"group flex flex-1 flex-col items-center gap-1",children:[e.jsxs("div",{className:"relative flex w-full justify-center gap-1",children:[e.jsx("div",{className:"w-3 rounded-t bg-rose-500/60 transition-all group-hover:bg-rose-500",style:{height:`${M.reported/O*150}px`}}),e.jsx("div",{className:"w-3 rounded-t bg-emerald-500/60 transition-all group-hover:bg-emerald-500",style:{height:`${M.resolved/O*150}px`}})]}),e.jsx("span",{className:"text-xs text-white/40",children:M.month})]},M.month))}),e.jsxs("div",{className:"mt-4 flex justify-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-3 w-3 rounded-full bg-rose-500"}),e.jsx("span",{className:"text-xs text-white/60",children:"Reported"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-3 w-3 rounded-full bg-emerald-500"}),e.jsx("span",{className:"text-xs text-white/60",children:"Resolved"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsxs("h3",{className:"mb-6 flex items-center gap-2 text-lg font-semibold text-white",children:[e.jsx(K_,{className:"h-5 w-5 text-violet-400"}),"Issues by Category"]}),e.jsx("div",{className:"space-y-4",children:x.map(M=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white",children:M.category}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white/60",children:M.count}),M.trend==="up"&&e.jsx(si,{className:"h-3 w-3 text-rose-400"}),M.trend==="down"&&e.jsx(ou,{className:"h-3 w-3 text-emerald-400"})]})]}),e.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-white/10",children:e.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-rose-500 to-violet-500",style:{width:`${M.percentage}%`}})})]},M.category))})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsxs("h3",{className:"mb-6 flex items-center gap-2 text-lg font-semibold text-white",children:[e.jsx(zT,{className:"h-5 w-5 text-amber-400"}),"Community Leaderboard"]}),e.jsx("div",{className:"space-y-3",children:j.map((M,B)=>e.jsxs("div",{className:_e("flex items-center justify-between rounded-lg p-3",B<3?"bg-white/10":"bg-white/5"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:M.badge||(B===0?"":B===1?"":B===2?"":"")}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:M.name||M.username||M.displayName||"User"}),e.jsxs("p",{className:"text-xs text-white/40",children:[M.verifications??M.verificationCount??0," verifications"]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(NT,{className:"h-4 w-4 text-amber-400"}),e.jsx("span",{className:"font-semibold text-amber-400",children:(M.points??M.score??0).toLocaleString()})]})]},M.id||M._id||M.rank||B))}),e.jsx("button",{className:"mt-4 w-full rounded-lg border border-white/10 py-2 text-sm text-white/60 hover:bg-white/5",children:"View Full Leaderboard"})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsxs("h3",{className:"mb-6 flex items-center gap-2 text-lg font-semibold text-white",children:[e.jsx(gf,{className:"h-5 w-5 text-cyan-400"}),"Department Performance"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/10",children:[e.jsx("th",{className:"pb-3 text-left text-xs font-medium text-white/60",children:"Department"}),e.jsx("th",{className:"pb-3 text-right text-xs font-medium text-white/60",children:"Avg. Response"}),e.jsx("th",{className:"pb-3 text-right text-xs font-medium text-white/60",children:"Resolved"}),e.jsx("th",{className:"pb-3 text-right text-xs font-medium text-white/60",children:"Pending"})]})}),e.jsx("tbody",{children:JD.map((M,B)=>e.jsxs("tr",{className:"border-b border-white/5 transition-colors hover:bg-white/5",children:[e.jsx("td",{className:"py-3 text-sm text-white",children:M.department}),e.jsx("td",{className:"py-3 text-right text-sm text-white/60",children:M.responseTime}),e.jsx("td",{className:"py-3 text-right text-sm text-emerald-400",children:M.resolved}),e.jsx("td",{className:"py-3 text-right text-sm text-amber-400",children:M.pending})]},B))})]})})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"rounded-xl border border-emerald-500/20 bg-emerald-500/10 p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(si,{className:"h-5 w-5 text-emerald-400"}),e.jsx("span",{className:"font-medium text-emerald-400",children:"Improving"})]}),e.jsxs("p",{className:"text-sm text-white",children:["Street lighting issues have decreased by ",e.jsx("strong",{children:"23%"})," this month compared to last month."]})]}),e.jsxs("div",{className:"rounded-xl border border-amber-500/20 bg-amber-500/10 p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(iu,{className:"h-5 w-5 text-amber-400"}),e.jsx("span",{className:"font-medium text-amber-400",children:"Focus Area"})]}),e.jsxs("p",{className:"text-sm text-white",children:[e.jsx("strong",{children:"Roads & Potholes"})," remain the most reported category with 234 issues this month."]})]}),e.jsxs("div",{className:"rounded-xl border border-violet-500/20 bg-violet-500/10 p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(Zh,{className:"h-5 w-5 text-violet-400"}),e.jsx("span",{className:"font-medium text-violet-400",children:"Community Impact"})]}),e.jsxs("p",{className:"text-sm text-white",children:[e.jsx("strong",{children:"1,234 community members"})," actively contributed to issue reporting and verification."]})]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[e.jsx(Je,{className:"h-16 w-16 text-amber-400 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No Community Selected"}),e.jsx("p",{className:"text-white/60 text-center max-w-md mb-6",children:"Please select a community area to view statistics."})]})}function W1({isOpen:t,onClose:i,canClose:a=!1}){const{statesDistricts:o,joinDistrict:c,memberships:u}=vn(),[f,m]=N.useState("select"),[x,v]=N.useState(""),[b,w]=N.useState(null),[j,E]=N.useState(null),[A,k]=N.useState([]),[O,M]=N.useState(!1),[B,T]=N.useState(null),[D,V]=N.useState(!0),R=N.useMemo(()=>{if(!o.formatted)return[];if(!x)return o.formatted;const Y=x.toLowerCase();return o.formatted.filter(K=>K.state.toLowerCase().includes(Y)||K.districts.some(le=>le.name.toLowerCase().includes(Y)))},[o.formatted,x]),Z=N.useMemo(()=>{if(!b)return[];const Y=o.formatted?.find(le=>le.state===b);if(!Y)return[];if(!x)return Y.districts;const K=x.toLowerCase();return Y.districts.filter(le=>le.name.toLowerCase().includes(K))},[b,o.formatted,x]),H=Y=>{E(Y);const K=A.some(le=>le.districtId===Y.districtId);k(K?le=>le.filter(F=>F.districtId!==Y.districtId):le=>[...le,{...Y,state:b}])},G=async()=>{if(A.length===0){T("Please select at least one district");return}M(!0),T(null);try{for(let Y=0;Y<A.length;Y++){const K=A[Y],le=Y===0,F=await c(K.state,K.name,{setAsHome:le&&D,setAsActive:le});if(!F.success)throw new Error(F.error||`Failed to join ${K.name}`)}m("success"),setTimeout(()=>{i?.()},2e3)}catch(Y){T(Y.message)}finally{M(!1)}},ee=Y=>u.some(K=>K.districtId===Y);return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:e.jsxs("div",{className:"relative max-h-[90vh] w-full max-w-2xl overflow-hidden rounded-2xl border border-white/10 bg-[#0f0f0f] shadow-2xl",children:[e.jsx("div",{className:"border-b border-white/10 bg-gradient-to-r from-rose-500/10 to-violet-500/10 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-rose-500/20 p-3",children:e.jsx(os,{className:"h-6 w-6 text-rose-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Join Your Community"}),e.jsx("p",{className:"text-sm text-white/60",children:"Select your district to connect with local members"})]})]}),a&&e.jsx("button",{onClick:i,className:"rounded-lg p-2 text-white/40 hover:bg-white/10 hover:text-white",children:e.jsx(ls,{className:"h-5 w-5"})})]})}),e.jsxs("div",{className:"max-h-[60vh] overflow-y-auto p-6",children:[f==="select"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Za,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",placeholder:"Search states or districts...",value:x,onChange:Y=>v(Y.target.value),className:"w-full rounded-xl border border-white/10 bg-white/5 py-3 pl-10 pr-4 text-white placeholder-white/40 focus:border-rose-500/50 focus:outline-none"})]}),A.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 rounded-lg border border-white/10 bg-white/5 p-3",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Selected:"}),A.map(Y=>e.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-rose-500/20 px-3 py-1 text-sm text-rose-400",children:[Y.name,e.jsx("button",{onClick:()=>H(Y),className:"ml-1 rounded-full hover:bg-rose-500/30",children:e.jsx(ls,{className:"h-3 w-3"})})]},Y.districtId))]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5",children:[e.jsx("div",{className:"border-b border-white/10 p-3",children:e.jsxs("h3",{className:"flex items-center gap-2 text-sm font-medium text-white",children:[e.jsx(Je,{className:"h-4 w-4 text-rose-400"}),"Select State"]})}),e.jsx("div",{className:"max-h-64 overflow-y-auto p-2",children:R.map(Y=>e.jsxs("button",{onClick:()=>{w(Y.state),v("")},className:`flex w-full items-center justify-between rounded-lg px-3 py-2 text-left text-sm transition-colors ${b===Y.state?"bg-rose-500/20 text-rose-400":"text-white/80 hover:bg-white/10"}`,children:[e.jsx("span",{children:Y.state}),e.jsx(ll,{className:"h-4 w-4 opacity-50"})]},Y.state))})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5",children:[e.jsx("div",{className:"border-b border-white/10 p-3",children:e.jsxs("h3",{className:"flex items-center gap-2 text-sm font-medium text-white",children:[e.jsx(xf,{className:"h-4 w-4 text-violet-400"}),"Select District(s)"]})}),e.jsx("div",{className:"max-h-64 overflow-y-auto p-2",children:b?Z.length>0?Z.map(Y=>{const K=A.some(F=>F.districtId===Y.districtId),le=ee(Y.districtId);return e.jsxs("button",{onClick:()=>!le&&H(Y),disabled:le,className:`flex w-full items-center justify-between rounded-lg px-3 py-2 text-left text-sm transition-colors ${le?"cursor-not-allowed bg-emerald-500/10 text-emerald-400":K?"bg-rose-500/20 text-rose-400":"text-white/80 hover:bg-white/10"}`,children:[e.jsx("span",{children:Y.name}),le?e.jsx("span",{className:"text-xs",children:"Joined"}):K?e.jsx(Va,{className:"h-4 w-4"}):e.jsx(cl,{className:"h-4 w-4 opacity-50"})]},Y.districtId)}):e.jsx("p",{className:"p-4 text-center text-sm text-white/40",children:"No districts found"}):e.jsx("p",{className:"p-4 text-center text-sm text-white/40",children:"Select a state first"})})]})]}),e.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:D,onChange:Y=>V(Y.target.checked),className:"h-4 w-4 rounded border-white/20 bg-white/5 text-rose-500 focus:ring-rose-500"}),e.jsx("span",{className:"text-sm text-white/80",children:"Set first selected district as my home community"})]})}),B&&e.jsx("div",{className:"rounded-lg bg-red-500/10 p-3 text-sm text-red-400",children:B})]}),f==="success"&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("div",{className:"mb-4 rounded-full bg-emerald-500/20 p-4",children:e.jsx(Va,{className:"h-12 w-12 text-emerald-400"})}),e.jsx("h3",{className:"mb-2 text-xl font-bold text-white",children:"Welcome to your Community!"}),e.jsxs("p",{className:"text-white/60",children:["You've successfully joined ",A.length," district(s).",e.jsx("br",{}),"Start exploring issues and connecting with members."]})]})]}),f==="select"&&e.jsx("div",{className:"border-t border-white/10 bg-white/5 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-white/40",children:[A.length," district(s) selected"]}),e.jsx("button",{onClick:G,disabled:O||A.length===0,className:"flex items-center gap-2 rounded-xl bg-gradient-to-r from-rose-500 to-rose-600 px-6 py-2.5 font-medium text-white transition-all hover:from-rose-600 hover:to-rose-700 disabled:cursor-not-allowed disabled:opacity-50",children:O?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"h-4 w-4 animate-spin"}),"Joining..."]}):e.jsxs(e.Fragment,{children:[e.jsx(os,{className:"h-4 w-4"}),"Join Community"]})})]})})]})}):null}const gh="http://localhost:3000/api",vh=()=>{const t=localStorage.getItem("activeDistrictId");return t?{"x-active-district":t}:{}};class t8{async getMyHistory(i={}){const a=new URLSearchParams;i.page&&a.append("page",i.page),i.limit&&a.append("limit",i.limit),i.all&&a.append("all","true"),i.decision&&a.append("decision",i.decision),i.verificationType&&a.append("verificationType",i.verificationType);const o=await Ye(`${gh}/verification-history/my-history?${a}`,{headers:vh(),credentials:"include"});if(!o.ok)throw new Error("Failed to fetch verification history");return o.json()}async performVerification(i){const a=await Ye(`${gh}/verification-history/verify`,{method:"POST",headers:{"Content-Type":"application/json",...vh()},credentials:"include",body:JSON.stringify(i)});if(!a.ok){const o=await a.json();throw new Error(o.message||"Failed to perform verification")}return a.json()}async getStats(i=30){const a=await Ye(`${gh}/verification-history/stats?days=${i}`,{headers:vh(),credentials:"include"});if(!a.ok)throw new Error("Failed to fetch verification stats");return a.json()}async exportHistory(i=!1){const a=await Ye(`${gh}/verification-history/export?all=${i}`,{headers:vh(),credentials:"include"});if(!a.ok)throw new Error("Failed to export history");return a.blob()}async downloadExport(i=!1){const a=await this.exportHistory(i),o=window.URL.createObjectURL(a),c=document.createElement("a");c.href=o,c.download="verification-history.csv",document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(o),document.body.removeChild(c)}}const Q1=new t8;function s8(){const{activeDistrict:t}=vn(),[i,a]=N.useState(!0),[o,c]=N.useState(null),[u,f]=N.useState([]),[m,x]=N.useState(null),[v,b]=N.useState({page:1,pages:1,total:0}),[w,j]=N.useState(!1),[E,A]=N.useState(""),[k,O]=N.useState(""),[M,B]=N.useState(!1),T=async(Z=1)=>{a(!0),c(null);try{const H=await Q1.getMyHistory({page:Z,limit:20,all:w,decision:E||void 0,verificationType:k||void 0});H.success&&(f(H.data.history),x(H.data.stats),b(H.data.pagination))}catch(H){console.error("Failed to fetch history:",H),c(H.message)}finally{a(!1)}};N.useEffect(()=>{T()},[w,E,k,t]);const D=async()=>{B(!0);try{await Q1.downloadExport(w)}catch(Z){console.error("Export failed:",Z)}finally{B(!1)}},V=Z=>{const G={verified:{color:"emerald",icon:Be,label:"Verified"},approved:{color:"emerald",icon:Be,label:"Approved"},"not-verified":{color:"red",icon:Zs,label:"Not Verified"},rejected:{color:"red",icon:Zs,label:"Rejected"},"needs-more-info":{color:"amber",icon:vt,label:"Needs Info"}}[Z]||{color:"gray",icon:Ot,label:Z},ee=G.icon;return e.jsxs("span",{className:`flex items-center gap-1 rounded-full bg-${G.color}-500/20 px-2 py-1 text-xs text-${G.color}-400`,children:[e.jsx(ee,{className:"h-3 w-3"}),G.label]})},R=Z=>new Date(Z).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"My Verifications"}),e.jsx("p",{className:"text-white/60",children:"Track your verification history and impact"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>T(v.page),className:"rounded-lg p-2 text-white/60 hover:bg-white/10 hover:text-white",children:e.jsx(Ui,{className:"h-5 w-5"})}),e.jsxs("button",{onClick:D,disabled:M,className:"flex items-center gap-2 rounded-lg bg-white/10 px-4 py-2 text-sm text-white hover:bg-white/20 disabled:opacity-50",children:[M?e.jsx(Pe,{className:"h-4 w-4 animate-spin"}):e.jsx(N0,{className:"h-4 w-4"}),"Export CSV"]})]})]}),m&&e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-violet-500/20 p-2",children:e.jsx(Be,{className:"h-5 w-5 text-violet-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:m.totalVerifications}),e.jsx("p",{className:"text-xs text-white/60",children:"Total Verifications"})]})]})}),e.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-emerald-500/20 p-2",children:e.jsx(si,{className:"h-5 w-5 text-emerald-400"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-white",children:[m.totalVerifications>0?Math.round((m.verified+m.approved)/m.totalVerifications*100):0,"%"]}),e.jsx("p",{className:"text-xs text-white/60",children:"Accuracy Rate"})]})]})}),e.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-amber-500/20 p-2",children:e.jsx(Zh,{className:"h-5 w-5 text-amber-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:m.totalPoints}),e.jsx("p",{className:"text-xs text-white/60",children:"Points Earned"})]})]})}),e.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-rose-500/20 p-2",children:e.jsx(vt,{className:"h-5 w-5 text-rose-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:m.disputedCount}),e.jsx("p",{className:"text-xs text-white/60",children:"Disputed"})]})]})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yf,{className:"h-4 w-4 text-white/40"}),e.jsx("span",{className:"text-sm text-white/60",children:"Filters:"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:Z=>j(Z.target.checked),className:"h-4 w-4 rounded border-white/20 bg-white/5 text-rose-500"}),e.jsx("span",{className:"text-sm text-white/80",children:"All Districts"})]}),e.jsxs("select",{value:E,onChange:Z=>A(Z.target.value),className:"rounded-lg border border-white/10 bg-white/5 px-3 py-1.5 text-sm text-white",children:[e.jsx("option",{value:"",children:"All Decisions"}),e.jsx("option",{value:"verified",children:"Verified"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"not-verified",children:"Not Verified"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"needs-more-info",children:"Needs Info"})]}),e.jsxs("select",{value:k,onChange:Z=>O(Z.target.value),className:"rounded-lg border border-white/10 bg-white/5 px-3 py-1.5 text-sm text-white",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"issue-existence",children:"Issue Existence"}),e.jsx("option",{value:"issue-resolution",children:"Issue Resolution"}),e.jsx("option",{value:"report-approval",children:"Report Approval"})]})]}),e.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5",children:i?e.jsx("div",{className:"flex items-center justify-center p-12",children:e.jsx(Pe,{className:"h-8 w-8 animate-spin text-rose-500"})}):o?e.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[e.jsx(vt,{className:"mb-2 h-8 w-8 text-red-400"}),e.jsx("p",{className:"text-white/60",children:o}),e.jsx("button",{onClick:()=>T(),className:"mt-4 rounded-lg bg-rose-500/20 px-4 py-2 text-rose-400 hover:bg-rose-500/30",children:"Retry"})]}):u.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[e.jsx(wi,{className:"mb-2 h-12 w-12 text-white/20"}),e.jsx("p",{className:"text-white/60",children:"No verifications yet"}),e.jsx("p",{className:"text-sm text-white/40",children:"Start verifying issues to build your history"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"divide-y divide-white/10",children:u.map(Z=>e.jsx("div",{className:"p-4 hover:bg-white/5",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`mt-1 rounded-lg p-2 ${["verified","approved"].includes(Z.decision)?"bg-emerald-500/20":["not-verified","rejected"].includes(Z.decision)?"bg-red-500/20":"bg-amber-500/20"}`,children:["verified","approved"].includes(Z.decision)?e.jsx(Be,{className:"h-4 w-4 text-emerald-400"}):["not-verified","rejected"].includes(Z.decision)?e.jsx(Zs,{className:"h-4 w-4 text-red-400"}):e.jsx(vt,{className:"h-4 w-4 text-amber-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:Z.issue?.title||"Issue"}),e.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-xs text-white/60",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"h-3 w-3"}),Z.district,", ",Z.state]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(bi,{className:"h-3 w-3"}),R(Z.createdAt)]}),Z.issue?.category&&e.jsx("span",{className:"rounded bg-white/10 px-1.5 py-0.5",children:Z.issue.category})]}),Z.notes&&e.jsxs("p",{className:"mt-2 text-sm text-white/60",children:['"',Z.notes,'"']})]})]})}),e.jsxs("div",{className:"flex items-center gap-3 sm:flex-col sm:items-end",children:[V(Z.decision),e.jsxs("div",{className:"flex items-center gap-1 text-amber-400",children:[e.jsx(Zh,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm font-medium",children:["+",Z.pointsAwarded]})]})]})]})},Z._id))}),v.pages>1&&e.jsxs("div",{className:"flex items-center justify-between border-t border-white/10 p-4",children:[e.jsxs("p",{className:"text-sm text-white/60",children:["Showing ",(v.page-1)*20+1," - ",Math.min(v.page*20,v.total)," of ",v.total]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>T(v.page-1),disabled:v.page<=1,className:"rounded-lg p-2 text-white/60 hover:bg-white/10 disabled:opacity-50",children:e.jsx(q3,{className:"h-5 w-5"})}),e.jsxs("span",{className:"text-sm text-white",children:[v.page," / ",v.pages]}),e.jsx("button",{onClick:()=>T(v.page+1),disabled:v.page>=v.pages,className:"rounded-lg p-2 text-white/60 hover:bg-white/10 disabled:opacity-50",children:e.jsx(ll,{className:"h-5 w-5"})})]})]})]})})]})}const Xo="http://localhost:3000/api",Ko=()=>{const t=localStorage.getItem("activeDistrictId");return t?{"x-active-district":t}:{}};class i8{async createMeet(i){const a=await Ye(`${Xo}/meets`,{method:"POST",headers:{"Content-Type":"application/json",...Ko()},credentials:"include",body:JSON.stringify(i)});if(!a.ok){const o=await a.json();throw new Error(o.message||"Failed to create meet")}return a.json()}async getMeets(i="upcoming",a=1,o=10){const c=await Ye(`${Xo}/meets?type=${i}&page=${a}&limit=${o}`,{headers:Ko(),credentials:"include"});if(!c.ok)throw new Error("Failed to fetch meets");return c.json()}async getMeetById(i){const a=await Ye(`${Xo}/meets/${i}`,{headers:Ko(),credentials:"include"});if(!a.ok)throw new Error("Failed to fetch meet");return a.json()}async rsvpToMeet(i,a){const o=await Ye(`${Xo}/meets/${i}/rsvp`,{method:"POST",headers:{"Content-Type":"application/json",...Ko()},credentials:"include",body:JSON.stringify({status:a})});if(!o.ok){const c=await o.json();throw new Error(c.message||"Failed to RSVP")}return o.json()}async updateMeet(i,a){const o=await Ye(`${Xo}/meets/${i}`,{method:"PUT",headers:{"Content-Type":"application/json",...Ko()},credentials:"include",body:JSON.stringify(a)});if(!o.ok){const c=await o.json();throw new Error(c.message||"Failed to update meet")}return o.json()}async deleteMeet(i){const a=await Ye(`${Xo}/meets/${i}`,{method:"DELETE",headers:Ko(),credentials:"include"});if(!a.ok){const o=await a.json();throw new Error(o.message||"Failed to cancel meet")}return a.json()}}const Vh=new i8;function n8({isOpen:t,onClose:i,onCreated:a}){const[o,c]=N.useState(!1),[u,f]=N.useState(null),[m,x]=N.useState({title:"",description:"",meetType:"online",scheduledAt:"",scheduledTime:"",duration:60,venue:"",address:"",meetingLink:"",meetingPlatform:"google-meet",maxParticipants:0,visibility:"public"}),v=j=>{const{name:E,value:A,type:k}=j.target;x(O=>({...O,[E]:k==="number"?parseInt(A)||0:A}))},b=async j=>{j.preventDefault(),c(!0),f(null);try{const E=new Date(`${m.scheduledAt}T${m.scheduledTime}`);if(E<=new Date)throw new Error("Meeting must be scheduled for a future time");const A={title:m.title,description:m.description,meetType:m.meetType,scheduledAt:E.toISOString(),duration:m.duration,visibility:m.visibility,maxParticipants:m.maxParticipants,location:m.meetType==="online"?{meetingLink:m.meetingLink,meetingPlatform:m.meetingPlatform}:{venue:m.venue,address:m.address}},k=await Vh.createMeet(A);if(k.success)a?.(k.data.meet);else throw new Error(k.message||"Failed to create meet")}catch(E){console.error("Create meet error:",E),f(E.message)}finally{c(!1)}},w=()=>new Date().toISOString().split("T")[0];return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:e.jsxs("div",{className:"relative max-h-[90vh] w-full max-w-lg overflow-hidden rounded-2xl border border-white/10 bg-[#0f0f0f] shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-rose-500/20 p-2",children:e.jsx(bi,{className:"h-5 w-5 text-rose-400"})}),e.jsx("h2",{className:"text-lg font-bold text-white",children:"Create Public Meet"})]}),e.jsx("button",{onClick:i,className:"rounded-lg p-2 text-white/40 hover:bg-white/10 hover:text-white",children:e.jsx(ls,{className:"h-5 w-5"})})]}),e.jsx("form",{onSubmit:b,className:"max-h-[70vh] overflow-y-auto p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm text-white/60",children:"Title *"}),e.jsx("input",{type:"text",name:"title",value:m.title,onChange:v,required:!0,maxLength:200,placeholder:"Community Discussion on...",className:"w-full rounded-lg border border-white/10 bg-white/5 px-4 py-2 text-white placeholder-white/40 focus:border-rose-500/50 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm text-white/60",children:"Description"}),e.jsx("textarea",{name:"description",value:m.description,onChange:v,rows:3,maxLength:2e3,placeholder:"What will be discussed...",className:"w-full rounded-lg border border-white/10 bg-white/5 px-4 py-2 text-white placeholder-white/40 focus:border-rose-500/50 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm text-white/60",children:"Meet Type *"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"online",label:"Online",icon:Xh},{value:"physical",label:"Physical",icon:Je},{value:"hybrid",label:"Hybrid",icon:os}].map(j=>e.jsxs("button",{type:"button",onClick:()=>x(E=>({...E,meetType:j.value})),className:`flex items-center justify-center gap-2 rounded-lg border p-2 text-sm transition-colors ${m.meetType===j.value?"border-rose-500 bg-rose-500/20 text-rose-400":"border-white/10 text-white/60 hover:bg-white/10"}`,children:[e.jsx(j.icon,{className:"h-4 w-4"}),j.label]},j.value))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm text-white/60",children:"Date *"}),e.jsx("input",{type:"date",name:"scheduledAt",value:m.scheduledAt,onChange:v,min:w(),required:!0,className:"w-full rounded-lg border border-white/10 bg-white/5 px-4 py-2 text-white focus:border-rose-500/50 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm text-white/60",children:"Time *"}),e.jsx("input",{type:"time",name:"scheduledTime",value:m.scheduledTime,onChange:v,required:!0,className:"w-full rounded-lg border border-white/10 bg-white/5 px-4 py-2 text-white focus:border-rose-500/50 focus:outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm text-white/60",children:"Duration (minutes)"}),e.jsxs("select",{name:"duration",value:m.duration,onChange:v,className:"w-full rounded-lg border border-white/10 bg-white/5 px-4 py-2 text-white focus:border-rose-500/50 focus:outline-none",children:[e.jsx("option",{value:30,children:"30 minutes"}),e.jsx("option",{value:45,children:"45 minutes"}),e.jsx("option",{value:60,children:"1 hour"}),e.jsx("option",{value:90,children:"1.5 hours"}),e.jsx("option",{value:120,children:"2 hours"})]})]}),(m.meetType==="online"||m.meetType==="hybrid")&&e.jsxs("div",{className:"space-y-4 rounded-lg border border-white/10 bg-white/5 p-4",children:[e.jsxs("h4",{className:"flex items-center gap-2 text-sm font-medium text-white",children:[e.jsx(Xh,{className:"h-4 w-4 text-violet-400"}),"Online Meeting Details"]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm text-white/60",children:"Platform"}),e.jsxs("select",{name:"meetingPlatform",value:m.meetingPlatform,onChange:v,className:"w-full rounded-lg border border-white/10 bg-[#0f0f0f] px-4 py-2 text-white",children:[e.jsx("option",{value:"google-meet",children:"Google Meet"}),e.jsx("option",{value:"zoom",children:"Zoom"}),e.jsx("option",{value:"teams",children:"Microsoft Teams"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm text-white/60",children:"Meeting Link"}),e.jsx("input",{type:"url",name:"meetingLink",value:m.meetingLink,onChange:v,placeholder:"https://meet.google.com/...",className:"w-full rounded-lg border border-white/10 bg-[#0f0f0f] px-4 py-2 text-white placeholder-white/40"})]})]}),(m.meetType==="physical"||m.meetType==="hybrid")&&e.jsxs("div",{className:"space-y-4 rounded-lg border border-white/10 bg-white/5 p-4",children:[e.jsxs("h4",{className:"flex items-center gap-2 text-sm font-medium text-white",children:[e.jsx(Je,{className:"h-4 w-4 text-emerald-400"}),"Physical Location"]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm text-white/60",children:"Venue Name"}),e.jsx("input",{type:"text",name:"venue",value:m.venue,onChange:v,placeholder:"Community Hall",className:"w-full rounded-lg border border-white/10 bg-[#0f0f0f] px-4 py-2 text-white placeholder-white/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm text-white/60",children:"Address"}),e.jsx("input",{type:"text",name:"address",value:m.address,onChange:v,placeholder:"123 Main Street...",className:"w-full rounded-lg border border-white/10 bg-[#0f0f0f] px-4 py-2 text-white placeholder-white/40"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm text-white/60",children:"Max Participants (0 = unlimited)"}),e.jsx("input",{type:"number",name:"maxParticipants",value:m.maxParticipants,onChange:v,min:0,className:"w-full rounded-lg border border-white/10 bg-white/5 px-4 py-2 text-white focus:border-rose-500/50 focus:outline-none"})]}),u&&e.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-red-500/10 p-3 text-sm text-red-400",children:[e.jsx(vt,{className:"h-4 w-4"}),u]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-white/10 p-4",children:[e.jsx("button",{type:"button",onClick:i,className:"rounded-lg px-4 py-2 text-white/60 hover:bg-white/10 hover:text-white",children:"Cancel"}),e.jsx("button",{onClick:b,disabled:o||!m.title||!m.scheduledAt||!m.scheduledTime,className:"flex items-center gap-2 rounded-lg bg-gradient-to-r from-rose-500 to-rose-600 px-6 py-2 font-medium text-white hover:from-rose-600 hover:to-rose-700 disabled:opacity-50",children:o?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(bi,{className:"h-4 w-4"}),"Create Meet"]})})]})]})}):null}function a8(){const{activeDistrict:t}=vn(),{user:i}=$t(),[a,o]=N.useState(!0),[c,u]=N.useState(null),[f,m]=N.useState([]),[x,v]=N.useState([]),[b,w]=N.useState("upcoming"),[j,E]=N.useState(!1),[A,k]=N.useState(null),O=async()=>{o(!0),u(null);try{const[R,Z]=await Promise.all([Vh.getMeets("upcoming",1,20),Vh.getMeets("past",1,10)]);R.success&&m(R.data.meets),Z.success&&v(Z.data.meets)}catch(R){console.error("Failed to fetch meets:",R),u(R.message)}finally{o(!1)}};N.useEffect(()=>{t&&O()},[t]);const M=async(R,Z)=>{k(R);try{await Vh.rsvpToMeet(R,Z),await O()}catch(H){console.error("RSVP failed:",H)}finally{k(null)}},B=R=>R.rsvps?.find(H=>H.user?._id===i?._id||H.user===i?._id)?.status,T=R=>new Date(R).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short",year:"numeric"}),D=R=>new Date(R).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),V=({meet:R,showRsvp:Z=!0})=>{const H=B(R),G=R.organizer?._id===i?._id,ee=new Date(R.scheduledAt)<new Date;return e.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4 hover:bg-white/10 transition-colors",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`rounded-lg p-2 ${R.meetType==="online"?"bg-violet-500/20":R.meetType==="physical"?"bg-emerald-500/20":"bg-amber-500/20"}`,children:R.meetType==="online"?e.jsx(Xh,{className:"h-5 w-5 text-violet-400"}):e.jsx(Je,{className:"h-5 w-5 text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:R.title}),e.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-3 text-sm text-white/60",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(bi,{className:"h-4 w-4"}),T(R.scheduledAt)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"h-4 w-4"}),D(R.scheduledAt)," (",R.duration," min)"]})]})]})]}),R.description&&e.jsx("p",{className:"mt-3 text-sm text-white/60 line-clamp-2",children:R.description}),e.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-sm",children:[R.meetType==="online"&&R.location?.meetingLink&&e.jsxs("a",{href:R.location.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-violet-400 hover:text-violet-300",children:[e.jsx(tj,{className:"h-4 w-4"}),"Join Meeting",e.jsx(vf,{className:"h-3 w-3"})]}),R.meetType!=="online"&&R.location?.venue&&e.jsxs("span",{className:"flex items-center gap-1 text-white/60",children:[e.jsx(Je,{className:"h-4 w-4"}),R.location.venue]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-4 text-sm",children:[e.jsxs("span",{className:"text-white/40",children:["by ",R.organizer?.username||"Unknown",G&&e.jsx("span",{className:"ml-1 text-rose-400",children:"(You)"})]}),e.jsxs("span",{className:"flex items-center gap-1 text-emerald-400",children:[e.jsx(os,{className:"h-4 w-4"}),R.rsvpCount||0," going",R.maybeCount>0&&`, ${R.maybeCount} maybe`]})]})]}),Z&&!ee&&e.jsx("div",{className:"flex items-center gap-2",children:A===R._id?e.jsx(Pe,{className:"h-5 w-5 animate-spin text-white/40"}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>M(R._id,"going"),className:`rounded-lg px-3 py-1.5 text-sm font-medium transition-colors ${H==="going"?"bg-emerald-500 text-white":"bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30"}`,children:[e.jsx(Va,{className:"inline h-4 w-4 mr-1"}),"Going"]}),e.jsx("button",{onClick:()=>M(R._id,"maybe"),className:`rounded-lg px-3 py-1.5 text-sm font-medium transition-colors ${H==="maybe"?"bg-amber-500 text-white":"bg-amber-500/20 text-amber-400 hover:bg-amber-500/30"}`,children:"Maybe"}),H&&H!=="not-going"&&e.jsx("button",{onClick:()=>M(R._id,"not-going"),className:"rounded-lg p-1.5 text-white/40 hover:bg-white/10 hover:text-white",title:"Cancel RSVP",children:e.jsx(ls,{className:"h-4 w-4"})})]})})]})})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Public Meets"}),e.jsx("p",{className:"text-white/60",children:"Community meetings and discussions"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:O,className:"rounded-lg p-2 text-white/60 hover:bg-white/10 hover:text-white",children:e.jsx(Ui,{className:"h-5 w-5"})}),e.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 rounded-xl bg-gradient-to-r from-rose-500 to-rose-600 px-4 py-2 font-medium text-white hover:from-rose-600 hover:to-rose-700",children:[e.jsx(cl,{className:"h-4 w-4"}),"Create Meet"]})]})]}),e.jsxs("div",{className:"flex gap-2 border-b border-white/10",children:[e.jsxs("button",{onClick:()=>w("upcoming"),className:`px-4 py-2 text-sm font-medium transition-colors ${b==="upcoming"?"border-b-2 border-rose-500 text-rose-400":"text-white/60 hover:text-white"}`,children:["Upcoming (",f.length,")"]}),e.jsxs("button",{onClick:()=>w("past"),className:`px-4 py-2 text-sm font-medium transition-colors ${b==="past"?"border-b-2 border-rose-500 text-rose-400":"text-white/60 hover:text-white"}`,children:["Past (",x.length,")"]})]}),a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Pe,{className:"h-8 w-8 animate-spin text-rose-500"})}):c?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(vt,{className:"mb-2 h-8 w-8 text-red-400"}),e.jsx("p",{className:"text-white/60",children:c}),e.jsx("button",{onClick:O,className:"mt-4 rounded-lg bg-rose-500/20 px-4 py-2 text-rose-400 hover:bg-rose-500/30",children:"Retry"})]}):e.jsxs("div",{className:"space-y-4",children:[b==="upcoming"&&(f.length>0?f.map(R=>e.jsx(V,{meet:R},R._id)):e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl border border-white/10 bg-white/5 py-12 text-center",children:[e.jsx(bi,{className:"mb-2 h-12 w-12 text-white/20"}),e.jsx("p",{className:"text-white/60",children:"No upcoming meets"}),e.jsx("p",{className:"text-sm text-white/40",children:"Be the first to organize one!"}),e.jsxs("button",{onClick:()=>E(!0),className:"mt-4 flex items-center gap-2 rounded-lg bg-rose-500/20 px-4 py-2 text-rose-400 hover:bg-rose-500/30",children:[e.jsx(cl,{className:"h-4 w-4"}),"Create Meet"]})]})),b==="past"&&(x.length>0?x.map(R=>e.jsx(V,{meet:R,showRsvp:!1},R._id)):e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl border border-white/10 bg-white/5 py-12 text-center",children:[e.jsx(bi,{className:"mb-2 h-12 w-12 text-white/20"}),e.jsx("p",{className:"text-white/60",children:"No past meets"})]}))]}),j&&e.jsx(n8,{isOpen:j,onClose:()=>E(!1),onCreated:()=>{E(!1),O()}})]})}const qn="http://localhost:3000/api",Gn=()=>{const t=localStorage.getItem("activeDistrictId");return t?{"x-active-district":t}:{}};class r8{async getMessages(i={}){const a=new URLSearchParams;i.limit&&a.append("limit",i.limit),i.before&&a.append("before",i.before),i.after&&a.append("after",i.after);const o=await Ye(`${qn}/community-chat/messages?${a}`,{headers:Gn(),credentials:"include"});if(!o.ok)throw new Error("Failed to fetch messages");return o.json()}async sendMessage(i,a={}){const o=await Ye(`${qn}/community-chat/messages`,{method:"POST",headers:{"Content-Type":"application/json",...Gn()},credentials:"include",body:JSON.stringify({message:i,messageType:a.messageType||"text",replyTo:a.replyTo||null,relatedIssue:a.relatedIssue||null})});if(!o.ok){const c=await o.json();throw new Error(c.message||"Failed to send message")}return o.json()}async deleteMessage(i,a=null){const o=await Ye(`${qn}/community-chat/messages/${i}`,{method:"DELETE",headers:{"Content-Type":"application/json",...Gn()},credentials:"include",body:JSON.stringify({reason:a})});if(!o.ok){const c=await o.json();throw new Error(c.message||"Failed to delete message")}return o.json()}async reactToMessage(i,a){const o=await Ye(`${qn}/community-chat/messages/${i}/react`,{method:"POST",headers:{"Content-Type":"application/json",...Gn()},credentials:"include",body:JSON.stringify({emoji:a})});if(!o.ok)throw new Error("Failed to react to message");return o.json()}async getPinnedMessages(){const i=await Ye(`${qn}/community-chat/pinned`,{headers:Gn(),credentials:"include"});if(!i.ok)throw new Error("Failed to fetch pinned messages");return i.json()}async pinMessage(i){const a=await Ye(`${qn}/community-chat/messages/${i}/pin`,{method:"POST",headers:Gn(),credentials:"include"});if(!a.ok)throw new Error("Failed to pin message");return a.json()}async unpinMessage(i){const a=await Ye(`${qn}/community-chat/messages/${i}/pin`,{method:"DELETE",headers:Gn(),credentials:"include"});if(!a.ok)throw new Error("Failed to unpin message");return a.json()}async getAnnouncements(i=10){const a=await Ye(`${qn}/community-chat/announcements?limit=${i}`,{headers:Gn(),credentials:"include"});if(!a.ok)throw new Error("Failed to fetch announcements");return a.json()}async postAnnouncement(i){const a=await Ye(`${qn}/community-chat/announcements`,{method:"POST",headers:{"Content-Type":"application/json",...Gn()},credentials:"include",body:JSON.stringify({message:i})});if(!a.ok){const o=await a.json();throw new Error(o.message||"Failed to post announcement")}return a.json()}}const Wo=new r8;function o8(){const{activeDistrict:t,activeMembership:i}=vn(),{user:a}=$t(),[o,c]=N.useState(!0),[u,f]=N.useState(!1),[m,x]=N.useState(null),[v,b]=N.useState([]),[w,j]=N.useState([]),[E,A]=N.useState(""),[k,O]=N.useState(!1),[M,B]=N.useState({page:1,hasMore:!0}),[T,D]=N.useState(!1),V=N.useRef(null),R=N.useRef(null),Z=i?.role==="moderator"||i?.role==="admin",H=async(U=1,ne=!1)=>{U===1?c(!0):D(!0);try{const[J,ae]=await Promise.all([Wo.getMessages(U,50),U===1?Wo.getAnnouncements(1,5):null].filter(Boolean));if(J.success){const te=J.data.messages||[];b(ne?I=>[...I,...te]:te),B({page:U,hasMore:J.data.pagination?.hasNextPage||!1})}ae?.success&&j(ae.data.announcements||[])}catch(J){console.error("Failed to fetch messages:",J),x(J.message)}finally{c(!1),D(!1)}};N.useEffect(()=>{t&&H()},[t]),N.useEffect(()=>{!o&&v.length>0&&M.page===1&&V.current?.scrollIntoView({behavior:"smooth"})},[o]);const G=async U=>{if(U.preventDefault(),!(!E.trim()||u)){f(!0);try{const ne=await Wo.sendMessage(E.trim());ne.success&&(b(J=>[ne.data.message,...J]),A(""),V.current?.scrollIntoView({behavior:"smooth"}))}catch(ne){console.error("Failed to send message:",ne)}finally{f(!1)}}},ee=async U=>{try{await Wo.pinMessage(U),H()}catch(ne){console.error("Failed to pin message:",ne)}},Y=async U=>{if(confirm("Are you sure you want to delete this message?"))try{await Wo.deleteMessage(U),b(ne=>ne.filter(J=>J._id!==U))}catch(ne){console.error("Failed to delete message:",ne)}},K=async(U,ne)=>{try{await Wo.reactToMessage(U,ne),b(J=>J.map(ae=>{if(ae._id!==U)return ae;const te=ae.reactions?.find($=>$.emoji===ne);let I=[...ae.reactions||[]];return te?te.users?.some(W=>W._id===a?._id||W===a?._id)?I=I.filter(W=>W.emoji!==ne):I=I.map(W=>W.emoji===ne?{...W,count:(W.count||0)+1,users:[...W.users||[],a._id]}:W):I.push({emoji:ne,count:1,users:[a._id]}),{...ae,reactions:I}}))}catch(J){console.error("Failed to react:",J)}},le=U=>{const ne=new Date(U),ae=new Date-ne,te=Math.floor(ae/6e4),I=Math.floor(ae/36e5),$=Math.floor(ae/864e5);return te<1?"Just now":te<60?`${te}m ago`:I<24?`${I}h ago`:$<7?`${$}d ago`:ne.toLocaleDateString("en-IN",{day:"numeric",month:"short"})},F=["","","","",""],ve=({message:U})=>{const ne=U.sender?._id===a?._id,[J,ae]=N.useState(!1);return e.jsx("div",{className:`group flex ${ne?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`relative max-w-[80%] ${ne?"order-2":""}`,children:[!ne&&e.jsxs("div",{className:"mb-1 flex items-center gap-2 text-xs text-white/40",children:[e.jsx("span",{className:"font-medium text-white/60",children:U.sender?.username||"Unknown"}),U.sender?.role&&U.sender.role!=="member"&&e.jsx("span",{className:"rounded bg-rose-500/20 px-1.5 py-0.5 text-rose-400",children:U.sender.role})]}),e.jsxs("div",{className:`rounded-2xl px-4 py-2 ${ne?"bg-rose-500/20 text-white":"bg-white/10 text-white"} ${U.isPinned?"border border-amber-500/50":""}`,children:[U.isPinned&&e.jsxs("div",{className:"mb-1 flex items-center gap-1 text-xs text-amber-400",children:[e.jsx(Qb,{className:"h-3 w-3"}),"Pinned"]}),e.jsx("p",{className:"whitespace-pre-wrap break-words",children:U.content}),U.reactions&&U.reactions.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:U.reactions.map(te=>e.jsxs("button",{onClick:()=>K(U._id,te.emoji),className:"flex items-center gap-1 rounded-full bg-white/10 px-2 py-0.5 text-xs hover:bg-white/20",children:[te.emoji," ",te.count]},te.emoji))})]}),e.jsxs("div",{className:`mt-1 flex items-center gap-2 text-xs text-white/40 ${ne?"justify-end":""}`,children:[e.jsx("span",{children:le(U.createdAt)}),e.jsxs("div",{className:"hidden items-center gap-1 group-hover:flex",children:[e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>ae(!J),className:"rounded p-1 hover:bg-white/10",children:e.jsx(yT,{className:"h-3.5 w-3.5"})}),J&&e.jsx("div",{className:"absolute bottom-full left-0 mb-1 flex gap-1 rounded-lg bg-[#1a1a1a] p-1 shadow-lg",children:F.map(te=>e.jsx("button",{onClick:()=>{K(U._id,te),ae(!1)},className:"rounded p-1 text-sm hover:bg-white/10",children:te},te))})]}),Z&&e.jsx("button",{onClick:()=>ee(U._id),className:`rounded p-1 hover:bg-white/10 ${U.isPinned?"text-amber-400":""}`,title:U.isPinned?"Unpin":"Pin",children:e.jsx(Qb,{className:"h-3.5 w-3.5"})}),(ne||Z)&&e.jsx("button",{onClick:()=>Y(U._id),className:"rounded p-1 text-red-400 hover:bg-red-500/10",title:"Delete",children:e.jsx(wf,{className:"h-3.5 w-3.5"})})]})]})]})})};return t?e.jsxs("div",{className:"flex h-[calc(100vh-200px)] flex-col rounded-xl border border-white/10 bg-white/5 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-rose-500/20 p-2",children:e.jsx(vs,{className:"h-5 w-5 text-rose-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-white",children:"Community Chat"}),e.jsxs("p",{className:"text-sm text-white/40",children:[t?.districtName,", ",t?.state]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>O(!k),className:`relative rounded-lg p-2 transition-colors ${k?"bg-rose-500/20 text-rose-400":"text-white/60 hover:bg-white/10 hover:text-white"}`,children:[e.jsx(Ii,{className:"h-5 w-5"}),w.length>0&&e.jsx("span",{className:"absolute -right-1 -top-1 flex h-4 w-4 items-center justify-center rounded-full bg-rose-500 text-xs text-white",children:w.length})]}),e.jsx("button",{onClick:()=>H(),className:"rounded-lg p-2 text-white/60 hover:bg-white/10 hover:text-white",children:e.jsx(Ui,{className:"h-5 w-5"})})]})]}),k&&w.length>0&&e.jsxs("div",{className:"border-b border-white/10 bg-amber-500/5 p-3",children:[e.jsxs("h4",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-amber-400",children:[e.jsx(Ii,{className:"h-4 w-4"}),"Announcements"]}),e.jsx("div",{className:"space-y-2",children:w.map(U=>e.jsxs("div",{className:"rounded-lg bg-white/5 p-2 text-sm",children:[e.jsx("p",{className:"text-white",children:U.content}),e.jsxs("p",{className:"mt-1 text-xs text-white/40",children:[U.sender?.username,"  ",le(U.createdAt)]})]},U._id))})]}),e.jsx("div",{ref:R,className:"flex-1 overflow-y-auto p-4",children:o?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(Pe,{className:"h-8 w-8 animate-spin text-rose-500"})}):m?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[e.jsx(vt,{className:"mb-2 h-8 w-8 text-red-400"}),e.jsx("p",{className:"text-white/60",children:m}),e.jsx("button",{onClick:()=>H(),className:"mt-4 rounded-lg bg-rose-500/20 px-4 py-2 text-rose-400 hover:bg-rose-500/30",children:"Retry"})]}):v.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[e.jsx(vs,{className:"mb-2 h-12 w-12 text-white/20"}),e.jsx("p",{className:"text-white/60",children:"No messages yet"}),e.jsx("p",{className:"text-sm text-white/40",children:"Be the first to say something!"})]}):e.jsxs("div",{className:"flex flex-col-reverse gap-3",children:[e.jsx("div",{ref:V}),v.map(U=>e.jsx(ve,{message:U},U._id)),M.hasMore&&e.jsxs("button",{onClick:()=>H(M.page+1,!0),disabled:T,className:"mx-auto flex items-center gap-2 rounded-lg px-4 py-2 text-sm text-white/40 hover:bg-white/10 hover:text-white",children:[T?e.jsx(Pe,{className:"h-4 w-4 animate-spin"}):e.jsx(ol,{className:"h-4 w-4"}),"Load older messages"]})]})}),e.jsx("form",{onSubmit:G,className:"border-t border-white/10 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"text",value:E,onChange:U=>A(U.target.value),placeholder:"Type a message...",maxLength:2e3,className:"flex-1 rounded-xl border border-white/10 bg-white/5 px-4 py-2 text-white placeholder-white/40 focus:border-rose-500/50 focus:outline-none"}),e.jsx("button",{type:"submit",disabled:!E.trim()||u,className:"rounded-xl bg-gradient-to-r from-rose-500 to-rose-600 p-3 text-white hover:from-rose-600 hover:to-rose-700 disabled:opacity-50",children:u?e.jsx(Pe,{className:"h-5 w-5 animate-spin"}):e.jsx(ru,{className:"h-5 w-5"})})]})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 rounded-xl border border-white/10 bg-white/5",children:[e.jsx(Je,{className:"h-16 w-16 text-amber-400 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No Community Selected"}),e.jsx("p",{className:"text-white/60 text-center max-w-md mb-6",children:"Please select a community area to chat with local members."})]})}function l8(){const t=Gt(),{user:i}=$t(),{loading:a,activeDistrict:o,showOnboarding:c,setShowOnboarding:u,onboardingRequired:f}=vn(),[m,x]=N.useState(!1),[v,b]=N.useState(null),[w,j]=N.useState({areaIssues:0,resolutionRate:0,activeMembers:0,verifiedCount:0}),[E,A]=N.useState([]),[k,O]=N.useState([]),[M,B]=N.useState([]),[T,D]=N.useState([]),[V,R]=N.useState(null);N.useEffect(()=>{if(!a){if(!o){x(!1);return}Z()}},[a,o]);const Z=async()=>{x(!0),b(null);try{const[ee,Y,K,le]=await Promise.all([Di.getDistrictIssues({page:1,limit:50}),Yr.getProfile().catch(ae=>null),fu.getUnverifiedIssues().catch(ae=>({data:{issues:[]}})),Di.getDistrictStats().catch(ae=>null)]),F=ee?.data?.issues||[];if(le?.success){const ae=le.data.stats;j({areaIssues:ae.totalIssues||F.length,resolutionRate:ae.resolutionRate||0,activeMembers:ae.activeMembers||0,verifiedCount:ae.resolvedIssues||0})}else{const ae=F.filter(I=>I.status==="resolved"),te=F.length>0?Math.round(ae.length/F.length*100):0;j({areaIssues:F.length,resolutionRate:te,activeMembers:0,verifiedCount:ae.length})}const ve=[...F].sort((ae,te)=>(te.upvotes?.length||0)-(ae.upvotes?.length||0)).slice(0,5),U=[...F].sort((ae,te)=>new Date(te.createdAt)-new Date(ae.createdAt)).slice(0,6),ne=K?.data?.issues||F.filter(ae=>ae.status==="reported"||ae.status==="resolved");O(ve),A(U),B(ne.slice(0,5)),Y&&R(Y.data||Y);const J=H(F);D(J)}catch(ee){console.error("Error fetching dashboard data:",ee),b("Failed to load dashboard data")}finally{x(!1)}},H=ee=>{const Y=[];return[...ee].sort((le,F)=>new Date(F.updatedAt||F.createdAt)-new Date(le.updatedAt||le.createdAt)).slice(0,10).forEach(le=>{const F=Date.now()-new Date(le.updatedAt||le.createdAt).getTime(),ve=G(F);le.status==="resolved"?Y.push({id:`resolved-${le._id}`,type:"verification",message:`Issue "${le.title?.substring(0,30)}..." was resolved`,time:ve,icon:Be,color:"emerald"}):le.status==="reported"&&Y.push({id:`reported-${le._id}`,type:"report",message:`New issue: ${le.title?.substring(0,35)}...`,time:ve,icon:wi,color:"rose"})}),Y.slice(0,6)},G=ee=>{const Y=Math.floor(ee/1e3),K=Math.floor(Y/60),le=Math.floor(K/60),F=Math.floor(le/24);return F>0?`${F} day${F>1?"s":""} ago`:le>0?`${le} hour${le>1?"s":""} ago`:K>0?`${K} min ago`:"Just now"};return a?e.jsxs("div",{className:"flex h-64 items-center justify-center",children:[e.jsx(Pe,{className:"h-8 w-8 animate-spin text-rose-500"}),e.jsx("span",{className:"ml-2 text-white/60",children:"Loading community..."})]}):o?m?e.jsxs("div",{className:"flex h-64 items-center justify-center",children:[e.jsx(Pe,{className:"h-8 w-8 animate-spin text-rose-500"}),e.jsx("span",{className:"ml-2 text-white/60",children:"Loading dashboard..."})]}):v?e.jsxs("div",{className:"flex h-64 flex-col items-center justify-center",children:[e.jsx(vt,{className:"h-12 w-12 text-rose-500"}),e.jsx("p",{className:"mt-2 text-white/60",children:v}),e.jsxs("button",{onClick:Z,className:"mt-4 flex items-center gap-2 rounded-lg bg-rose-500/20 px-4 py-2 text-rose-400 hover:bg-rose-500/30",children:[e.jsx(Ui,{className:"h-4 w-4"}),"Retry"]})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsx(W1,{isOpen:c,onClose:()=>u(!1),canClose:!f}),e.jsxs("div",{className:"flex flex-col justify-between gap-4 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white sm:text-3xl",children:"Community Dashboard "}),e.jsx("p",{className:"text-white/60",children:o?`${o.districtName}, ${o.state}`:"Stay informed about issues in your community."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:Z,className:"rounded-lg p-2 text-white/60 hover:bg-white/10 hover:text-white",title:"Refresh data",children:e.jsx(Ui,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-violet-500/20 px-4 py-2",children:[e.jsx(Zh,{className:"h-5 w-5 text-violet-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-violet-400",children:i?.username||"Community Member"}),e.jsx("p",{className:"text-xs text-violet-300",children:V?.isProfileComplete?"Profile Complete ":"Complete Profile"})]})]})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(yi,{title:"Area Issues",value:w.areaIssues,icon:wi,color:"rose",trend:"up",trendValue:8}),e.jsx(yi,{title:"Resolution Rate",value:`${w.resolutionRate}%`,icon:Be,color:"emerald",trend:"up",trendValue:5}),e.jsx(yi,{title:"Active Members",value:w.activeMembers.toLocaleString(),icon:os,color:"violet",trend:"up",trendValue:12}),e.jsx(yi,{title:"Issues Resolved",value:w.verifiedCount,icon:si,color:"cyan"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white",children:[e.jsx(Be,{className:"h-5 w-5 text-emerald-400"}),"Pending Verifications"]}),e.jsxs("button",{onClick:()=>t("/dashboard/community/verify"),className:"flex items-center gap-1 text-sm text-rose-400 hover:text-rose-300",children:["View all",e.jsx(Bi,{className:"h-4 w-4"})]})]}),e.jsx("div",{className:"space-y-3",children:M.length>0?M.slice(0,3).map(ee=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-white/10 bg-white/5 p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`rounded-full px-2 py-1 text-xs ${ee.status==="resolved"?"bg-emerald-500/20 text-emerald-400":"bg-amber-500/20 text-amber-400"}`,children:ee.status?.charAt(0).toUpperCase()+ee.status?.slice(1)}),e.jsx("span",{className:"text-sm text-white truncate max-w-[180px]",children:ee.title})]}),e.jsx("button",{onClick:()=>t("/dashboard/community/verify"),className:"rounded-lg bg-rose-500/20 px-3 py-1 text-xs text-rose-400 hover:bg-rose-500/30",children:"Verify"})]},ee._id)):e.jsx("div",{className:"text-center py-4 text-white/40",children:"No pending verifications"})}),e.jsx("p",{className:"mt-4 text-center text-xs text-white/40",children:"Earn reputation points by verifying issue resolutions!"})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white",children:[e.jsx(si,{className:"h-5 w-5 text-rose-400"}),"Top Community Issues"]}),e.jsxs("button",{onClick:()=>t("/dashboard/community/area"),className:"flex items-center gap-1 text-sm text-rose-400 hover:text-rose-300",children:["View all",e.jsx(Bi,{className:"h-4 w-4"})]})]}),e.jsx("div",{className:"space-y-3",children:k.length>0?k.slice(0,3).map((ee,Y)=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-white/10 bg-white/5 p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-rose-500/20 text-xs font-semibold text-rose-400",children:Y+1}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white truncate max-w-[200px]",children:ee.title}),e.jsx("p",{className:"text-xs text-white/40",children:ee.category})]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-rose-400",children:[e.jsx(Kn,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-semibold",children:ee.upvotes?.length||0})]})]},ee._id)):e.jsx("div",{className:"text-center py-4 text-white/40",children:"No issues found"})})]})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsxs("h3",{className:"mb-4 flex items-center gap-2 text-lg font-semibold text-white",children:[e.jsx(Ii,{className:"h-5 w-5 text-amber-400"}),"Recent Community Activity"]}),e.jsx("div",{className:"space-y-3",children:T.length>0?T.map(ee=>{const Y=ee.icon;return e.jsxs("div",{className:"flex items-start gap-3 rounded-lg bg-white/5 p-3",children:[e.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full ${ee.color==="emerald"?"bg-emerald-500/20":ee.color==="rose"?"bg-rose-500/20":ee.color==="violet"?"bg-violet-500/20":"bg-cyan-500/20"}`,children:e.jsx(Y,{className:`h-4 w-4 ${ee.color==="emerald"?"text-emerald-400":ee.color==="rose"?"text-rose-400":ee.color==="violet"?"text-violet-400":"text-cyan-400"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-white",children:ee.message}),e.jsx("p",{className:"text-xs text-white/40",children:ee.time})]})]},ee.id)}):e.jsx("div",{className:"text-center py-4 text-white/40",children:"No recent activity"})})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"District Heatmap"}),e.jsx("p",{className:"text-xs text-white/40",children:"Issue density in your district"})]}),e.jsxs("button",{onClick:()=>t("/dashboard/community/map"),className:"flex items-center gap-1 text-sm text-rose-400 hover:text-rose-300",children:["Open full map",e.jsx(Bi,{className:"h-4 w-4"})]})]}),e.jsx("div",{className:"h-64 rounded-lg overflow-hidden border border-white/10",children:e.jsx(vg,{userRole:"community",defaultCenter:[28.6139,77.209],defaultZoom:12,height:"256px",showControls:!1})}),e.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"rounded-lg bg-rose-500/10 p-3 text-center border border-rose-500/20",children:[e.jsx("p",{className:"text-xs text-rose-400",children:"High Priority"}),e.jsx("p",{className:"text-2xl font-bold text-rose-400",children:E.filter(ee=>ee.priority==="high").length})]}),e.jsxs("div",{className:"rounded-lg bg-amber-500/10 p-3 text-center border border-amber-500/20",children:[e.jsx("p",{className:"text-xs text-amber-400",children:"Medium Priority"}),e.jsx("p",{className:"text-2xl font-bold text-amber-400",children:E.filter(ee=>ee.priority==="medium").length})]}),e.jsxs("div",{className:"rounded-lg bg-emerald-500/10 p-3 text-center border border-emerald-500/20",children:[e.jsx("p",{className:"text-xs text-emerald-400",children:"Low Priority"}),e.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:E.filter(ee=>ee.priority==="low").length})]})]})]})]}):e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[e.jsx(W1,{isOpen:!0,onClose:()=>{},canClose:!1}),e.jsxs("div",{className:"text-center mt-8",children:[e.jsx(Je,{className:"h-16 w-16 text-rose-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:f?"Join a Community":"Select Your Community"}),e.jsx("p",{className:"text-white/60",children:"Select your area to access community features"})]})]})}function J1(){const t=Jt.lazy(()=>GD(()=>import("./CommunityHeatmap-Bn8gmkN1.js"),[]));return e.jsx(Jt.Suspense,{fallback:e.jsx("div",{className:"flex h-64 items-center justify-center",children:e.jsx(Pe,{className:"h-8 w-8 animate-spin text-rose-500"})}),children:e.jsx(t,{})})}function c8(){return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Settings"}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold text-white",children:"Community Profile"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60",children:"Display Name"}),e.jsx("input",{type:"text",defaultValue:"Community Member",className:"mt-1 w-full rounded-lg border border-white/10 bg-white/5 px-4 py-2 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60",children:"Neighborhood"}),e.jsxs("select",{className:"mt-1 w-full rounded-lg border border-white/10 bg-white/5 px-4 py-2 text-white",children:[e.jsx("option",{children:"Downtown"}),e.jsx("option",{children:"Northside"}),e.jsx("option",{children:"Westend"}),e.jsx("option",{children:"Eastside"})]})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold text-white",children:"Notification Preferences"}),e.jsx("div",{className:"space-y-3",children:["New issues in my area","Issue status updates","Verification requests","Community milestones"].map(t=>e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/80",children:t}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-5 w-5 rounded border-white/20 bg-white/5 text-rose-500 focus:ring-rose-500"})]},t))})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold text-white",children:"Privacy Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/80",children:"Show on leaderboard"}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-5 w-5 rounded border-white/20 bg-white/5 text-rose-500"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/80",children:"Anonymous issue reporting"}),e.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-white/20 bg-white/5 text-rose-500"})]})]})]})]})}function u8(){return e.jsx(MO,{children:e.jsx(hg,{role:"community",children:e.jsxs(cf,{children:[e.jsx(qe,{index:!0,element:e.jsx(l8,{})}),e.jsx(qe,{path:"area",element:e.jsx(KD,{})}),e.jsx(qe,{path:"verify",element:e.jsx(WD,{})}),e.jsx(qe,{path:"my-verifications",element:e.jsx(s8,{})}),e.jsx(qe,{path:"meets",element:e.jsx(a8,{})}),e.jsx(qe,{path:"chat",element:e.jsx(o8,{})}),e.jsx(qe,{path:"stats",element:e.jsx(e8,{})}),e.jsx(qe,{path:"map",element:e.jsx(J1,{})}),e.jsx(qe,{path:"heatmap",element:e.jsx(J1,{})}),e.jsx(qe,{path:"settings",element:e.jsx(c8,{})})]})})})}function d8(){return e.jsx(b3,{children:e.jsx(RS,{children:e.jsxs(cf,{children:[e.jsx(qe,{path:"/",element:e.jsx(wO,{})}),e.jsx(qe,{path:"/signup",element:e.jsx(jO,{})}),e.jsx(qe,{path:"/login",element:e.jsx(NO,{})}),e.jsx(qe,{path:"/forgot-password",element:e.jsx(SO,{})}),e.jsx(qe,{path:"/reset-password",element:e.jsx(CO,{})}),e.jsx(qe,{path:"/profile",element:e.jsx(th,{allowedRoles:["citizen","official","community"],children:e.jsx(AO,{})})}),e.jsx(qe,{path:"/dashboard/citizen/*",element:e.jsx(th,{allowedRoles:["citizen"],children:e.jsx(_P,{})})}),e.jsx(qe,{path:"/dashboard/official/*",element:e.jsx(th,{allowedRoles:["official"],children:e.jsx(FD,{})})}),e.jsx(qe,{path:"/dashboard/community/*",element:e.jsx(th,{allowedRoles:["community"],children:e.jsx(u8,{})})}),e.jsx(qe,{path:"*",element:e.jsx(wx,{to:"/",replace:!0})})]})})})}const h8="384429277482-7cp566epmordghan0hkb10hb0fr5hecb.apps.googleusercontent.com";try{["userIssues","issues","issueCache","issueDraft"].forEach(i=>{localStorage.getItem(i)&&(localStorage.removeItem(i),console.log(` Cleaned up localStorage key: ${i}`))})}catch(t){console.warn("localStorage cleanup failed:",t)}o4.createRoot(document.getElementById("root")).render(e.jsx(N.StrictMode,{children:e.jsx(c4,{clientId:h8,children:e.jsx(d8,{})})}));export{yf as F,vg as H,_e as c,$e as i,e as j,N as r};
